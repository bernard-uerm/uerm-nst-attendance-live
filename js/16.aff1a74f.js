(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"0b45":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"row justify-center items-center"},[a("q-form",{ref:"reservationInformation",staticClass:"q-gutter-md",on:{submit:e.searchReferral}},[a("div",{staticClass:"column q-pa-lg"},[a("div",{staticClass:"flex flex-center"},[a("q-card",[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h4 text-white text-center text-weight-thin"},[e._v("\n              QR CODE GENERATOR FOR REFERRALS\n            ")])]),a("q-card-section",[a("div",[a("q-select",{staticClass:"q-mt-lg",attrs:{square:"",outlined:"",options:e.options,label:"Select Category User Type"},model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}})],1)]),a("q-card-section",["Employee"==e.userType?a("div",[a("q-input",{ref:"referringCategoryID",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Referral Category ID Number / Employee ID Number",rules:[function(e){return e&&e.length>0||"Please enter your Referral Category ID Number / Employee ID Number"}]},model:{value:e.searchCriteria.referringCategoryID,callback:function(t){e.$set(e.searchCriteria,"referringCategoryID",t)},expression:"searchCriteria.referringCategoryID"}})],1):"Alumni"==e.userType||"Corporate"==e.userType?a("div",[a("q-input",{ref:"emailAddress",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Email Address",rules:[function(e){return e&&e.length>0||"Please enter your Referral Email Address"},e.isValidEmail]},model:{value:e.searchCriteria.email,callback:function(t){e.$set(e.searchCriteria,"email",t)},expression:"searchCriteria.email"}})],1):e._e()]),null!==e.userType?a("q-card-actions",{staticClass:"flex flex-center"},[a("div",[a("q-btn-group",[a("q-btn",{staticStyle:{width:"160px"},attrs:{type:"submit",loading:e.searchLoading,icon:"search",color:"primary"},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                    SEARCHING...\n                  ")]},proxy:!0}],null,!1,715624541)},[a("span",{staticClass:"q-pl-md"},[e._v("SEARCH")])])],1)],1)]):e._e(),a("q-card-section",[e.preRegisteredVaccinee.length>0?a("div",[a("div",{staticClass:"row justify-center"},e._l(e.preRegisteredVaccinee,(function(t,r){return a("div",{key:r},[a("div",{staticClass:"text-center text-weight-bold q-pa-md"},[e._v("\n                    Your QR Code: "),a("br"),e._v(e._s(t.qrCode)+"\n                  ")]),a("div",{staticClass:"flex flex-center"},[a("vrcode",{staticClass:"q-pa-md",attrs:{value:""+t.qrCode,options:{size:200,level:"H",foreground:"#1976D2"},logo:"https://pbs.twimg.com/profile_images/1239209661074518017/xzwwPbsJ_400x400.jpg"}})],1),a("div",{staticClass:"text-center text-weight-bold"},[e._v("\n                    "+e._s(t.lastName)+", "+e._s(t.firstName)+" "+e._s(t.middleName)+"\n                  ")]),t.Cancelled?a("div",{staticClass:"text-center text-weight-bold q-pt-md"},[a("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                      Reservation for this household member was cancelled\n                    ")],1)],1):e._e()])})),0)]):e._e(),0===e.searchMessage.vaccineeFound?a("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n              NO RECORD FOUND\n            ")],1):e._e()],1)],1)],1)])])],1)},s=[],i=a("ded3"),n=a.n(i),l=a("14aa"),o=a("2f62"),c={components:{vrcode:l["a"]},mounted(){},data(){return{userType:null,searchLoading:!1,options:["Employee","Alumni","Corporate"],searchCriteria:{email:null,referringCategoryID:null,searchType:"qrCodeGenerator",qrCode:null,categoryIDNumber:null,lastName:null},searchMessage:{}}},watch:{async userType(e){this.setInitValues(),await this.$store.dispatch("setInitValuesVAS"),await this.$store.dispatch("setCommunityCategory",e.toLowerCase())}},computed:n()({},Object(o["b"])({preRegisteredVaccinee:"preRegisteredVaccinee",communityCategory:"communityCategory"})),methods:{setInitValues(){this.searchCriteria.email=null,this.searchCriteria.referringCategoryID=null,this.searchMessage=[]},async searchReferral(){this.searchLoading=!0;const e=await this.$store.dispatch("searchPreRegistrationProfile",this.searchCriteria);console.log(e),this.searchMessage=e,this.searchLoading=!1},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"},async goBack(){this.setInitValues(),"employee"===this.communityCategory?this.$router.push("/vaccination-community/employee"):this.$router.push("/vaccination-community/alumni")}}},u=c,d=a("2877"),m=a("9989"),p=a("0378"),h=a("f09f"),g=a("a370"),C=a("ddd8"),y=a("27f9"),f=a("4b7e"),v=a("e7a9"),b=a("9c40"),q=a("9149"),x=a("54e1"),_=a("0016"),w=a("eebe"),R=a.n(w),I=Object(d["a"])(u,r,s,!1,null,null,null);t["default"]=I.exports;R()(I,"components",{QPage:m["a"],QForm:p["a"],QCard:h["a"],QCardSection:g["a"],QSelect:C["a"],QInput:y["a"],QCardActions:f["a"],QBtnGroup:v["a"],QBtn:b["a"],QSpinnerHourglass:q["a"],QBanner:x["a"],QIcon:_["a"]})}}]);