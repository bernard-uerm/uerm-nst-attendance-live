(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"76f4":function(e,t,o){},"827b":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",[o("div",[o("corporate")],1)])},r=[],a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("q-page",[o("div",{staticClass:"column q-pa-lg"},[o("div",{staticClass:"row justify-center"},[o("div",{staticClass:"col-lg-8 col-xs-12 col-sm-12"},[o("q-card",{staticClass:"shadow-24",staticStyle:{"max-height":"auto"},attrs:{square:""}},[o("q-card-section",[o("q-card",[o("q-card-section",{staticClass:"bg-primary"},[o("div",{staticClass:"text-h5 text-center text-weight-thin text-white"},[e._v("\n                    UERM VACCINE QUANTITY RESERVATION FORM FOR CORPORATE\n                  ")])]),e.loadingForm||0!=e.networkMessage.length?e._e():o("div",[o("q-card-section",[o("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[o("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Vaccinee Information",group:"somegroup","header-class":"bg-primary text-white","default-opened":""},model:{value:e.expandedItem1,callback:function(t){e.expandedItem1=t},expression:"expandedItem1"}},[o("q-card",[o("q-form",{ref:"vaccineeInformation",staticClass:"q-gutter-md"},[o("q-card-section",[o("q-input",{attrs:{outlined:"",square:"",type:"text",hint:"Company ID, Driver's License, UMID Card, Voter's ID, OSCA, Student ID, etc.",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category ID Number"}],label:"Category ID Number",autocomplete:"off"},on:{focusout:function(t){return e.searchCategoryID(e.corporateInformation.categoryIDNumber)}},model:{value:e.corporateInformation.categoryIDNumber,callback:function(t){e.$set(e.corporateInformation,"categoryIDNumber",t)},expression:"corporateInformation.categoryIDNumber"}}),null!=e.corporateInformation.categoryMessage?o("div",[e.corporateInformation.categoryMessage.includes("ERROR:")?o("div",{staticClass:"q-pa-md"},[o("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                    "+e._s(e.corporateInformation.categoryMessage.replace("ERROR:",""))+"\n                                  ")],1)],1):o("div",{staticClass:"q-pa-md"},[o("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"check",size:"lg"}}),e._v("\n                                    "+e._s(e.corporateInformation.categoryMessage.replace("SUCCESS:",""))+"\n                                  ")],1)],1)]):e._e(),o("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Philhealth ID",hint:"If Philhealth not available, you may enter your Parent's Philhealth",color:"primary",autocomplete:"off"},model:{value:e.corporateInformation.philhealthIDNumber,callback:function(t){e.$set(e.corporateInformation,"philhealthIDNumber",t)},expression:"corporateInformation.philhealthIDNumber"}}),o("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}}),e._v("\n                                If you do not have Philhealth ID number, you may not be covered  by Indemnity law\n                              ")],1),o("q-input",{attrs:{outlined:"",square:"",type:"text",label:"PWD ID",hint:"For PWD",color:"primary",autocomplete:"off"},model:{value:e.corporateInformation.pwdID,callback:function(t){e.$set(e.corporateInformation,"pwdID",t)},expression:"corporateInformation.pwdID"}}),o("q-input",{ref:"firstName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"First Name",rules:[function(e){return e&&e.length>0||"Please enter your First Name"}],autocomplete:"off"},model:{value:e.corporateInformation.firstName,callback:function(t){e.$set(e.corporateInformation,"firstName",t)},expression:"corporateInformation.firstName"}}),o("q-input",{staticClass:"q-pb-md",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Middle Name",autocomplete:"off"},model:{value:e.corporateInformation.middleName,callback:function(t){e.$set(e.corporateInformation,"middleName",t)},expression:"corporateInformation.middleName"}}),o("q-input",{ref:"lastName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Last Name",rules:[function(e){return e&&e.length>0||"Please enter your Last Name"}],autocomplete:"off"},model:{value:e.corporateInformation.lastName,callback:function(t){e.$set(e.corporateInformation,"lastName",t)},expression:"corporateInformation.lastName"}}),o("q-input",{ref:"email",attrs:{outlined:"",square:"",type:"email",color:"primary",label:"Email",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Email"},e.isValidEmail]},model:{value:e.corporateInformation.email,callback:function(t){e.$set(e.corporateInformation,"email",t)},expression:"corporateInformation.email"}}),o("q-input",{ref:"contactNumber",attrs:{outlined:"",square:"",type:"number",color:"primary",label:"Contact Number",autocomplete:"off",hint:"Your Contact Number (09*********)",rules:[function(e){return e&&e.length>0||"Please enter your Contact Number"},function(e){return e.length<=11||"Please enter valid contact number"}]},model:{value:e.corporateInformation.contactNumber,callback:function(t){e.$set(e.corporateInformation,"contactNumber",t)},expression:"corporateInformation.contactNumber"}}),o("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Gender",options:e.genderListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},on:{filter:e.filterGender},scopedSlots:e._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.corporateInformation.gender,callback:function(t){e.$set(e.corporateInformation,"gender",t)},expression:"corporateInformation.gender"}}),o("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Civil Status",options:e.civilStatusListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Civil Status"}]},on:{filter:e.filterCivilStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.corporateInformation.civilStatus,callback:function(t){e.$set(e.corporateInformation,"civilStatus",t)},expression:"corporateInformation.civilStatus"}}),o("q-input",{ref:"birthdate",attrs:{outlined:"",square:"",mask:"date",rules:["date"],label:"Birthdate",hint:"Your Birthdate (YYYY/MM/DD)",autocomplete:"off"},on:{focusout:function(t){return e.checkBirthdate(e.corporateInformation.birthdate)}},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{model:{value:e.corporateInformation.birthdate,callback:function(t){e.$set(e.corporateInformation,"birthdate",t)},expression:"corporateInformation.birthdate"}},[o("div",{staticClass:"row items-center justify-end"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,317468765),model:{value:e.corporateInformation.birthdate,callback:function(t){e.$set(e.corporateInformation,"birthdate",t)},expression:"corporateInformation.birthdate"}}),o("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[o("div",{staticClass:"row q-pa-sm"},[o("div",{staticClass:"col-1"},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}})],1),o("div",{staticClass:"col-11"},[e._v("\n                                    Eligibility of vaccination varies from 18 years old and above. Those that are 17 years old that are going to be 18 years old this year are also eligible.\n                                  ")])])]),null!=e.corporateInformation.birthdayMessage?o("div",[e.corporateInformation.birthdayMessage.includes("ERROR:")?o("div",{staticClass:"q-pa-md"},[o("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                    "+e._s(e.corporateInformation.birthdayMessage.replace("ERROR:",""))+"\n                                  ")],1)],1):o("div",{staticClass:"q-pa-md"},[o("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"check",size:"lg"}}),e._v("\n                                    "+e._s(e.corporateInformation.birthdayMessage.replace("SUCCESS:",""))+"\n                                  ")],1)],1)]):e._e(),o("q-input",{ref:"fullAddress",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Full Address",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Full Address"}]},model:{value:e.corporateInformation.fullAddress,callback:function(t){e.$set(e.corporateInformation,"fullAddress",t)},expression:"corporateInformation.fullAddress"}}),o("q-select",{ref:"region",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.corporateInformation.region,callback:function(t){e.$set(e.corporateInformation,"region",t)},expression:"corporateInformation.region"}}),o("q-select",{ref:"province",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.corporateInformation.province,callback:function(t){e.$set(e.corporateInformation,"province",t)},expression:"corporateInformation.province"}}),o("q-select",{ref:"city",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.corporateInformation.city,callback:function(t){e.$set(e.corporateInformation,"city",t)},expression:"corporateInformation.city"}}),o("q-input",{ref:"barangay",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Barangay",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Barangay"}]},model:{value:e.corporateInformation.barangay,callback:function(t){e.$set(e.corporateInformation,"barangay",t)},expression:"corporateInformation.barangay"}}),o("q-select",{attrs:{outlined:"",square:"",multiple:"",options:e.allergiesLists,"use-chips":"","stack-label":"",label:"Allergies"},model:{value:e.corporateInformation.allergies,callback:function(t){e.$set(e.corporateInformation,"allergies",t)},expression:"corporateInformation.allergies"}}),o("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.comorbiditiesLists,"use-chips":"","stack-label":"",label:"Comorbidities"},model:{value:e.corporateInformation.comorbidities,callback:function(t){e.$set(e.corporateInformation,"comorbidities",t)},expression:"corporateInformation.comorbidities"}})],1),e.householdErrorMessage.length>0?o("q-card-section",{staticClass:"text-center flex flex-center"},[o("q-banner",{staticClass:"text-white bg-red",staticStyle:{width:"50%"},attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                "+e._s(e.householdErrorMessage)+"\n                              ")],1)],1):e._e(),o("q-card-actions",{staticClass:"flex flex-center"},[o("q-btn",{staticStyle:{width:"150px"},attrs:{loading:e.employeeLoading,disable:e.disableEmployeeButton,icon:"redo",color:"primary"},on:{click:function(t){return e.continueExpansion("expandedItem1")}},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                  Checking...\n                                ")]},proxy:!0}],null,!1,4053472789)},[o("span",{staticClass:"q-pl-md"},[e._v("Continue")])])],1)],1)],1)],1),o("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Company Information",group:"somegroup",disable:e.disableElement2,"header-class":"bg-primary text-white"},model:{value:e.expandedItem2,callback:function(t){e.expandedItem2=t},expression:"expandedItem2"}},[o("q-card",[o("q-form",{ref:"companyInformation",staticClass:"q-gutter-md"},[o("q-card-section",[o("div",{staticClass:"justify-center"},[o("q-select",{ref:"companyName",attrs:{outlined:"",square:"",disable:"","use-input":"","input-debounce":"0",label:"Company",options:e.companyListOptions,hint:"",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Company"}]},on:{filter:e.filterCompanies},scopedSlots:e._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[e._v("\n                                        No results\n                                      ")])],1)]},proxy:!0}],null,!1,37367951),model:{value:e.corporateInformation.companyName,callback:function(t){e.$set(e.corporateInformation,"companyName",t)},expression:"corporateInformation.companyName"}}),o("q-input",{ref:"companyProvince",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Province",hint:"",disable:"",autocomplete:"off"},model:{value:e.corporateInformation.companyProvince,callback:function(t){e.$set(e.corporateInformation,"companyProvince",t)},expression:"corporateInformation.companyProvince"}}),o("q-input",{ref:"companyContactNumber",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Contact Number",hint:"",disable:"",autocomplete:"off"},model:{value:e.corporateInformation.companyContactNumber,callback:function(t){e.$set(e.corporateInformation,"companyContactNumber",t)},expression:"corporateInformation.companyContactNumber"}}),o("q-input",{ref:"companyAddress",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Contact Address",hint:"",disable:"",autocomplete:"off"},model:{value:e.corporateInformation.companyAddress,callback:function(t){e.$set(e.corporateInformation,"companyAddress",t)},expression:"corporateInformation.companyAddress"}})],1)]),o("q-card-actions",{staticClass:"flex flex-center"},[o("q-btn",{staticStyle:{width:"150px"},attrs:{loading:e.employeeLoading,disable:e.disableEmployeeButton,icon:"redo",color:"primary"},on:{click:function(t){return e.continueExpansion("expandedItem2")}},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                  Checking...\n                                ")]},proxy:!0}],null,!1,4053472789)},[o("span",{staticClass:"q-pl-md"},[e._v("Continue")])])],1)],1)],1)],1),o("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Submit my responses",group:"somegroup",disable:e.disableElement3,"header-class":"bg-primary text-white"},model:{value:e.expandedItem3,callback:function(t){e.expandedItem3=t},expression:"expandedItem3"}},[o("q-form",{ref:"reservationInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitReservationForm}},[o("q-card",[o("q-card-section",{staticClass:"text-justify"},[o("q-checkbox",{attrs:{size:"xl",val:"xl",label:e.agreement},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}}),e.agreeError?o("q-banner",{staticClass:"text-white bg-red q-mt-md",attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                Please accept the terms and conditions.\n                              ")],1):e._e()],1),o("q-card-actions",{staticClass:"flex flex-center"},[o("q-btn",{staticClass:"q-ma-md",staticStyle:{width:"180px"},attrs:{type:"submit",loading:e.formLoading,icon:"save",color:"primary"},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                  Submitting..\n                                ")]},proxy:!0}],null,!1,459560893)},[o("span",{staticClass:"q-pl-md"},[e._v("Submit")])])],1),o("q-card-section",{staticClass:"flex flex-center"},[e.serverError.length>0?o("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[o("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                Error Submitting: "+e._s(e.serverError)+"\n                              ")],1):e._e()],1)],1)],1)],1)],1)],1)],1),e.loadingForm?o("div",[o("q-card-section",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 col-sm-12 flex flex-center"},[o("q-spinner-cube",{attrs:{color:"primary",size:"5.5em"}})],1),o("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 col-sm-12 flex flex-center q-pt-md"},[o("div",{staticClass:"text-h5"},[e._v("\n                          CHECKING IF THIS DEVICE HAVE ACCESSIBILITY, PLEASE WAIT...\n                        ")])])])])],1):e._e(),!e.loadingForm&&e.networkMessage.length>0?o("div",[o("q-card-section",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-12 flex flex-center q-pt-md"},[o("q-banner",{staticClass:"text-white bg-red",attrs:{dense:"","inline-actions":""},scopedSlots:e._u([{key:"avatar",fn:function(){return[o("q-icon",{attrs:{name:"signal_wifi_off",color:"white"}})]},proxy:!0}],null,!1,2512574537)},[o("div",{staticClass:"text-h6"},[e._v("\n                            "+e._s(this.networkMessage)+"\n                          ")])])],1)])])],1):e._e()],1)],1)],1)],1)])])])],1)},s=[],n=o("ded3"),l=o.n(n),c=(o("ddb0"),o("498a"),o("2f62")),m={name:"VaccineCorporate",data(){return{step:1,houseHoldStep:1,numberOfPeople:null,expandedItem1:!0,expandedItem2:!1,expandedItem3:!1,expandedItem4:!1,disableElement2:!0,disableElement3:!0,disableElement4:!0,disableEmployeeButton:null,employeeLoading:!1,householdErrorMessage:[],batchOptions:[],batchLists:[],regionListOptions:[],regionLists:[],provincesListOptions:this.provinces,provincesLists:this.provinces,citiesListOptions:this.cities,citiesLists:this.cities,loadingForm:null,networkMessage:[],companyListOptions:this.companies,companyLists:this.companies,corporateInformation:{categoryIDNumber:null,philhealthIDNumber:null,pwdID:null,firstName:null,middleName:null,lastName:null,email:null,contactNumber:null,birthdate:null,gender:null,civilStatus:null,fullAddress:null,region:null,province:null,provinceRaw:null,city:null,barangay:null,comorbidities:null,allergies:null,categoryMessage:null,birthdayMessage:null,companyName:null,companyProvince:null,companyAddress:null,companyContactNumber:null},editStatus:!1,categoryListOptions:this.categoryList,categoryIDOptions:this.categoryID,employeeErrorMessage:null,errorFormMessage:[],formLoading:null,rawComorbidities:null,rawAllergies:null,genderListOptions:null,genderLists:null,civilStatusListOptions:null,civilStatusLists:null,comorbiditiesLists:null,allergiesLists:null,populateHouseholdCategory:"No",includeToReservation:"No",householdLoading:!1,submitHouseholdInfo:!0,serverError:[],agree:!1,agreeError:!1,agreement:"I agree that by proceeding to answer this, I will submit all necessary data which, to the best of knowledge, are true and correct. I authorized University of the East Ramon Magsaysay Memorial Medical Center, Inc., to collect and process the data indicated hereto for purpose of effecting control of the COVID-19 infection. I understand and acknowledge that my personal information is protected by RA 10173 Data Privacy Act of 2012 , and that I am required by RA 11332 Mandatory Reporting of Notifiable Diseases and Health Events of Public Health Concern Act to provide truthfull information."}},computed:l()({},Object(c["b"])({employeeCategory:"employeeCategory",employeeInformation:"employeeInformation",allergies:"allergies",comorbidities:"comorbidities",gender:"gender",civilStatus:"civilStatus",saveHouseholdMembers:"saveHouseholdMembers",householdInfo:"householdInfo",region:"region",provinces:"provinces",cities:"cities",hashUser:"hashUser",rawCompanies:"corporate/rawCompanies",companies:"corporate/companies",preRegisteredList:"corporate/preRegisteredList"})),async mounted(){this.checkLocalNetwork()},watch:{corporateInformation:{async handler(e){this.formatAddressAndCompany(e)},deep:!0},provinces(e){e.length>0&&this.editStatus&&null===this.corporateInformation.province&&this.updateVaccinationForm()},cities(e){e.length>0&&this.editStatus&&null===this.corporateInformation.city&&this.updateVaccinationForm()},populateHouseholdCategory(e){if("No"===e)for(var t=0;t<this.householdInformation.length;t++)this.householdInformation[t].categoryIDNumber=null,this.householdInformation[t].categoryMessage=null,this.householdErrorMessage=[];else for(var o=0;o<this.householdInformation.length;o++){const e=o+1;var i=new Date,r=i.getFullYear(),a=i.getMonth()+1,s=i.getDate(),n=i.getHours(),l=i.getMinutes();1===a.toString().length&&(a="0"+a),1===s.toString().length&&(s="0"+s),1===n.toString().length&&(n="0"+n),1===l.toString().length&&(l="0"+l);var c=r+a+s+n+l;this.householdInformation[o].categoryIDNumber=`${this.corporateInformation.lastName}-${this.corporateInformation.batch}-${c}-${e}`}}},methods:{async checkLocalNetwork(){this.loadingForm=!0;var e=this.$q.cookies.has("reservationHashKey");if(await this.$store.dispatch("getHashKey",this.$route.params.hash),this.hashUser.length>0)if(this.hashUser[0].Accessed)e?this.hashUser[0].Submitted?(this.loadingForm=!1,this.networkMessage="YOU HAVE NO ACCESS TO THE RESERVATION APPLICATION."):(await this.formatMainForm(),await this.checkEditStatus(),this.loadingForm=!1):(this.loadingForm=!1,this.networkMessage="YOU HAVE NO ACCESS TO THE RESERVATION APPLICATION.");else{await this.checkEditStatus();const e={email:this.hashUser[0].EmailAddress,mobileNumber:this.hashUser[0].MobileNumber,accessed:"1",submitted:"0",reservationType:this.hashUser[0].ReferringUserType,hashKey:this.hashUser[0].HashKey};await this.$store.dispatch("updateReservationAccess",e),await this.$store.dispatch("setHashCookie",this.hashUser[0].HashKey),this.formatMainForm(),this.loadingForm=!1}else this.loadingForm=!1,this.networkMessage="YOU HAVE NO ACCESS TO THE RESERVATION APPLICATION."},async checkEditStatus(){const e={company:this.$route.params.company.replaceAll(" ","_"),hashKey:this.$route.params.hash};var t=await this.$store.dispatch("corporate/getPreregisteredProfile",e);1===t.vaccineeFound&&(this.editStatus=!0,await this.formatPersonalInformation())},async formatPersonalInformation(){const e=this.gender.filter((e=>e.code===this.preRegisteredList[0].Sex)),t=this.civilStatus.filter((e=>e.code===this.preRegisteredList[0].Civil_Status)),o=this.region.filter((e=>e.code===this.preRegisteredList[0].Region));this.corporateInformation.categoryIDNumber=this.preRegisteredList[0].Category_ID_Number,this.corporateInformation.philhealthIDNumber=this.preRegisteredList[0].PhilHealth_ID,this.corporateInformation.pwdID=this.preRegisteredList[0].PWD_ID,this.corporateInformation.firstName=this.preRegisteredList[0].First_Name,this.corporateInformation.middleName=this.preRegisteredList[0].Middle_Name,this.corporateInformation.lastName=this.preRegisteredList[0].Last_Name,this.corporateInformation.email=this.preRegisteredList[0].ReferringEmployeeEmail,this.corporateInformation.contactNumber=this.preRegisteredList[0].Contact_Number,this.corporateInformation.gender=e[0].name;const i=new Date(this.preRegisteredList[0].Birthdate),r=new Intl.DateTimeFormat("en",{year:"numeric"}).format(i),a=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(i),s=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(i),n=`${r}/${a}/${s}`;this.corporateInformation.birthdate=n,this.corporateInformation.civilStatus=t[0].name,this.corporateInformation.fullAddress=this.preRegisteredList[0].Full_Address,this.corporateInformation.region=o[0].name},async updateVaccinationForm(){if(""!==this.provinces){const e=this.provinces.filter((e=>e.Province===this.preRegisteredList[0].Province));"NationalCapitalRegion"===e[0].Region?this.corporateInformation.province=e[0].provinceWithCity:this.corporateInformation.province=e[0].name}if(""!==this.cities){const e=this.cities.filter((e=>e.TownCity===this.preRegisteredList[0].Municipality_City));this.corporateInformation.city=e[0].name}var e=[];for(var t of this.preRegisteredList[0].comorbiditiesCompiled)"01_Yes"===t.result&&e.push(t.name);var o=[];for(var i of this.preRegisteredList[0].allergiesCompiled)"01_Yes"===i.result&&o.push(i.name);this.corporateInformation.barangay=this.preRegisteredList[0].Barangay,this.corporateInformation.comorbidities=e,this.corporateInformation.allergies=o},async formatMainForm(){for(var e=[],t=0;t<this.gender.length;t++)e[t]=this.gender[t].name;this.genderLists=e;for(var o=[],i=0;i<this.civilStatus.length;i++)o[i]=this.civilStatus[i].name;this.civilStatusLists=o;for(var r=[],a=0;a<this.comorbidities.length;a++)r[a]=this.comorbidities[a].name;this.comorbiditiesLists=r;for(var s=[],n=0;n<this.allergies.length;n++)s[n]=this.allergies[n].name;this.allergiesLists=s;for(var l=[],c=0;c<this.region.length;c++)l[c]=this.region[c].name;this.regionLists=l;for(var m=[],p=2024,h=1950;h<=p;h++)m.push(h);this.batchLists=m},async formatAddressAndCompany(e){if(e.batch=""+e.batch,null!==e.region){await this.$store.dispatch("getProvinces",e.region);for(var t=[],o=0;o<this.provinces.length;o++)"National Capital Region"===e.region?t[o]=this.provinces[o].provinceWithCity:t[o]=this.provinces[o].name;if(this.provincesListOptions=t,this.provincesLists=t,0!==this.provinces.length){var i="";if("National Capital Region"===e.region){var r=this.provinces.filter((t=>t.provinceWithCity===e.province));r.length>0&&(i=this.provinces.filter((e=>e.name===r[0].name)))}else i=this.provinces.filter((t=>t.name===e.province));if(void 0!==i&&i.length>0){await this.$store.dispatch("getCities",i[0].shortCode);for(var a=[],s=0;s<this.cities.length;s++)a[s]=this.cities[s].name;this.citiesListOptions=a,this.citiesLists=a}}}await this.$store.dispatch("corporate/getCompanies");const n=this.rawCompanies.filter((e=>e.ShortCode===this.$route.params.company));void 0!==n&&(e.companyName=n[0].Name,e.companyProvince=n[0].Province,e.companyAddress=n[0].Address,e.companyContactNumber=n[0].ContactNumber)},forwardStep(e){this.step=e},backwardStep(e){this.step=e},async continueExpansion(e){"expandedItem1"===e?this.$refs.vaccineeInformation.validate().then((async e=>{if(e){if(this.employeeLoading=!0,await this.checkBirthdate(this.corporateInformation.birthdate),await this.searchCategoryID(this.corporateInformation.categoryIDNumber),null!==this.corporateInformation.categoryMessage&&this.corporateInformation.categoryMessage.includes("ERROR:"))return this.householdErrorMessage="A Category ID of your household member exists.",void(this.employeeLoading=!1);if(null!==this.corporateInformation.birthdayMessage&&this.corporateInformation.birthdayMessage.includes("ERROR:"))return this.householdErrorMessage="The age of your household member is not eligible",void(this.employeeLoading=!1);this.householdErrorMessage=[],this.employeeLoading=!1,this.disableElement2=!1,this.expandedItem2=!0}})):"expandedItem2"===e?this.$refs.companyInformation.validate().then((async e=>{e&&(this.expandedItem3=!0,this.disableElement3=!1)})):"expandedItem3"===e&&(this.submitHouseholdInfo=!0)},checkBirthdate(e){if(null!==this.corporateInformation.birthdate){const e=this.corporateInformation.birthdate;var t=new Date((new Date).getFullYear(),11,31),o=new Date(e),i=t.getFullYear()-o.getFullYear(),r=t.getMonth()-o.getMonth();if((r<0||0===r&&t.getDate()<o.getDate())&&i--,i>=17){var a=t.getMonth(),s=t.getDate(),n=new Date(parseInt(e.substring(0,4)),parseInt(e.substring(5,7))-1,parseInt(e.substring(8,10))),l=n.getMonth(),c=n.getDate(),m=l.toString()+c.toString(),p=a.toString()+s.toString();m===p?this.corporateInformation.birthdayMessage=`SUCCESS: You are ${i} years old and is eligible for vaccination!`:17===i?m<p?Number(m)>0&&Number(m)<99?this.corporateInformation.birthdayMessage="ERROR: Sorry you are not eligible!":this.corporateInformation.birthdayMessage="SUCCESS: You are eligible!":this.corporateInformation.birthdayMessage=`ERROR: Sorry, you're ${i} years old and is not eligible!`:this.corporateInformation.birthdayMessage=i>=18?"SUCCESS: You are eligible!":`ERROR: Sorry, you are ${i} years old and is not eligible!`}else this.corporateInformation.birthdayMessage=`ERROR: Sorry, you're ${i} years old and is not eligible!`}},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"},async searchEmployeeID(e){if(null!==e&&""!==e){const t=await this.$store.dispatch("checkEmployee",e);return 1===t.employeeFound?(this.employeeErrorMessage=null,this.disableEmployeeButton=!1,t.employeeFound):(this.expandedItem3=!1,this.disableElement3=!0,this.employeeErrorMessage="Invalid Employee. Please contact the UERM COVID Vaccine Team.",this.employeeLoading=!1,void(this.disableEmployeeButton=!0))}},async searchCategoryID(e){if(!this.editStatus&&null!==this.corporateInformation.categoryIDNumber)if(""!==this.corporateInformation.categoryIDNumber){const t=await this.$store.dispatch("checkEmployee",e);if(0!==t.employeeFound)return this.corporateInformation.categoryMessage=`ERROR: ${e} is already on our record. Please enter a different Category ID Number.`,this.expandedItem2=!1,void(this.disableElement2=!0);{const t=await this.$store.dispatch("checkVaccineeForApproval",e);if(0!==t.employeeFound)return this.corporateInformation.categoryMessage=`ERROR: ${e} is already on our record. Please enter a different Category ID Number.`,this.expandedItem2=!1,void(this.disableElement2=!0);this.corporateInformation.categoryMessage=`SUCCESS: ${e} is available and not on our record`}}else this.corporateInformation.categoryMessage=null},onSubmitReservationForm(){this.editStatus?this.updateReservationForm():this.saveReservationForm()},async updateReservationForm(){if(!this.agree)return this.agreeError=!0,void(this.formLoading=!1);this.agreeError=!1,this.formLoading=!0;const e=new Date(this.corporateInformation.birthdate),t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),o=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(e),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e),r=`${o}/${i}/${t}`;var a=this.cities.filter((e=>e.name===this.corporateInformation.city.trim())),s=this.civilStatus.filter((e=>e.name===this.corporateInformation.civilStatus)),n=this.gender.filter((e=>e.name===this.corporateInformation.gender)),l=this.region.filter((e=>e.name===this.corporateInformation.region.trim())),c="";if("National Capital Region"===this.corporateInformation.region){var m=this.provinces.filter((e=>e.provinceWithCity===this.corporateInformation.province));m.length>0&&(c=this.provinces.filter((e=>e.name===m[0].name)))}else c=this.provinces.filter((e=>e.name===this.corporateInformation.province));var p=`UERM-${this.corporateInformation.categoryIDNumber}-CORPORATE-${this.$route.params.company.replaceAll("_","-")}`,h={category:this.preRegisteredList[0].Category,categoryID:this.preRegisteredList[0].Category_ID,categoryIDNumber:this.corporateInformation.categoryIDNumber,philhealthID:this.corporateInformation.philhealthIDNumber,pwdID:this.corporateInformation.pwdID,lastName:this.corporateInformation.lastName,firstName:this.corporateInformation.firstName,middleName:this.corporateInformation.middleName,gender:n[0].code,birthdate:r,civilStatus:s[0].code,contactNumber:this.corporateInformation.contactNumber,fullAddress:this.corporateInformation.fullAddress,region:l[0].code,province:c[0].Province,city:a[0].TownCity,barangay:this.corporateInformation.barangay,employmentStatus:this.preRegisteredList[0].Employment_Status,directCovid:this.preRegisteredList[0].Direct_Interaction_With_COVID_Patient,profession:this.preRegisteredList[0].Profession,drugAllergy:this.corporateInformation.allergies.includes("Drug")?"01_Yes":"02_No",foodAllergy:this.corporateInformation.allergies.includes("Food")?"01_Yes":"02_No",insectAllergy:this.corporateInformation.allergies.includes("Insect")?"01_Yes":"02_No",latexAllergy:this.corporateInformation.allergies.includes("Latex")?"01_Yes":"02_No",moldAllergy:this.corporateInformation.allergies.includes("Mold")?"01_Yes":"02_No",petAllergy:this.corporateInformation.allergies.includes("Pet")?"01_Yes":"02_No",pollenAllergy:this.corporateInformation.allergies.includes("Pollen")?"01_Yes":"02_No",withComorbidity:this.corporateInformation.comorbidities.length>0?"01_Yes":"02_No",hypertension:this.corporateInformation.comorbidities.includes("Hypertension")?"01_Yes":"02_No",heartDisease:this.corporateInformation.comorbidities.includes("Heart Disease")?"01_Yes":"02_No",kidneyDisease:this.corporateInformation.comorbidities.includes("Kidney Disease")?"01_Yes":"02_No",diabetesMellitus:this.corporateInformation.comorbidities.includes("Diabetes Mellitus")?"01_Yes":"02_No",bronchialAsthma:this.corporateInformation.comorbidities.includes("Bronchial Asthma")?"01_Yes":"02_No",immunodeficiencyStatus:this.corporateInformation.comorbidities.includes("Immunodeficiency State")?"01_Yes":"02_No",cancer:this.corporateInformation.comorbidities.includes("Cancer")?"01_Yes":"02_No",others:this.corporateInformation.comorbidities.includes("Others")?"01_Yes":"02_No",patientDiagnosedWithCovid:this.preRegisteredList[0].Patient_Was_Diagnosed_With_COVID_19,classificationOfCovid:this.preRegisteredList[0].Classification_Of_COVID_19,dateOfCovid:this.preRegisteredList[0].Date_Of_First_Positive_Result_Specimen_Collection_Date,providedConsent:this.preRegisteredList[0].Provided_Electronic_Informed_Consent,householdMemberCategory:this.preRegisteredList[0].HouseholdMemberCategory,qrCode:p,cancelled:0,corporateUpdate:!0,vaccineeID:this.preRegisteredList[0].Id},d=await this.$store.dispatch("updatePreregistrationInfo",h);if(void 0!==d.message)if(this.hashUser[0].submited)this.formLoading=!1,this.serverError="Error saving reservation";else{const e={email:this.hashUser[0].EmailAddress,mobileNumber:this.hashUser[0].MobileNumber,accessed:"1",submitted:"1",reservationType:this.hashUser[0].ReferringUserType,hashKey:this.hashUser[0].HashKey},t=await this.$store.dispatch("updateReservationAccess",e);void 0!==t.message?this.$router.push("/vaccination-corporate-status"):this.formLoading=!1}},async saveReservationForm(){var e=this.comorbidities,t=this.allergies,o=this.region,i=this.provinces,r=this.cities;this.$refs.reservationInformation.validate().then((async a=>{if(a)try{if(this.submitHouseholdInfo){if(this.formLoading=!0,!this.agree)return this.agreeError=!0,void(this.formLoading=!1);this.agreeError=!1;var s=[];void 0!==this.corporateInformation.comorbidities&&null!==this.corporateInformation.comorbidities&&this.corporateInformation.comorbidities.forEach((function(t,o){const i=e.filter((e=>e.name===t));s.push(i[0].code)}));var n=[];void 0!==this.corporateInformation.allergies&&null!==this.corporateInformation.allergies&&this.corporateInformation.allergies.forEach((function(e,o){const i=t.filter((t=>t.name===e));n.push(i[0].code)}));var l=`UERM-${this.corporateInformation.categoryIDNumber}-CORPORATE-${this.$route.params.company.replaceAll("_","-")}`;const a=this.gender.filter((e=>e.name===this.corporateInformation.gender)),h=this.civilStatus.filter((e=>e.name===this.corporateInformation.civilStatus)),d=new Date(this.corporateInformation.birthdate),u=new Intl.DateTimeFormat("en",{year:"numeric"}).format(d),f=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(d),g=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(d),y=`${u}/${f}/${g}`,I=o.filter((e=>e.name===this.corporateInformation.region));var c="";if("National Capital Region"===this.corporateInformation.region){var m=this.provinces.filter((e=>e.provinceWithCity===this.corporateInformation.province));m.length>0&&(c=i.filter((e=>e.name===m[0].name)))}else c=i.filter((e=>e.name===this.corporateInformation.province));const b=r.filter((e=>e.name===this.corporateInformation.city)),v={category:"06_Other",categoryID:"04_Other_ID",categoryIDNumber:this.corporateInformation.categoryIDNumber,philhealthIDNumber:this.corporateInformation.philhealthIDNumber,pwdID:this.corporateInformation.pwdID,contactNumber:this.corporateInformation.contactNumber,firstName:this.corporateInformation.firstName,lastName:this.corporateInformation.lastName,middleName:this.corporateInformation.middleName,birthdate:y,sex:a[0].code,civilStatus:h[0].code,fullAddress:this.corporateInformation.fullAddress,profession:"19_Others_",region:I[0].code,province:c[0].Province,city:b[0].TownCity,barangay:this.corporateInformation.barangay,comorbidities:s,allergies:n,householdMemberCategory:`CORPORATE-${this.corporateInformation.companyName}`,referringCategory:this.corporateInformation.companyName,referringEmployeeID:this.corporateInformation.companyName,referringEmployeeName:this.corporateInformation.companyName,referringEmployeeEmail:this.corporateInformation.email,referringEmployeeContactNumber:this.corporateInformation.contactNumber,employerName:this.corporateInformation.companyName,companyName:this.corporateInformation.companyName,companyProvince:this.corporateInformation.companyProvince,companyAddress:this.corporateInformation.companyAddress,companyContactNumber:this.corporateInformation.companyContactNumber,qrCode:l,hashKey:this.$route.params.hash};var p=await this.$store.dispatch("saveCorporateUser",v)}if(void 0!==p.message)if(this.hashUser[0].submited)this.formLoading=!1,this.serverError="Error saving reservation";else{const e={email:this.hashUser[0].EmailAddress,mobileNumber:this.hashUser[0].MobileNumber,accessed:"1",submitted:"1",reservationType:this.hashUser[0].ReferringUserType,hashKey:this.hashUser[0].HashKey},t=await this.$store.dispatch("updateReservationAccess",e);void 0!==t.message?this.$router.push("/vaccination-corporate-status"):this.formLoading=!1}else void 0!==p.error&&(this.formLoading=!1,this.serverError=`${p.error}`);this.formLoading=!1}catch(h){this.serverError=`${h}`,this.formLoading=!1}else this.formHasError=!0}))},filterCategoryID(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryIDOptions=this.employeeCategory.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryIDOptions=this.employeeCategory})},filterGender(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.genderListOptions=this.genderLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.genderListOptions=this.genderLists})},filterCivilStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.civilStatusListOptions=this.civilStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.civilStatusListOptions=this.civilStatusLists})},filterRegion(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.regionListOptions=this.regionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.regionListOptions=this.regionLists,this.corporateInformation.province=[],this.corporateInformation.city=[],this.citiesListOptions=[],this.citiesLists=[]})},filterProvinces(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.provincesListOptions=this.provincesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.provincesListOptions=this.provincesLists,this.corporateInformation.city=[],this.citiesListOptions=[],this.citiesLists=[]})},filterCities(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.citiesListOptions=this.citiesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.citiesListOptions=this.citiesLists})},filterCollege(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.collegeOptions=this.collegeLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.collegeOptions=this.collegeLists})},filterCompanies(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.companyListOptions=this.companies.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.companyListOptions=this.companies})}}},p=m,h=(o("9eaf"),o("2877")),d=o("9989"),u=o("f09f"),f=o("a370"),g=o("1c1c"),y=o("3b73"),I=o("f531"),b=o("87fe"),v=o("b19c"),C=o("9c40"),N=o("0378"),x=o("27f9"),q=o("54e1"),L=o("0016"),_=o("ddd8"),w=o("66e5"),E=o("4074"),S=o("7cbe"),R=o("52ee"),D=o("4b7e"),O=o("9149"),A=o("8f8e"),$=o("a6a3"),M=o("7f67"),P=o("eebe"),k=o.n(P),F=Object(h["a"])(p,a,s,!1,null,null,null),T=F.exports;k()(F,"components",{QPage:d["a"],QCard:u["a"],QCardSection:f["a"],QList:g["a"],QExpansionItem:y["a"],QStepper:I["a"],QStep:b["a"],QStepperNavigation:v["a"],QBtn:C["a"],QForm:N["a"],QInput:x["a"],QBanner:q["a"],QIcon:L["a"],QSelect:_["a"],QItem:w["a"],QItemSection:E["a"],QPopupProxy:S["a"],QDate:R["a"],QCardActions:D["a"],QSpinnerHourglass:O["a"],QCheckbox:A["a"],QSpinnerCube:$["a"]}),k()(F,"directives",{ClosePopup:M["a"]});var U={components:{Corporate:T},name:"VaccinationCorporate",data(){return{vaccinationInfo:this.$route.params.id}},mounted(){this.setFillUpStatus()},methods:{async setFillUpStatus(){await this.$store.dispatch("setFillupStatus"),await this.$store.dispatch("disableElement")}}},Y=U,H=Object(h["a"])(Y,i,r,!1,null,null,null);t["default"]=H.exports;k()(H,"components",{QPage:d["a"]})},"9eaf":function(e,t,o){"use strict";o("76f4")}}]);