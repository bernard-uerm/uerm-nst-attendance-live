(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{1049:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-page",{staticClass:"row q-pa-lg"},[e("div",{staticClass:"col-lg-12 col-md-12 col-xs-12"},[e("q-card",{staticClass:"card-border-primary"},[e("q-card-section",[e("q-card",[e("q-card-section",{staticClass:" bg-primary"},[e("div",{staticClass:"row justify-between"},[e("div",{staticClass:"text-h5 text-left text-white text-weight-thin"},[a._v("\n                UERM COVID19 "+a._s(a.loginInfo.Name)+" ACCOUNT SETTINGS\n              ")])])]),e("q-form",{ref:"reservationInformation",staticClass:"q-gutter-md",on:{submit:a.onSubmitAccountUpdate}},[e("q-card-section",[e("q-input",{ref:"companyName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Company Name",readonly:"",rules:[function(a){return a&&a.length>0||"Please enter your Company Name"}],autocomplete:"off"},model:{value:a.accountDetails.companyName,callback:function(t){a.$set(a.accountDetails,"companyName",t)},expression:"accountDetails.companyName"}}),e("q-input",{ref:"firstName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Username",readonly:"",rules:[function(a){return a&&a.length>0||"Please enter your Username"},a.isValidEmail],autocomplete:"off"},model:{value:a.accountDetails.username,callback:function(t){a.$set(a.accountDetails,"username",t)},expression:"accountDetails.username"}}),e("q-input",{ref:"password",attrs:{outlined:"",square:"",color:"primary",label:"Password",type:a.isPwd?"password":"text",rules:[function(a){return a&&a.length>0||"Please enter your Password"}],autocomplete:"off"},scopedSlots:a._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:a.isPwd?"visibility_off":"visibility"},on:{click:function(t){a.isPwd=!a.isPwd}}})]},proxy:!0}]),model:{value:a.accountDetails.password,callback:function(t){a.$set(a.accountDetails,"password",t)},expression:"accountDetails.password"}}),e("q-input",{ref:"firstName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"First Name",rules:[function(a){return a&&a.length>0||"Please enter your First Name"}],autocomplete:"off"},model:{value:a.accountDetails.firstName,callback:function(t){a.$set(a.accountDetails,"firstName",t)},expression:"accountDetails.firstName"}}),e("q-input",{ref:"middleName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Middle Name",rules:[function(a){return a&&a.length>0||"Please enter your Middle Name"}],autocomplete:"off"},model:{value:a.accountDetails.middleName,callback:function(t){a.$set(a.accountDetails,"middleName",t)},expression:"accountDetails.middleName"}}),e("q-input",{ref:"lastName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Last Name",rules:[function(a){return a&&a.length>0||"Please enter your Last Name"}],autocomplete:"off"},model:{value:a.accountDetails.lastName,callback:function(t){a.$set(a.accountDetails,"lastName",t)},expression:"accountDetails.lastName"}})],1),a.formMessage.length>0?e("q-card-section",[e("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[e("q-icon",{staticClass:"q-pr-md",attrs:{name:"fas fa-user-check",size:"lg"}}),a._v("\n                "+a._s(this.formMessage)+"\n              ")],1)],1):a._e(),e("q-card-actions",{staticClass:"flex flex-center q-pb-md"},[e("q-btn",{staticStyle:{width:"150px"},attrs:{type:"submit",loading:a.accountLoading,disable:a.accountLoading,push:"",icon:"fas fa-user-check",color:"green"},scopedSlots:a._u([{key:"loading",fn:function(){return[e("q-spinner-hourglass",{staticClass:"on-left"}),a._v("\n                  Updating...\n                ")]},proxy:!0}])},[e("span",{staticClass:"q-pl-md"},[a._v("UPDATE")])])],1)],1)],1)],1)],1)],1)])},n=[],o=e("ded3"),i=e.n(o),c=e("2f62"),l={name:"CorporateAccountSettings",computed:i()({},Object(c["b"])("corporate",["loginInfo"])),data(){return{isPwd:!0,formMessage:[],accountDetails:{companyName:null,companyProvince:null,companyAddress:null,companyContactNumber:null,username:null,password:null,firstName:null,middleName:null,lastName:null,companyID:null},accountLoading:null}},watch:{loginInfo(a){this.loadData()}},created(){this.loadData()},methods:{loadData(){this.accountDetails.companyName=this.loginInfo.Name,this.accountDetails.companyProvince=this.loginInfo.Province,this.accountDetails.companyAddress=this.loginInfo.Address,this.accountDetails.companyContactNumber=this.loginInfo.ContactNumber,this.accountDetails.username=this.loginInfo.UserName,this.accountDetails.firstName=this.loginInfo.FirstName,this.accountDetails.middleName=this.loginInfo.MiddleName,this.accountDetails.lastName=this.loginInfo.LastName,this.accountDetails.companyID=this.loginInfo.Id},async onSubmitAccountUpdate(){this.accountLoading=!0;const a={companyName:this.accountDetails.companyName,companyProvince:this.accountDetails.companyProvince,companyAddress:this.accountDetails.companyAddress,companyContactNumber:this.accountDetails.companyContactNumber,username:this.accountDetails.username,password:this.accountDetails.password,firstName:this.accountDetails.firstName,middleName:this.accountDetails.middleName,lastName:this.accountDetails.lastName,companyID:this.accountDetails.companyID},t=await this.$store.dispatch("corporate/updateCorporateAccount",a);void 0!==t.message&&(this.formMessage=`You have successfully updated ${this.accountDetails.companyName}`),this.accountLoading=!1},isValidEmail(a){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(a)||"Invalid email"}}},r=l,u=e("2877"),m=e("9989"),d=e("f09f"),p=e("a370"),f=e("0378"),y=e("27f9"),h=e("0016"),N=e("54e1"),D=e("4b7e"),g=e("9c40"),b=e("9149"),q=e("eebe"),w=e.n(q),C=Object(u["a"])(r,s,n,!1,null,null,null);t["default"]=C.exports;w()(C,"components",{QPage:m["a"],QCard:d["a"],QCardSection:p["a"],QForm:f["a"],QInput:y["a"],QIcon:h["a"],QBanner:N["a"],QCardActions:D["a"],QBtn:g["a"],QSpinnerHourglass:b["a"]})}}]);