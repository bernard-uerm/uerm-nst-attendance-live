(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{ec1a:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("main-config")],1)},i=[],c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-page",{staticClass:"row q-pa-lg"},[e("div",{staticClass:"col-lg-12 col-md-12 col-xs-12"},[e("q-card",{staticClass:"card-border-primary"},[e("q-card-section",[e("q-card",[e("q-card-section",{staticClass:" bg-primary"},[e("div",{staticClass:"text-h5 text-center text-white text-weight-thin"},[t._v("\n                UERM COVID19 VACCINE APPLICATION "),e("span",{staticClass:"text-uppercase"},[t._v("- "+t._s(t.$route.name))])])]),e("q-card-section",[e("div",{staticClass:"flex flex-center"},[e("q-btn",{attrs:{loading:t.buttonLoading,icon:"save",color:"primary"},on:{click:function(a){return t.configure()}},scopedSlots:t._u([{key:"loading",fn:function(){return[e("q-spinner-hourglass",{staticClass:"on-left"}),t._v("\n                    Loading ...\n                  ")]},proxy:!0}])},[this.createConfig?e("span",{staticClass:"q-pl-md"},[t._v("CREATE NEW CONFIGURATION FOR TODAY")]):t._e(),this.createConfig?t._e():e("span",{staticClass:"q-pl-md"},[t._v("UPDATE CONFIGURATION FOR TODAY")])])],1)]),t.config?e("q-card-section",[e("q-card",[e("q-card-section",{staticClass:"bg-primary text-h6 text-weight-thin text-white"},[t._v("\n                  DEFAULT CONFIGURATIONS\n                ")]),e("q-card-section",[e("q-form",{ref:"configuration",staticClass:"q-gutter-md",on:{submit:t.onSubmitConfiguration}},[e("q-select",{staticClass:"q-mb-md",attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Vaccine Brand",options:t.vaccineOptions,behavior:"menu",color:"primary",rules:[function(t){return t&&t.length>0||"Please enter Vaccine Brand"}]},on:{filter:t.filterVaccine},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("\n                            No results\n                          ")])],1)]},proxy:!0}],null,!1,1402496655),model:{value:t.configData.brand,callback:function(a){t.$set(t.configData,"brand",a)},expression:"configData.brand"}}),e("q-input",{ref:"manufacturer",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Manufacturer"},model:{value:t.configData.manufacturer,callback:function(a){t.$set(t.configData,"manufacturer",a)},expression:"configData.manufacturer"}}),e("q-input",{ref:"batchNo",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Batch No.",rules:[function(t){return t&&t.length>0||"Please enter Batch No."}]},model:{value:t.configData.batchNo,callback:function(a){t.$set(t.configData,"batchNo",a)},expression:"configData.batchNo"}}),e("q-input",{ref:"lotNo",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Lot No.",rules:[function(t){return t&&t.length>0||"Please enter Lot No."}]},model:{value:t.configData.lotNo,callback:function(a){t.$set(t.configData,"lotNo",a)},expression:"configData.lotNo"}}),this.vaccineConfig?e("div",{staticClass:"flex flex-center q-pt-md"},[[e("div",{staticClass:"q-pa-md q-gutter-sm"},[e("q-banner",{staticClass:"bg-green text-white",attrs:{dense:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[e("q-icon",{attrs:{name:"check",color:"white"}})]},proxy:!0}],null,!1,1726514831)},[t._v("\n                            YOU HAVE SUCCESSFULLY SAVED TODAY'S CONFIGURATION\n                          ")])],1)]],2):t._e(),e("div",{staticClass:"flex flex-center"},[e("q-btn",{attrs:{type:"submit",push:"",label:"Submit",icon:"save",color:"primary"}})],1)],1)],1)],1)],1):t._e(),t.config?e("q-card-section",[e("q-card",[e("q-card-section",{staticClass:"bg-primary text-h6 text-weight-thin text-white"},[t._v("\n                  VACCINATORS\n                ")]),e("q-card-section",[e("q-card",[e("q-card-section",{staticClass:"bg-primary"},[e("div",{staticClass:"text-h6 text-center text-weight-thin text-white"},[t._v("LIST OF VACCINATORS")])]),e("q-card-section",[e("div",[e("div",{staticClass:"row q-pt-md justify-center"},t._l(t.vaccinators,(function(a,n){return e("div",{key:n,staticClass:"col-grow flex flex-center"},[e("div",[a.enabled?t._e():e("q-checkbox",{staticStyle:{width:"180px"},attrs:{size:"xl",label:a.Name,val:a.Id},model:{value:t.vaccinatorCheck,callback:function(a){t.vaccinatorCheck=a},expression:"vaccinatorCheck"}})],1)])})),0)]),e("div",[e("div",{staticClass:"q-pt-lg"},[e("div",{staticClass:"text-h5 text-center text-weight-thin"},[t._v("CURRENT VACCINATORS")])]),e("div",{staticClass:"row q-pt-lg justify-center"},[t._l(t.vaccinators,(function(a,n){return e("div",{key:n},[a.enabled?e("div",{staticClass:"col-lg-1 col-md-12 col-xs-12 q-pr-sm q-gutter-md q-pb-sm"},[e("q-btn-group",[e("q-btn",{attrs:{color:"primary",icon:"person",label:a.Name},on:{click:function(e){return t.showDetails(a.Id)}}})],1)],1):t._e()])})),null!==t.vaccinatorDetails?e("div",{staticClass:"col-lg-12 flex flex-center q-pt-md"},[e("div",[e("q-input",{ref:"vaccinatorName",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Vaccinator Name",rules:[function(t){return t&&t.length>0||"Please enter Vaccinator Name"}]},model:{value:t.vaccinatorDetails.name,callback:function(a){t.$set(t.vaccinatorDetails,"name",a)},expression:"vaccinatorDetails.name"}}),e("q-input",{ref:"vaccinatorLicense",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Vaccinator License #",rules:[function(t){return t&&t.length>0||"Please enter Vaccinator License #"}]},model:{value:t.vaccinatorDetails.licenseNumber,callback:function(a){t.$set(t.vaccinatorDetails,"licenseNumber",a)},expression:"vaccinatorDetails.licenseNumber"}}),e("q-input",{ref:"vaccinatorProfession",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Vaccinator Profession",rules:[function(t){return t&&t.length>0||"Please enter Vaccinator Profession"}]},model:{value:t.vaccinatorDetails.profession,callback:function(a){t.$set(t.vaccinatorDetails,"profession",a)},expression:"vaccinatorDetails.profession"}}),e("q-btn-group",[e("q-btn",{staticStyle:{width:"150px"},attrs:{push:"",loading:t.setUpdateVaccinatorLoading,icon:"edit",color:"orange"},on:{click:function(a){return t.updateVaccinator()}},scopedSlots:t._u([{key:"loading",fn:function(){return[e("q-spinner-hourglass",{staticClass:"on-left"}),t._v("\n                                    Loading ...\n                                  ")]},proxy:!0}],null,!1,510574165)},[e("span",{staticClass:"q-pl-sm"},[t._v("UPDATE")])]),e("q-btn",{staticStyle:{width:"150px"},attrs:{push:"",loading:t.setUnsetVaccinatorLoading,icon:"delete",color:"negative"},on:{click:function(a){return t.removeVaccinator(t.vaccinatorDetails.id)}},scopedSlots:t._u([{key:"loading",fn:function(){return[e("q-spinner-hourglass",{staticClass:"on-left"}),t._v("\n                                    Loading ...\n                                  ")]},proxy:!0}],null,!1,510574165)},[e("span",{staticClass:"q-pl-sm"},[t._v("UNSET")])])],1)],1)]):t._e()],2)])]),e("q-card-section",{staticClass:"flex flex-center"},[e("q-btn",{attrs:{push:"",loading:t.setVaccinatorLoading,icon:"add",color:"primary"},on:{click:t.setVaccinators},scopedSlots:t._u([{key:"loading",fn:function(){return[e("q-spinner-hourglass",{staticClass:"on-left"}),t._v("\n                          Loading ...\n                        ")]},proxy:!0}],null,!1,265730389)},[t._v("\n                        SET VACCINATORS\n                        ")])],1)],1)],1),e("q-card-section",[e("q-card",[e("q-card-section",{staticClass:"bg-primary"},[e("div",{staticClass:"text-h6 text-center text-weight-thin text-white"},[t._v("REGISTER VACCINATOR")])]),this.vaccinatorInfo.length>0?e("q-card-section",[e("div",{staticClass:"flex flex-center column"},[e("div",t._l(t.vaccinatorInfo,(function(a,n){return e("div",{key:n,staticClass:"row q-gutter-md q-pt-md"},[e("span",[e("q-badge",{attrs:{color:"primary"}},[e("q-icon",{staticClass:"q-mr-xs",attrs:{name:"person",size:"14px"}}),t._v("\n                                "+t._s(n+1)+"\n                              ")],1)],1),e("q-input",{ref:"vaccinatorName",refInFor:!0,staticStyle:{width:"220px"},attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Vaccinator Name",rules:[function(t){return t&&t.length>0||"Please enter Vaccinator Name"}]},model:{value:a.name,callback:function(e){t.$set(a,"name",e)},expression:"input.name"}}),e("q-input",{ref:"vaccinatorLicense",refInFor:!0,staticStyle:{width:"220px"},attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Vaccinator License #",rules:[function(t){return t&&t.length>0||"Please enter Vaccinator License #"}]},model:{value:a.licenseNumber,callback:function(e){t.$set(a,"licenseNumber",e)},expression:"input.licenseNumber"}}),e("q-input",{ref:"vaccinatorProfession",refInFor:!0,staticStyle:{width:"220px"},attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Vaccinator Profession",rules:[function(t){return t&&t.length>0||"Please enter Vaccinator Profession"}]},model:{value:a.profession,callback:function(e){t.$set(a,"profession",e)},expression:"input.profession"}}),e("div",{staticClass:"q-pb-md q-gutter-sm"},[e("q-btn",{attrs:{round:"",color:"negative",icon:"delete"},on:{click:function(a){return t.removeVaccinee(n)}}})],1)],1)})),0)])]):t._e()],1)],1),e("q-card-section",{staticClass:"flex flex-center"},[e("q-btn-group",[e("q-btn",{attrs:{push:"",color:"primary",label:"Add Vaccinator",icon:"add"},on:{click:t.addVaccinator}}),this.vaccinatorInfo.length>0?e("q-btn",{attrs:{push:"",color:"primary",label:"Save Vaccinator",icon:"save"},on:{click:t.saveVaccinator}}):t._e()],1)],1)],1)],1):t._e(),e("q-card-section")],1)],1)],1)],1)])],1)},s=[],o=e("ded3"),r=e.n(o),l=(e("ddb0"),e("2f62"));const u=["Sinovac","AstraZeneca","Pfizer","Sinopharm","J and J","Novavax"];var d={data(){return{config:!1,createConfig:null,configData:{id:null,brand:null,manufacturer:null,batchNo:null,lotNo:null},vaccinatorInfo:[],vaccineOptions:u,vaccineLists:u,buttonLoading:null,vaccinatorCheck:[],vaccinatorDetails:null,setVaccinatorLoading:null,vaccineConfig:null,setUpdateVaccinatorLoading:null,setUnsetVaccinatorLoading:null}},computed:r()({},Object(l["b"])({vaccinators:"vaccinators"})),mounted(){this.checkCurrentConfiguration(),this.getVaccinators()},methods:{configure(){this.config=!0},addVaccinator(){var t={name:null,licenseNumber:null,profession:null};this.vaccinatorInfo.push(t)},showDetails(t){const a=this.vaccinators.filter((a=>a.Id===t)),e={id:a[0].Id,name:a[0].Name,licenseNumber:a[0].LicNo,profession:a[0].Profession};this.vaccinatorDetails=e},removeVaccinee(t){const a=Array.from(this.vaccinatorInfo);a.splice(t,1),this.vaccinatorInfo=a},async updateVaccinator(){this.setUpdateVaccinatorLoading=!0,setTimeout((async()=>{await this.$store.dispatch("updateVaccinators",this.vaccinatorDetails),await this.getVaccinators(),this.vaccinatorDetails=null,this.vaccinatorCheck=[],this.setUpdateVaccinatorLoading=!1}),1500)},async removeVaccinator(t){this.setUnsetVaccinatorLoading=!0,setTimeout((async()=>{const a={id:t};await this.$store.dispatch("removeVaccinators",a),await this.getVaccinators(),this.vaccinatorDetails=null,this.vaccinatorCheck=[],this.setUnsetVaccinatorLoading=!1}),1500)},async setVaccinators(){if(this.vaccinatorCheck.length>0){this.setVaccinatorLoading=!0;var t=(new Date).toISOString(),a=t.substr("0","10").replaceAll("-","");this.vaccinatorCheck.forEach((async t=>{const e={id:t,period:a};await this.$store.dispatch("setVaccinators",e)})),setTimeout((async()=>{await this.getVaccinators(),this.setVaccinatorLoading=!1}),1500)}},async getVaccinators(){await this.$store.dispatch("getVaccinators")},async checkCurrentConfiguration(){this.buttonLoading=!0;var t=await this.$store.dispatch("getVaccineConfig");t.length>0?(this.createConfig=!1,this.configData.id=t[0].Id,this.configData.brand=t[0].Brand,this.configData.manufacturer=t[0].Manufacturer,this.configData.batchNo=t[0].BatchNo,this.configData.lotNo=t[0].LotNumber):this.createConfig=!0,this.buttonLoading=!1},async onSubmitConfiguration(){this.vaccineConfig=null;var t=null;t=this.createConfig?await this.$store.dispatch("setVaccineConfig",this.configData):await this.$store.dispatch("updateVaccineConfig",this.configData),void 0!==t.success&&(this.vaccineConfig=!0)},async saveVaccinator(){var t=(new Date).toISOString(),a=t.substr("0","10").replaceAll("-","");for(var e of this.vaccinatorInfo)e.period=a,await this.$store.dispatch("registerVaccinators",e);this.vaccinatorInfo=[],await this.getVaccinators()},filterVaccine(t,a){a(""!==t?()=>{const a=t.toLowerCase();this.vaccineOptions=this.vaccineLists.filter((t=>t.toLowerCase().indexOf(a)>-1))}:()=>{this.vaccineOptions=this.vaccineLists})}}},p=d,f=e("2877"),h=e("9989"),v=e("f09f"),g=e("a370"),m=e("9c40"),C=e("9149"),b=e("0378"),q=e("ddd8"),x=e("66e5"),V=e("4074"),y=e("27f9"),N=e("54e1"),w=e("0016"),D=e("8f8e"),I=e("e7a9"),k=e("58a81"),_=e("eebe"),S=e.n(_),L=Object(f["a"])(p,c,s,!1,null,null,null),A=L.exports;S()(L,"components",{QPage:h["a"],QCard:v["a"],QCardSection:g["a"],QBtn:m["a"],QSpinnerHourglass:C["a"],QForm:b["a"],QSelect:q["a"],QItem:x["a"],QItemSection:V["a"],QInput:y["a"],QBanner:N["a"],QIcon:w["a"],QCheckbox:D["a"],QBtnGroup:I["a"],QBadge:k["a"]});var O={components:{MainConfig:A},name:"VASConfiguration",mounted(){this.setInitValues(),this.redirect()},methods:{async setInitValues(){await this.$store.dispatch("setInitValuesVAS")},redirect(){const t=this.$q.cookies.get("module");"Screening"===t?this.$router.push("/vaccine-application-screening"):"Vaccination"===t?this.$router.push("/vaccine-application-vaccination"):"Monitoring"===t?this.$router.push("/vaccine-application-monitoring"):"Registration"===t?this.$router.push("/vaccine-application-registration"):void 0===t&&this.$router.push("/vaccine-application")}}},$=O,T=Object(f["a"])($,n,i,!1,null,null,null);a["default"]=T.exports}}]);