(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0531":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-form",{ref:"personalInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitVaccinationInfo}},[a("q-card-section",[a("q-select",{staticClass:"q-mb-md",attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Vaccine Manufacturer Name",options:e.vaccineOptions,behavior:"menu",color:"primary"},on:{filter:e.filterVaccine},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n              No results\n            ")])],1)]},proxy:!0}]),model:{value:e.vaccinationInformation.vaccineName,callback:function(t){e.$set(e.vaccinationInformation,"vaccineName",t)},expression:"vaccinationInformation.vaccineName"}}),a("q-input",{staticClass:"q-mb-md",attrs:{square:"",outlined:"",type:"text",label:"Batch Number"},model:{value:e.vaccinationInformation.batchNumber,callback:function(t){e.$set(e.vaccinationInformation,"batchNumber",t)},expression:"vaccinationInformation.batchNumber"}}),a("q-input",{staticClass:"q-mb-md",attrs:{square:"",outlined:"",type:"text",label:"Lot Number"},model:{value:e.vaccinationInformation.lotNumber,callback:function(t){e.$set(e.vaccinationInformation,"lotNumber",t)},expression:"vaccinationInformation.lotNumber"}}),a("q-select",{staticClass:"q-mb-md",attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Vaccinator Name",options:e.vaccinatorOptions,behavior:"menu",color:"primary"},on:{filter:e.filterVaccinator},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n              No results\n            ")])],1)]},proxy:!0}]),model:{value:e.vaccinationInformation.vaccinator,callback:function(t){e.$set(e.vaccinationInformation,"vaccinator",t)},expression:"vaccinationInformation.vaccinator"}}),a("q-input",{staticClass:"q-mb-md",attrs:{square:"",outlined:"",type:"text",label:"Profession of Vaccinator"},model:{value:e.vaccinationInformation.professionOfVaccinator,callback:function(t){e.$set(e.vaccinationInformation,"professionOfVaccinator",t)},expression:"vaccinationInformation.professionOfVaccinator"}})],1),a("q-card-actions",{staticClass:"flex flex-center"},[a("q-btn-group",[a("q-btn",{attrs:{push:"",icon:"redo",disable:e.disableButton,color:"green",type:"submit",label:"APPROVE"}}),a("q-btn",{attrs:{push:"",icon:"undo",color:"negative",label:"GO BACK"},on:{click:function(t){return e.closeDialog()}}})],1)],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=(a("ddb0"),a("2f62"));const l=["Sinovac","AstraZeneca","Pfizer","Sinopharm","J and J","Novavax"];var c={name:"VaccinationMonitoringInfo",props:["vaccinationInfo","qrScanner"],data(){return{vaccinationInformation:{vaccineName:null,batchNumber:null,lotNumber:null,vaccinator:null,professionOfVaccinator:null},vaccineOptions:l,vaccineLists:l,vaccinatorOptions:[],vaccinatorLists:[],disableButton:!0}},mounted(){this.checkConfig(),this.getVaccinators()},watch:{vaccinationInformation:{async handler(e){this.filterEnabledVaccinator(e),this.vaccinationInformation.batchNumber=""===e.batchNumber?null:e.batchNumber,this.vaccinationInformation.lotNumber=""===e.lotNumber?null:e.lotNumber,this.vaccinationInformation.vaccineName=""===e.vaccineName?null:e.vaccineName,this.vaccinationInformation.professionOfVaccinator=""===e.professionOfVaccinator?null:e.professionOfVaccinator,null!==e.batchNumber&&null!==e.lotNumber&&null!==e.professionOfVaccinator&&null!==e.vaccineName?this.disableButton=!1:this.disableButton=!0},deep:!0}},computed:n()({},Object(r["b"])({vaccinators:"vaccinators"})),methods:{filterEnabledVaccinator(e){const t=this.vaccinators.filter((t=>t.Name===e.vaccinator));void 0!==t[0]&&(this.vaccinationInformation.professionOfVaccinator=void 0!==t[0].Profession?t[0].Profession:null)},async getVaccinators(){await this.$store.dispatch("getVaccinators");const e=this.vaccinators.filter((e=>e.enabled));var t=[];for(var a of e)t.push(a.Name);this.vaccinatorOptions=t,this.vaccinatorLists=t},async checkConfig(){var e=await this.$store.dispatch("getVaccineConfig");e.length>0&&(this.vaccinationInformation.vaccineName=e[0].Brand,this.vaccinationInformation.batchNumber=e[0].BatchNo,this.vaccinationInformation.lotNumber=e[0].LotNumber)},async closeDialog(){await this.$store.dispatch("dialog",!1),this.qrScanner&&await this.$store.dispatch("revertQR",!0)},async onSubmitVaccinationInfo(){this.disableButton=!0,this.qrScanner?await this.$store.dispatch("revertQR",!1):await this.$store.dispatch("dialog",!0);const e=Number(this.vaccinationInfo[0].currentStation),t=new Date,a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),s=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(t),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),o=`${a}-${s}-${i}`;var n=t.getMinutes(),r=("0"+n).slice(-2),l=t.getHours(),c=("0"+l).slice(-2),u=t.getSeconds(),p=("0"+u).slice(-2);const d=`${c}:${r}:${p}`,h=`${o} ${d}`;var m={categoryIDNumber:this.vaccinationInfo[0].categoryIDNumber,consent:this.vaccinationInfo[0].Consent,reasonForRefusal:this.vaccinationInfo[0].Reason_For_Refusal,ageMorethan16:this.vaccinationInfo[0].Age_More_Than_16_Years_Old,hasNoAllergiesToPeg:this.vaccinationInfo[0].Has_No_Allergies_To_PEG_Or_Polysorbate,hasNoAllergiesAfterFirstDose:this.vaccinationInfo[0].Has_No_Severe_Allergic_Reaction_After_First_Dose,hasNoAllergyToFoodAndAsthma:this.vaccinationInfo[0].Has_No_Allergy_To_Food_And_No_Asthma,ifAllergiesMonitor30Minutes:this.vaccinationInfo[0].If_With_Allergy_Or_Asthma_Vaccinator_Monitor_30_Minutes,hasNoBleedingDisorders:this.vaccinationInfo[0].Has_No_History_Bleeding_Disorders_Or_Coagulants,bleedingHistorySyringe:this.vaccinationInfo[0].If_With_Bleeding_History_23_To_25_Syringe,noSymptoms:this.vaccinationInfo[0].If_Does_Not_Manifest_Symptoms,manifestedSymptoms:this.vaccinationInfo[0].Manifested_Symptoms,noHistoryExposure2Weeks:this.vaccinationInfo[0].Has_No_History_Exposure_COVID19_2_Weeks,previouslyTreatedCOVID19:this.vaccinationInfo[0].Previously_Treated_For_COVID19_90_Days,notReceivedAnyVaccine2Weeks:this.vaccinationInfo[0].Has_Not_Received_Any_Vaccine_Past_2_Weeks,notReceivedConvalescentPlasma:this.vaccinationInfo[0].Has_Not_Received_Convalescent_Plasma_For_COVID19,notPregnant:this.vaccinationInfo[0].Not_Pregnant,pregnant2ndOr3rdTri:this.vaccinationInfo[0].If_Pregnant_2nd_Or_3rd_Trimester,noConditions:this.vaccinationInfo[0].Does_Not_Have_Any_Conditions,conditions:this.vaccinationInfo[0].Specify_Conditions,presentedClearance:this.vaccinationInfo[0].If_Have_Conditions_Presented_Clearance_Prior_To_Vaccination,deferral:this.vaccinationInfo[0].Deferral,otherReasonOfDeferral:this.vaccinationInfo[0].Other_Reason_For_Deferral,dateOfVaccination:h,vaccineManufacturer:this.vaccinationInformation.vaccineName,batchNumber:this.vaccinationInformation.batchNumber,lotNumber:this.vaccinationInformation.lotNumber,vaccinator:this.vaccinationInformation.vaccinator,professionOfVaccinator:this.vaccinationInformation.professionOfVaccinator,firstDose:"01_Yes",secondDose:"2"===this.vaccinationInfo[0].Dose?"01_Yes":"",adverseEffects:"",dosage:this.vaccinationInfo[0].Dose,station:e+1,screeningDateTime:this.vaccinationInfo[0].VASScreeningDateTime,vaccinationDateTime:h,vasID:this.vaccinationInfo[0].VASId};const f=await this.$store.dispatch("updateVaccineeInformation",m);if(void 0!==f.message){const e={code:this.vaccinationInfo[0].Category_ID_Number,lastName:this.vaccinationInfo[0].Last_Name,firstName:this.vaccinationInfo[0].First_Name,middleName:this.vaccinationInfo[0].Middle_Name,mobile:this.vaccinationInfo[0].Contact_Number,vaccineReceived:m.vaccineManufacturer.toUpperCase(),dose:this.vaccinationInfo[0].Dose,vasID:this.vaccinationInfo[0].VASId};await this.$store.dispatch("insertToVaccinated",e),this.triggerSucccess(m.station)}},triggerSucccess(e){var t="",a="";2===e?(t="Transferring raw data to the  Registration  Station...",a="Data successfully transferred to the Registration Station!"):3===e?(t="Transferring raw data to the Screening Station...",a="Data successfully transferred to the Screening Station!"):5===e&&(t="Transferring raw data to the Monitoring Station......",a="Data successfully transferred to the Monitoring Station!");var s=this.$q.notify({type:"ongoing",message:`${t} `});setTimeout((async()=>{s({type:"positive",message:`${a}`,timeout:1e3}),this.closeDialog()}),3e3)},filterVaccine(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.vaccineOptions=this.vaccineLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.vaccineOptions=this.vaccineLists})},filterVaccinator(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.vaccinatorOptions=this.vaccinatorLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.vaccinatorOptions=this.vaccinatorLists})}}},u=c,p=a("2877"),d=a("0378"),h=a("a370"),m=a("ddd8"),f=a("66e5"),g=a("4074"),y=a("27f9"),v=a("4b7e"),b=a("e7a9"),D=a("9c40"),I=a("eebe"),C=a.n(I),_=Object(p["a"])(u,s,i,!1,null,null,null);t["a"]=_.exports;C()(_,"components",{QForm:d["a"],QCardSection:h["a"],QSelect:m["a"],QItem:f["a"],QItemSection:g["a"],QInput:y["a"],QCardActions:v["a"],QBtnGroup:b["a"],QBtn:D["a"]})},"069e":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-form",{ref:"personalInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitScreeningInfo}},[a("q-card-section",[a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-user",label:"Declared Comorbidities and Allergies - "+e.allergiesAndComorbidities.length,group:"othergroup"}},[a("q-card",[a("q-card-section",{staticClass:"text-black"},[a("div",{staticClass:"row justify-center items-center"},e._l(e.allergiesAndComorbidities,(function(t,s){return a("div",{key:s,staticClass:"q-pa-sm"},[a("q-badge",{attrs:{color:"orange"}},[a("q-icon",{staticClass:"q-mr-xs",attrs:{name:"warning",color:"white"}}),e._v(" "+e._s(t.replace("_"," ").toUpperCase())+"\n                ")],1)],1)})),0)])],1)],1),a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-user",label:"VAS Information",group:"othergroup","default-opened":""}},[a("q-card",[a("q-card-section",{staticClass:"text-black"},[a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Consent",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.consent,callback:function(t){e.$set(e.vasScreeningInfo,"consent",t)},expression:"vasScreeningInfo.consent"}}),a("q-select",{staticClass:"q-mb-md",attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Reason for Refusal",options:e.reasonOptions,behavior:"menu",color:"primary"},on:{filter:e.filterRefusal},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.vasScreeningInfo.reasonForRefusal,callback:function(t){e.$set(e.vasScreeningInfo,"reasonForRefusal",t)},expression:"vasScreeningInfo.reasonForRefusal"}}),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Age more than 16 years old?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.age16YearsOld,callback:function(t){e.$set(e.vasScreeningInfo,"age16YearsOld",t)},expression:"vasScreeningInfo.age16YearsOld"}}),a("br"),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has no allergies to PEG or polysorbate?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.allergiesToPEG,callback:function(t){e.$set(e.vasScreeningInfo,"allergiesToPEG",t)},expression:"vasScreeningInfo.allergiesToPEG"}}),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has no severe allergic reaction after the 1st dose of the vaccine?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.noSevereAllergicFirstDose,callback:function(t){e.$set(e.vasScreeningInfo,"noSevereAllergicFirstDose",t)},expression:"vasScreeningInfo.noSevereAllergicFirstDose"}}),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has no allergy to food, egg, medicines, and no asthma?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.noAllergyToFood,callback:function(t){e.$set(e.vasScreeningInfo,"noAllergyToFood",t)},expression:"vasScreeningInfo.noAllergyToFood"}}),"02_No"==e.vasScreeningInfo.noAllergyToFood?a("div",{staticClass:"q-pl-lg"},[a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"If with allergy or asthma, will the vaccinator able to monitor the patient for 30 minutes?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.ifAllergyAbleToMonitor30Minutes,callback:function(t){e.$set(e.vasScreeningInfo,"ifAllergyAbleToMonitor30Minutes",t)},expression:"vasScreeningInfo.ifAllergyAbleToMonitor30Minutes"}})],1):e._e(),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has no history of bleeding disorders or currently taking anti-coagulants?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.noHistoryOfBleeding,callback:function(t){e.$set(e.vasScreeningInfo,"noHistoryOfBleeding",t)},expression:"vasScreeningInfo.noHistoryOfBleeding"}}),"02_No"==e.vasScreeningInfo.noHistoryOfBleeding?a("div",{staticClass:"q-pl-lg"},[a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"If with bleeding history, is a gauge 23 - 25 syringe available for injection?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.ifWithBleedingGauge,callback:function(t){e.$set(e.vasScreeningInfo,"ifWithBleedingGauge",t)},expression:"vasScreeningInfo.ifWithBleedingGauge"}})],1):e._e(),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Does not manifest any of the following symptoms: Fever / Chills, Headache, Cough, Colds, Sore Throat, Myalgia, Fatigue, Weakness, Loss of smell/taste, Diarrhea, Shortness of breath/difficulty in breathing?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.doesNotManifestSymptoms,callback:function(t){e.$set(e.vasScreeningInfo,"doesNotManifestSymptoms",t)},expression:"vasScreeningInfo.doesNotManifestSymptoms"}}),"02_No"==e.vasScreeningInfo.doesNotManifestSymptoms?a("div",{staticClass:"q-pl-lg"},[a("q-select",{attrs:{square:"",outlined:"","use-input":"","use-chips":"","stack-label":"",multiple:"","input-debounce":"0",label:"If manifesting any of the mentioned symptom/s specify all that apply",options:e.symptomsOptions,behavior:"menu",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Symptoms"}]},on:{filter:e.filterSymptoms},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.vasScreeningInfo.manifestedSymptoms,callback:function(t){e.$set(e.vasScreeningInfo,"manifestedSymptoms",t)},expression:"vasScreeningInfo.manifestedSymptoms"}})],1):e._e(),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has no history of exposure to a confirmed or suspected COVID-19 case in the past 2 weeks?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.noHistoryOfExposureToCOVID,callback:function(t){e.$set(e.vasScreeningInfo,"noHistoryOfExposureToCOVID",t)},expression:"vasScreeningInfo.noHistoryOfExposureToCOVID"}}),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has not been previously treated for COVID-10 in the past 90 days?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.hasNotBeenPreviouslyTreatedForCOVID,callback:function(t){e.$set(e.vasScreeningInfo,"hasNotBeenPreviouslyTreatedForCOVID",t)},expression:"vasScreeningInfo.hasNotBeenPreviouslyTreatedForCOVID"}}),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has not received any vaccine in the past 2 weeks?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.hasNotReceivedAnyVaccine,callback:function(t){e.$set(e.vasScreeningInfo,"hasNotReceivedAnyVaccine",t)},expression:"vasScreeningInfo.hasNotReceivedAnyVaccine"}}),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Has not received convalescent plasma or monoclonal antibodies for COVID-19 in the past?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.hasNotReceivedConvalescentPlasma,callback:function(t){e.$set(e.vasScreeningInfo,"hasNotReceivedConvalescentPlasma",t)},expression:"vasScreeningInfo.hasNotReceivedConvalescentPlasma"}}),"Female"===this.screeningInfo[0].gender?a("div",[a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Not Pregnant?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.notPregnant,callback:function(t){e.$set(e.vasScreeningInfo,"notPregnant",t)},expression:"vasScreeningInfo.notPregnant"}}),"02_No"===e.vasScreeningInfo.notPregnant?a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"If pregnant, 2nd or 3rd Trimester?",options:e.pregnantOptions,behavior:"menu",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter details of Pregnancy"}]},on:{filter:e.filterPregnant},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.vasScreeningInfo.pregnant,callback:function(t){e.$set(e.vasScreeningInfo,"pregnant",t)},expression:"vasScreeningInfo.pregnant"}}):e._e()],1):e._e(),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"Does not have any of the following: HIV, Cancer/Malignancy, Underwent Transplant, Under Steroid Medication/Treatment, Bed Ridden, Terminal Illness, less than 6 months prognosi?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.notHaveAnyOfTheComorbidities,callback:function(t){e.$set(e.vasScreeningInfo,"notHaveAnyOfTheComorbidities",t)},expression:"vasScreeningInfo.notHaveAnyOfTheComorbidities"}}),"02_No"==e.vasScreeningInfo.notHaveAnyOfTheComorbidities?a("div",{staticClass:"q-pl-lg"},[a("q-select",{attrs:{square:"",outlined:"","use-input":"","use-chips":"","stack-label":"",multiple:"","input-debounce":"0",label:"If with mentioned condition/s, specify",options:e.comorbiditiesOptions,behavior:"menu",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Conditons"}]},on:{filter:e.filterComorbidities},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.vasScreeningInfo.comorbidities,callback:function(t){e.$set(e.vasScreeningInfo,"comorbidities",t)},expression:"vasScreeningInfo.comorbidities"}}),a("q-toggle",{staticClass:"q-mb-md",attrs:{label:"If with mentioned condition, has presented medical clearance prior to vaccination day?",color:"primary","false-value":"02_No","true-value":"01_Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.vasScreeningInfo.ifWithConditionMedicalClearance,callback:function(t){e.$set(e.vasScreeningInfo,"ifWithConditionMedicalClearance",t)},expression:"vasScreeningInfo.ifWithConditionMedicalClearance"}})],1):e._e(),a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Deferral",options:e.deferralOptions,behavior:"menu",color:"primary"},on:{filter:e.filterDeferral},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.vasScreeningInfo.deferral,callback:function(t){e.$set(e.vasScreeningInfo,"deferral",t)},expression:"vasScreeningInfo.deferral"}}),a("q-input",{staticClass:"q-pt-md",attrs:{square:"",outlined:"",type:"text",label:"Other reason for Deferral"},model:{value:e.vasScreeningInfo.otherReasonForDeferral,callback:function(t){e.$set(e.vasScreeningInfo,"otherReasonForDeferral",t)},expression:"vasScreeningInfo.otherReasonForDeferral"}})],1)],1)],1)],1),a("q-card-actions",{staticClass:"flex flex-center"},[a("q-btn-group",[a("q-btn",{attrs:{push:"",icon:"redo",disable:e.buttonDisable,color:"green",type:"submit",label:"APPROVE"}}),this.qrScanner?e._e():a("q-btn",{attrs:{push:"",icon:"undo",color:"negative",label:"GO BACK"},on:{click:function(t){return e.closeDialog()}}})],1)],1)],1)],1)},i=[],o=(a("5319"),["I do not think this vaccine is safe","I do not think this vaccine is effective","I do not trust a vaccine that has come from another country","I have religious beliefs that do not allow me to be vaccinated"]),n=["Fever/Chills","Headache","Cough","Colds","Sore Throat","Myalgia","Fatigues","Weakness","Loss of Smell / Taste","Diarrhea","Shortness of Breath / Difficulty of Breating","Others"],r=["HIV","Cancer / Malignancy","Underwent Transplant","Under Steroid Medication / Treatment","Bed Ridden","Terminal Ilness","Others"],l=["2nd","3rd"],c=["Fever","Headache","Cough","Colds","Sore Throat","Shortness of Breath or Difficulty in Breathing","Chest Pain","Abdominal Pain","Changes in Bowel Movement","Loss of taste/smell","Fatigue / Weakness","COVID-19 in the past 90 days?","Bleeding disorder or blood thinner","Autoimmune disorder, HIV, AIDS, Cancer","Received any vaccine 4 weeks ago","Reaction from any previous vaccine?","Pregnant, Breastfeeding, Planning Pregnancy"],u={name:"ScreeningInfo",props:["screeningInfo","qrScanner"],data(){return{reasonOptions:o,reasonLists:o,symptomsOptions:n,symptomsLists:n,pregnantOptions:l,pregnantLists:l,comorbiditiesOptions:r,comorbiditiesLists:r,deferralOptions:c,deferralLists:c,allergiesAndComorbidities:[],buttonDisable:!1,vasScreeningInfo:{consent:"01_Yes",reasonForRefusal:null,age16YearsOld:"01_Yes",allergiesToPEG:"01_Yes",noSevereAllergicFirstDose:"01_Yes",noAllergyToFood:"01_Yes",ifAllergyAbleToMonitor30Minutes:"01_Yes",noHistoryOfBleeding:"01_Yes",ifWithBleedingGauge:"01_Yes",doesNotManifestSymptoms:"01_Yes",manifestedSymptoms:[],noHistoryOfExposureToCOVID:"01_Yes",hasNotBeenPreviouslyTreatedForCOVID:"01_Yes",hasNotReceivedAnyVaccine:"01_Yes",hasNotReceivedConvalescentPlasma:"01_Yes",notPregnant:"01_Yes",pregnant:null,notHaveAnyOfTheComorbidities:"01_Yes",comorbidities:null,ifWithConditionMedicalClearance:"01_Yes",deferral:null,otherReasonForDeferral:null}}},watch:{vasScreeningInfo:{async handler(e){},deep:!0}},mounted(){this.formatComorbiditiesAllergies(this.screeningInfo)},methods:{async closeDialog(){await this.$store.dispatch("dialog",!1),await this.$store.dispatch("setLoading",!1),this.qrScanner&&await this.$store.dispatch("revertQR",!0)},async formatComorbiditiesAllergies(e){for(var t in e[0].allergiesComorbidities){var a=e[0].allergiesComorbidities[t];"01_Yes"===a&&this.allergiesAndComorbidities.push(t.replace("_"," ").toUpperCase())}},async onSubmitScreeningInfo(){this.buttonDisable=!0,this.qrScanner?await this.$store.dispatch("revertQR",!1):await this.$store.dispatch("dialog",!0),"01_Yes"===this.vasScreeningInfo.noAllergyToFood&&(this.vasScreeningInfo.ifAllergyAbleToMonitor30Minutes=null),"01_Yes"===this.vasScreeningInfo.noHistoryOfBleeding&&(this.vasScreeningInfo.ifWithBleedingGauge=null),"01_Yes"===this.vasScreeningInfo.doesNotManifestSymptoms&&(this.vasScreeningInfo.manifestedSymptoms=null),"01_Yes"===this.vasScreeningInfo.notHaveAnyOfTheComorbidities&&(this.vasScreeningInfo.comorbidities=null,this.vasScreeningInfo.ifWithConditionMedicalClearance=null);const e=Number(this.screeningInfo[0].currentStation),t=new Date,a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),s=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(t),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),o=`${a}-${s}-${i}`;var n=t.getMinutes(),r=("0"+n).slice(-2),l=t.getHours(),c=("0"+l).slice(-2),u=t.getSeconds(),p=("0"+u).slice(-2);const d=`${c}:${r}:${p}`,h=`${o} ${d}`;var m={categoryIDNumber:this.screeningInfo[0].categoryIDNumber,consent:this.vasScreeningInfo.consent,reasonForRefusal:this.vasScreeningInfo.reasonForRefusal,ageMorethan16:this.vasScreeningInfo.age16YearsOld,hasNoAllergiesToPeg:this.vasScreeningInfo.allergiesToPEG,hasNoAllergiesAfterFirstDose:this.vasScreeningInfo.noSevereAllergicFirstDose,hasNoAllergyToFoodAndAsthma:this.vasScreeningInfo.noAllergyToFood,ifAllergiesMonitor30Minutes:this.vasScreeningInfo.ifAllergyAbleToMonitor30Minutes,hasNoBleedingDisorders:this.vasScreeningInfo.noHistoryOfBleeding,bleedingHistorySyringe:this.vasScreeningInfo.ifWithBleedingGauge,noSymptoms:this.vasScreeningInfo.doesNotManifestSymptoms,manifestedSymptoms:this.vasScreeningInfo.manifestedSymptoms,noHistoryExposure2Weeks:this.vasScreeningInfo.noHistoryOfExposureToCOVID,previouslyTreatedCOVID19:this.vasScreeningInfo.hasNotBeenPreviouslyTreatedForCOVID,notReceivedAnyVaccine2Weeks:this.vasScreeningInfo.hasNotReceivedAnyVaccine,notReceivedConvalescentPlasma:this.vasScreeningInfo.hasNotReceivedConvalescentPlasma,notPregnant:this.vasScreeningInfo.notPregnant,pregnant2ndOr3rdTri:this.vasScreeningInfo.pregnant,noConditions:this.vasScreeningInfo.notHaveAnyOfTheComorbidities,conditions:this.vasScreeningInfo.comorbidities,presentedClearance:this.vasScreeningInfo.ifWithConditionMedicalClearance,deferral:this.vasScreeningInfo.deferral,otherReasonOfDeferral:this.vasScreeningInfo.otherReasonForDeferral,dateOfVaccination:"",vaccineManufacturer:"",batchNumber:"",lotNumber:"",vaccinator:"",professionOfVaccinator:"",firstDose:"",secondDose:"",adverseEffects:"",dosage:this.screeningInfo[0].Dose,station:e+1,screeningDateTime:h,vaccinationDateTime:null,vasID:this.screeningInfo[0].VASId};const f=await this.$store.dispatch("updateVaccineeInformation",m);void 0!==f.message&&this.triggerSucccess(m.station)},triggerSucccess(e){var t="";2===e?t="Registration":3===e?t="Screening":4===e&&(t="Vaccination");var a=this.$q.notify({type:"ongoing",message:`Transferring raw data to the ${t} Station...`});setTimeout((async()=>{a({type:"positive",message:`Data successfully transferred to the ${t} Station!`,timeout:1e3}),this.closeDialog()}),3e3)},filterRefusal(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.reasonOptions=this.reasonLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.reasonOptions=this.reasonLists})},filterSymptoms(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.symptomsOptions=this.symptomsLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.symptomsOptions=this.symptomsLists})},filterPregnant(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.pregnantOptions=this.pregnantLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.pregnantOptions=this.pregnantLists})},filterComorbidities(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.comorbiditiesOptions=this.comorbiditiesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.comorbiditiesOptions=this.comorbiditiesLists})},filterDeferral(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.deferralOptions=this.deferralLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.deferralOptions=this.deferralLists})}}},p=u,d=a("2877"),h=a("0378"),m=a("a370"),f=a("3b73"),g=a("f09f"),y=a("58a81"),v=a("0016"),b=a("9564"),D=a("ddd8"),I=a("66e5"),C=a("4074"),_=a("27f9"),S=a("4b7e"),q=a("e7a9"),x=a("9c40"),N=a("eebe"),w=a.n(N),L=Object(d["a"])(p,s,i,!1,null,null,null);t["a"]=L.exports;w()(L,"components",{QForm:h["a"],QCardSection:m["a"],QExpansionItem:f["a"],QCard:g["a"],QBadge:y["a"],QIcon:v["a"],QToggle:b["a"],QSelect:D["a"],QItem:I["a"],QItemSection:C["a"],QInput:_["a"],QCardActions:S["a"],QBtnGroup:q["a"],QBtn:x["a"]})},1093:function(e,t,a){"use strict";a("20aa")},"1ddd":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row justify-center q-pa-lg"},[void 0!==e.employeeInformation.First_Name?a("div",{staticClass:"col-lg-12  text-h2",attrs:{align:"center"}},[e._v("\n    Welcome "+e._s(e.employeeInformation.First_Name)+"\n  ")]):a("div",{staticClass:"col-lg-12 text-h2",attrs:{align:"center"}},[e._v("\n    COVID Vaccine Registration\n  ")])])},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l={props:["employeeInformation"],data(){return{showError:""}},computed:n()({},Object(r["b"])({serverMessage:"serverMessage"})),watch:{serverMessage(e){this.showError=e}}},c=l,u=a("2877"),p=a("54e1"),d=a("0016"),h=a("eebe"),m=a.n(h),f=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=f.exports;m()(f,"components",{QBanner:p["a"],QIcon:d["a"]})},"20aa":function(e,t,a){},"27d5":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-form",{ref:"categoryInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitCategory}},[a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Category",options:e.categoryListOptions,behavior:"menu",color:"primary",disable:e.disableElement,rules:[function(e){return e&&e.length>0||"Please enter Category"}]},on:{filter:e.filterCategoryList},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.categoryData.category,callback:function(t){e.$set(e.categoryData,"category",t)},expression:"categoryData.category"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Category ID",options:e.categoryIDOptions,behavior:"menu","lazy-rules":"",color:"primary",disable:e.disableElement,rules:[function(e){return e&&e.length>0||"Please enter Category ID"}]},on:{filter:e.filterCategoryID},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.categoryData.categoryID,callback:function(t){e.$set(e.categoryData,"categoryID",t)},expression:"categoryData.categoryID"}}),a("q-input",{attrs:{type:"text",label:"Category ID Number",dense:"",hint:"Your Employee ID",disable:e.disableElement,rules:[function(e){return e&&e.length>0||"Please enter Category ID Number or Your Employee ID"}]},model:{value:e.categoryData.categoryIDNumber,callback:function(t){e.$set(e.categoryData,"categoryIDNumber",t)},expression:"categoryData.categoryIDNumber"}}),a("q-input",{attrs:{type:"text",label:"Philhealth ID Number",hint:"Your Philhealth ID Number"},model:{value:e.categoryData.philhealthID,callback:function(t){e.$set(e.categoryData,"philhealthID",t)},expression:"categoryData.philhealthID"}}),a("q-input",{attrs:{type:"text",label:"PWD ID Number",hint:"Your PWD ID Number"},model:{value:e.categoryData.pwdID,callback:function(t){e.$set(e.categoryData,"pwdID",t)},expression:"categoryData.pwdID"}}),a("q-stepper-navigation",{staticClass:"flex flex-center"},["registration"===e.fillUpStatus?a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"SAVE",icon:"redo"}}):a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"UPDATE",icon:"redo"}})],1),a("div",{staticClass:"flex flex-center"},[""!==e.showError?a("q-banner",{staticClass:"text-white bg-red flex",staticStyle:{width:"50%"},attrs:{"inline-actions":"",align:"center"}},[a("q-icon",{attrs:{name:"report_problem",size:"lg"}}),a("span",{staticClass:"text-h6 q-pl-md"},[e._v(e._s(e.showError))])],1):e._e()],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l={props:["step"],data(){return{categoryListOptions:this.categoryList,categoryIDOptions:this.categoryID,categoryData:{category:null,categoryID:null,categoryIDNumber:null,philhealthID:null,pwdID:null,code:this.$route.params.id},disableElement:!0,showError:""}},computed:n()({},Object(r["b"])({categoryList:"categoryList",categoryID:"categoryID",categoryInfo:"categoryInfo",employeeInformation:"employeeInformation",fillUpStatus:"fillUpStatus"})),mounted(){},watch:{async fillUpStatus(e){"registration"===e&&(this.disableElement=!1,this.categoryData.category="Health Care Worker",this.categoryData.categoryID="Facility ID Number",this.categoryData.categoryIDNumber=this.$route.params.id)},async employeeInformation(e){e.Category_ID_Number.length>0&&await this.$store.dispatch("filterCategory",e)},async categoryInfo(e){this.categoryData.category=e.category,this.categoryData.categoryID=e.categoryID,this.categoryData.categoryIDNumber=e.categoryIDNumber,this.categoryData.philhealthID=e.philhealthID,this.categoryData.pwdID=e.pwdID}},methods:{async onSubmitCategory(){this.$refs.categoryInformation.validate().then((async e=>{if(e){if("registration"===this.fillUpStatus)if(this.categoryData.categoryIDNumber===this.employeeInformation.Category_ID_Number)this.categoryData.code=this.$q.cookies.get("user-code"),await this.$store.dispatch("saveCategory",this.categoryData);else{var t=await this.$store.dispatch("registerCategory",this.categoryData);if(void 0!==t.error)return void(this.showError=t.error);this.showError=""}else await this.$store.dispatch("saveCategory",this.categoryData);await this.$store.dispatch("stepBackwardOrForward",this.step+1)}else this.formHasError=!0}))},filterCategoryList(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryListOptions=this.categoryList.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryListOptions=this.categoryList})},filterCategoryID(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryIDOptions=this.categoryID.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryIDOptions=this.categoryID})}}},c=l,u=a("2877"),p=a("0378"),d=a("ddd8"),h=a("66e5"),m=a("4074"),f=a("27f9"),g=a("b19c"),y=a("9c40"),v=a("54e1"),b=a("0016"),D=a("eebe"),I=a.n(D),C=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=C.exports;I()(C,"components",{QForm:p["a"],QSelect:d["a"],QItem:h["a"],QItemSection:m["a"],QInput:f["a"],QStepperNavigation:g["a"],QBtn:y["a"],QBanner:v["a"],QIcon:b["a"]})},"3c75":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-md"},[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.vaccineMasterList,columns:e.columns,"row-key":"categoryIDNumber",filter:e.filter,selection:"single",selected:e.selected,loading:e.loading,title:"Vaccine Master List"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Search",autofocus:e.filterFocus},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.categoryIDNumber)+"\n              ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.fullName)+"\n              ")]),a("q-td",{key:"birthdate",attrs:{props:t}},[e._v("\n                "+e._s(t.row.birthdate)+"\n              ")]),a("q-td",{key:"contactNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.contactNumber)+"\n              ")]),a("q-td",{key:"philhealthID",attrs:{props:t}},[e._v("\n                  "+e._s(t.row.philhealthID)+"\n              ")])],1)]}}])})],1)])]),a("q-dialog",{attrs:{persistent:""},model:{value:e.employeeVaccinedDialog,callback:function(t){e.employeeVaccinedDialog=t},expression:"employeeVaccinedDialog"}},[a("q-card",{staticStyle:{width:"100%","max-width":"800px"}},[a("q-card-section",{staticClass:"bg-primary text-center"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"text-left text-h5 text-white text-weight-thin"},[a("q-icon",{staticClass:"q-pr-sm",attrs:{name:"fas fa-user"}}),e._v("\n            "+e._s(e.vaccineeDetails.fullName)+"\n          ")],1)])]),a("second-dose-dialog",{attrs:{vaccineeInfo:e.selected,dose:2}})],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card-section",[this.currentStation==this.currentModule?a("div",["Registration"==this.currentStation?a("div",[a("registration-info",{attrs:{registrationInfo:this.vaccineeInfo,dose:this.dose,allergiesAndComorbidities:e.allergiesAndComorbidities}})],1):"Screening"==this.currentStation?a("div",[a("div",{staticClass:"row justify-center items-center "},[a("div",{staticClass:"col-12 text-center text-h6 "},[e._v("\n            DECLARED COMORBIDITIES\n          ")]),e._l(e.allergiesAndComorbidities,(function(t,s){return a("div",{key:s,staticClass:"q-pa-sm"},[a("q-badge",{attrs:{color:"red"}},[a("q-icon",{staticClass:"q-mr-xs",attrs:{name:"warning",color:"white"}}),e._v(" "+e._s(t.replace("_"," ").toUpperCase())+"\n            ")],1)],1)}))],2),a("q-separator"),a("screening-info",{attrs:{screeningInfo:this.vaccineeInfo}})],1):"Vaccination"==this.currentStation?a("div",[a("vaccination-info",{attrs:{vaccinationInfo:this.vaccineeInfo}})],1):e._e()]):e._e()])],1)},c=[],u=a("940f"),p=a("069e"),d=a("0531"),h={components:{ScreeningInfo:p["a"],VaccinationInfo:d["a"],RegistrationInfo:u["a"]},props:["vaccineeInfo","dose"],data(){return{allergiesAndComorbidities:[],currentStation:null,currentModule:null}},mounted(){this.checkModules(this.vaccineeInfo)},methods:{checkModules(e){"1"===e[0].currentStation?this.currentStation="Preregistration":"2"===e[0].currentStation||void 0===e[0].currentStation?this.currentStation="Registration":"3"===e[0].currentStation?this.currentStation="Screening":"4"===e[0].currentStation?this.currentStation="Vaccination":"5"===e[0].currentStation&&(this.currentStation="Monitoring"),this.currentModule=this.$q.cookies.get("module")}}},m=h,f=a("2877"),g=a("a370"),y=a("58a81"),v=a("0016"),b=a("eb85"),D=a("eebe"),I=a.n(D),C=Object(f["a"])(m,l,c,!1,null,null,null),_=C.exports;I()(C,"components",{QCardSection:g["a"],QBadge:y["a"],QIcon:v["a"],QSeparator:b["a"]});var S={components:{SecondDoseDialog:_},props:["vaccineMasterList","dataLoaded"],data(){return{filterFocus:!1,selected:[],filter:"",employeeVaccinedDialog:!1,pagination:{rowsPerPage:0},vaccineeDetails:{code:null,fullName:null,withVAS:!1,station:"1"},columns:[{name:"categoryIDNumber",label:"Code",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"left",label:"Name",field:"fullName",sortable:!0},{name:"birthdate",label:"Birthdate",field:"birthdate",align:"left",sortable:!0},{name:"contactNumber",label:"Contact #",field:"contactNumber",align:"left",sortable:!0},{name:"philhealthID",label:"Philhealth ID",field:"philhealthID",align:"left",sortable:!0}]}},computed:n()({},Object(r["b"])({loading:"loading",revertQR:"revertQR",dialog:"dialog"})),mounted(){this.setInitValues()},watch:{dialog(e){e?this.employeeVaccinedDialog=!0:(this.employeeVaccinedDialog=!1,this.setInitValues())},async selected(e){e.length>0&&(this.employeeVaccinedDialog=!0,this.vaccineeDetails.fullName=e[0].fullName,this.vaccineeDetails.code=e[0].categoryIDNumber,this.vaccineeDetails.station=null!==e[0].Station?e[0].Station:null,null!==e[0].EmployeeID&&(this.vaccineeDetails.withVAS=!0),await this.$store.dispatch("dialog",!0))},dataLoaded(e){e&&(this.filterFocus=!0)},revertQR(e){e&&(this.employeeVaccinedDialog=!1)}},methods:{setInitValues(){this.vaccineeDetails.code=null,this.vaccineeDetails.fullName=null,this.selected=[]},async saveVASInfo(){await this.$store.dispatch("setLoading",!0);const e=await this.$store.dispatch("saveVASInfo",this.vaccineeDetails);e.message.length>0&&(this.employeeVaccinedDialog=!1,await this.$store.dispatch("savingStatus",!0),this.setInitValues()),await this.$store.dispatch("setLoading",!1)}}},q=S,x=a("eaac"),N=a("27f9"),w=a("74f7"),L=a("bd08"),k=a("db86"),$=a("9564"),O=a("24e8"),P=a("f09f"),R=Object(f["a"])(q,s,i,!1,null,null,null);t["a"]=R.exports;I()(R,"components",{QCardSection:g["a"],QTable:x["a"],QInput:N["a"],QIcon:v["a"],QInnerLoading:w["a"],QTr:L["a"],QTd:k["a"],QToggle:$["a"],QDialog:O["a"],QCard:P["a"]})},"4d21":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-form",{ref:"otherInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitOtherInfo}},[a("q-input",{attrs:{type:"text",label:"Employer Name",dense:"",hint:"Your Employer Name",disable:!0},model:{value:e.otherData.employerName,callback:function(t){e.$set(e.otherData,"employerName",t)},expression:"otherData.employerName"}}),a("q-input",{attrs:{type:"text",label:"Employer LGU",dense:"",hint:"Your Employer LGU",disable:!0},model:{value:e.otherData.employerLGU,callback:function(t){e.$set(e.otherData,"employerLGU",t)},expression:"otherData.employerLGU"}}),a("q-input",{attrs:{type:"text",label:"Employer Address",dense:"",hint:"Your Employer Address",disable:!0},model:{value:e.otherData.employerAddress,callback:function(t){e.$set(e.otherData,"employerAddress",t)},expression:"otherData.employerAddress"}}),a("q-input",{attrs:{type:"text",label:"Employer Contact Number",dense:"",hint:"Your Employer Contact Number",disable:!0},model:{value:e.otherData.employerContactNumber,callback:function(t){e.$set(e.otherData,"employerContactNumber",t)},expression:"otherData.employerContactNumber"}}),a("q-stepper-navigation",{staticClass:"flex flex-center"},[a("q-btn-group",{attrs:{push:""}},["registration"===e.fillUpStatus?a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"SAVE",icon:"redo"}}):a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"UPDATE",icon:"redo"}}),a("q-btn",{attrs:{push:"",color:"primary",label:"Back",icon:"undo"},on:{click:function(t){return e.stepBackward()}}})],1)],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l={props:["step"],data(){return{otherData:{employerName:null,employerLGU:null,employerAddress:null,employerContactNumber:null,code:this.$route.params.id,formType:null}}},computed:n()({},Object(r["b"])({employeeInformation:"employeeInformation",fillUpStatus:"fillUpStatus"})),mounted(){this.setOtherInformation(),this.otherData.employerName="UERMMMCI",this.otherData.employerLGU="137404 - QUEZON_CITY",this.otherData.employerAddress="64 BRGY DONA IMELDA AURORA BLVD",this.otherData.employerContactNumber="87150861"},methods:{async setOtherInformation(){if(this.otherData.employerName=this.employeeInformation.Name_Of_Employer,this.otherData.employerLGU=this.employeeInformation.Employer_Province,this.otherData.employerAddress=this.employeeInformation.Address_of_Employer,this.otherData.employerContactNumber=this.employeeInformation.Contact_Number_Of_Employer,"registration"===this.fillUpStatus){const e=this.$q.cookies.get("user-code");this.otherData.code=e,this.otherData.employerName="UERMMMCI",this.otherData.employerLGU="137404 - QUEZON_CITY",this.otherData.employerAddress="64 BRGY DONA IMELDA AURORA BLVD",this.otherData.employerContactNumber="87150861",this.otherData.formType="registration"}},async stepBackward(){if(await this.$store.dispatch("stepBackwardOrForward",this.step-1),"Employee"===this.$route.name)await this.$store.dispatch("checkEmployee",this.$route.params.id);else if("Home"===this.$route.name){const e=this.$q.cookies.get("user-code");await this.$store.dispatch("checkEmployee",e)}else await this.$store.dispatch("checkOtherUser",this.$route.params.id)},onSubmitOtherInfo(){this.$refs.otherInformation.validate().then((async e=>{e?(await this.$store.dispatch("stepBackwardOrForward",this.step+1),await this.$store.dispatch("saveOtherInformation",this.otherData)):this.formHasError=!0}))}}},c=l,u=a("2877"),p=a("0378"),d=a("27f9"),h=a("b19c"),m=a("e7a9"),f=a("9c40"),g=a("eebe"),y=a.n(g),v=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=v.exports;y()(v,"components",{QForm:p["a"],QInput:d["a"],QStepperNavigation:h["a"],QBtnGroup:m["a"],QBtn:f["a"]})},5580:function(e,t,a){},"75b8":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-form",{ref:"personalInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitPersonalInfo}},[a("q-input",{attrs:{type:"text",label:"Lastname",hint:"Your Last Name",rules:[function(e){return e&&e.length>0||"Please enter Last Name"}]},model:{value:e.personalData.lastName,callback:function(t){e.$set(e.personalData,"lastName",t)},expression:"personalData.lastName"}}),a("q-input",{attrs:{type:"text",label:"Firstname",hint:"Your First Name",rules:[function(e){return e&&e.length>0||"Please enter First Name"}]},model:{value:e.personalData.firstName,callback:function(t){e.$set(e.personalData,"firstName",t)},expression:"personalData.firstName"}}),a("q-input",{attrs:{type:"text",label:"Middlename",hint:"Your Middle Name",rules:[function(e){return e&&e.length>0||"Please enter Middle Name"}]},model:{value:e.personalData.middleName,callback:function(t){e.$set(e.personalData,"middleName",t)},expression:"personalData.middleName"}}),a("q-input",{attrs:{type:"text",label:"Suffix",hint:"Your Suffix"},model:{value:e.personalData.suffix,callback:function(t){e.$set(e.personalData,"suffix",t)},expression:"personalData.suffix"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Gender",options:e.genderListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},on:{filter:e.filterGender},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.gender,callback:function(t){e.$set(e.personalData,"gender",t)},expression:"personalData.gender"}}),a("q-input",{attrs:{filled:"",mask:"date",rules:["date"],hint:"Your Birthdate (YYYY/MM/DD)"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Civil Status",options:e.civilStatusListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Civil Status"}]},on:{filter:e.filterCivilStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.civilStatus,callback:function(t){e.$set(e.personalData,"civilStatus",t)},expression:"personalData.civilStatus"}}),a("q-input",{attrs:{type:"number",label:"Contact Number",hint:"Your Contact Number (09*********)",maxlength:"11",rules:[function(e){return e&&e.length>0||"Please enter Contact Number"},function(e){return e.length<=11||"Please enter valid contact number"}]},model:{value:e.personalData.contactNumber,callback:function(t){e.$set(e.personalData,"contactNumber",t)},expression:"personalData.contactNumber"}}),a("q-input",{attrs:{type:"text",label:"Full Address",hint:"Please include your barangay follow by asterisk(*) in your FULL ADDRESS",rules:[function(e){return e&&e.length>0||"Please enter Full Address"}]},model:{value:e.personalData.fullAddress,callback:function(t){e.$set(e.personalData,"fullAddress",t)},expression:"personalData.fullAddress"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.region,callback:function(t){e.$set(e.personalData,"region",t)},expression:"personalData.region"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.province,callback:function(t){e.$set(e.personalData,"province",t)},expression:"personalData.province"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.municipality,callback:function(t){e.$set(e.personalData,"municipality",t)},expression:"personalData.municipality"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Barangay",options:e.barangaysListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Barangay"}]},on:{filter:e.filterBarangays},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.barangay,callback:function(t){e.$set(e.personalData,"barangay",t)},expression:"personalData.barangay"}}),a("q-banner",{staticClass:"bg-orange text-white",staticStyle:{"margin-top":"-5px !important","margin-bottom":"35px"},attrs:{"inline-actions":"",rounded:""},scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"warning",color:"white"}})]},proxy:!0}])},[e._v("\n      If you cannot find your barangay, please include it on your FULL ADDRESS then select any barangay in the dropdown selection. IT Department will update it manually.\n    ")]),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Employment Status",options:e.employmentStatusOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Employment Status"}]},on:{filter:e.filterEmploymentStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.employed,callback:function(t){e.$set(e.personalData,"employed",t)},expression:"personalData.employed"}}),a("q-checkbox",{staticClass:"q-pb-md",attrs:{size:"lg",color:"primary",label:"Directly in interaction with COVID Patient ?","true-value":"01_Yes","false-value":"02_No"},model:{value:e.personalData.directCovid,callback:function(t){e.$set(e.personalData,"directCovid",t)},expression:"personalData.directCovid"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"Profession",options:e.professionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Profession"}]},on:{filter:e.filterProfessions},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n            No results\n          ")])],1)]},proxy:!0}]),model:{value:e.personalData.profession,callback:function(t){e.$set(e.personalData,"profession",t)},expression:"personalData.profession"}}),a("q-stepper-navigation",{staticClass:"flex flex-center"},[a("q-btn-group",{attrs:{push:""}},["registration"===e.fillUpStatus?a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"SAVE",icon:"redo"}}):a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"UPDATE",icon:"redo"}}),a("q-btn",{attrs:{push:"",color:"primary",label:"Back",icon:"undo"},on:{click:function(t){return e.stepBackward()}}})],1)],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=(a("498a"),a("1e25"),a("2f62")),l={props:["step"],data(){return{genderListOptions:[],genderLists:[],civilStatusListOptions:[],civilStatusLists:[],professionListOptions:[],professionLists:[],employmentStatusOptions:this.employmentStatus,employmentStatusLists:[],regionListOptions:[],regionLists:[],provincesListOptions:this.provinces,provincesLists:this.provinces,citiesListOptions:this.cities,citiesLists:this.cities,barangaysListOptions:this.barangays,barangaysLists:this.barangays,personalData:{lastName:null,firstName:null,middleName:null,suffix:null,gender:null,birthdate:null,civilStatus:null,contactNumber:null,fullAddress:null,region:null,province:null,municipality:null,barangay:null,employed:null,directCovid:"02_No",profession:null,code:this.$route.params.id,formType:null}}},computed:n()({},Object(r["b"])({employeeInformation:"employeeInformation",currentPersonalInfo:"currentPersonalInfo",gender:"gender",civilStatus:"civilStatus",professions:"professions",employmentStatus:"employmentStatus",region:"region",provinces:"provinces",cities:"cities",barangays:"barangays",fillUpStatus:"fillUpStatus"})),watch:{async employeeInformation(e){e.Category_ID_Number.length>0&&this.formatPersonalInfo(e)},personalData:{async handler(e){this.formatPersonalInfo(e)},deep:!0}},mounted(){this.setPersonalInfo()},methods:{async formatPersonalInfo(e){await this.$store.dispatch("getProvinces",e.region);for(var t=[],a=0;a<this.provinces.length;a++)t[a]=this.provinces[a].name;if(this.provincesListOptions=t,this.provincesLists=t,0!==this.provinces.length){const t=this.provinces.filter((t=>t.name===e.province));if(t.length>0){await this.$store.dispatch("getCities",t[0].shortCode);for(var s=[],i=0;i<this.cities.length;i++)s[i]=this.cities[i].name;if(this.citiesListOptions=s,this.citiesLists=s,this.cities.length>0){const t=e.municipality;var o=this.cities.filter((e=>e.name===t.trim()));if(o.length>0){await this.$store.dispatch("getBarangays",o[0].shortCode);for(var n=[],r=0;r<this.barangays.length;r++)n[r]=this.barangays[r].name;this.barangaysListOptions=n,this.barangaysLists=n}}}}},async setPersonalInfo(){if("registration"===this.fillUpStatus){const e=this.$q.cookies.get("user-code");await this.$store.dispatch("checkEmployee",e),this.personalData.code=this.$q.cookies.get("user-code"),this.personalData.directCovid="01_Yes"===this.employeeInformation.Direct_Interaction_With_COVID_Patient?"01_Yes":"02_No",this.personalData.formType="registration"}for(var e=[],t=0;t<this.gender.length;t++)e[t]=this.gender[t].name;this.genderLists=e;for(var a=[],s=0;s<this.civilStatus.length;s++)a[s]=this.civilStatus[s].name;this.civilStatusLists=a;for(var i=[],o=0;o<this.region.length;o++)i[o]=this.region[o].name;this.regionLists=i;for(var n=[],r=0;r<this.employmentStatus.length;r++)n[r]=this.employmentStatus[r].name;this.employmentStatusLists=n;for(var l=[],c=0;c<this.professions.length;c++)l[c]=this.professions[c].name;this.professionLists=l,this.filterPersonalInfo(this.employeeInformation)},async filterPersonalInfo(e){if(e.First_Name.length>0){if(""!==e.Sex)var t=this.gender.filter((t=>t.code===e.Sex));if(""!==e.Civil_Status)var a=this.civilStatus.filter((t=>t.code===e.Civil_Status));if(""!==e.Profession)var s=this.professions.filter((t=>t.code===e.Profession));if(""!==e.Employment_Status)var i=this.employmentStatus.filter((t=>t.code===e.Employment_Status));if(""!==e.Region)var o=this.region.filter((t=>t.code===e.Region));if(console.log(e.Barangay,"barancy"),""!==e.Barangay&&null!==e.Barangay&&e.Barangay.length>0){const t=e.Barangay.split("_");var n=/^[0-9]+$/,r="";if(t[1].match(n))r="";else r=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",c=void 0!==t[6]?t[6]:"",u=void 0!==t[7]?t[7]:"",p=void 0!==t[8]?t[8]:"",d=void 0!==t[9]?t[9]:"",h=void 0!==t[10]?t[10]:"",m=void 0!==t[11]?t[11]:"",f=`${r} ${a} ${s} ${i} ${o} ${c} ${u} ${p} ${d} ${h} ${m}`;var l=f.trimRight()}if(""!==e.Municipality_City&&null!==e.Municipality_City&&e.Municipality_City.length>0){const t=e.Municipality_City.split("_");n=/^[0-9]+$/;if(t[1].match(n))var c="";else c=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",r=void 0!==t[6]?t[6]:"",l=void 0!==t[7]?t[7]:"",p=void 0!==t[8]?t[8]:"",d=void 0!==t[9]?t[9]:"",h=void 0!==t[10]?t[10]:"",m=void 0!==t[11]?t[11]:"",f=`${c} ${a} ${s} ${i} ${o} ${r} ${l} ${p} ${d} ${h} ${m}`;var u=f.trimRight()}this.personalData.lastName=e.Last_Name,this.personalData.firstName=e.First_Name,this.personalData.middleName=e.Middle_Name,this.personalData.suffix=e.Suffix,this.personalData.gender=void 0!==t?t[0].name:"";const p=new Date(e.Birthdate),d=new Intl.DateTimeFormat("en",{year:"numeric"}).format(p),h=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(p),m=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(p),f=`${d}/${h}/${m}`;this.personalData.birthdate=f,this.personalData.civilStatus=void 0!==a[0].name?a[0].name:"",this.personalData.contactNumber=e.Contact_Number,this.personalData.fullAddress=e.Full_Address,this.personalData.region=o.length>0?o[0].name:"",this.personalData.province=e.Province,this.personalData.municipality=u,this.personalData.barangay=l,this.personalData.employed=void 0!==i?i[0].name:"",this.personalData.directCovid=""===e.Direct_Interaction_With_COVID_Patient||void 0===e.Direct_Interaction_With_COVID_Patient?"02_No":e.Direct_Interaction_With_COVID_Patient,this.personalData.profession=void 0!==s?s[0].name:"",this.formatPersonalInfo(this.personalData)}},async stepBackward(){if(await this.$store.dispatch("stepBackwardOrForward",this.step-1),"Employee"===this.$route.name)await this.$store.dispatch("checkEmployee",this.$route.params.id);else if("Home"===this.$route.name){const e=this.$q.cookies.get("user-code");await this.$store.dispatch("checkEmployee",e)}else await this.$store.dispatch("checkOtherUser",this.$route.params.id)},onSubmitPersonalInfo(){this.$refs.personalInformation.validate().then((async e=>{e?(await this.$store.dispatch("stepBackwardOrForward",this.step+1),await this.$store.dispatch("savePersonalInformation",this.personalData)):this.formHasError=!0}))},filterRegion(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.regionListOptions=this.regionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.regionListOptions=this.regionLists,this.personalData.province=[],this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[],this.barangaysListOptions=[],this.barangaysLists=[]})},filterProvinces(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.provincesListOptions=this.provincesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.provincesListOptions=this.provincesLists,this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[],this.barangaysListOptions=[],this.barangaysLists=[]})},filterCities(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.citiesListOptions=this.citiesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.citiesListOptions=this.citiesLists,this.personalData.barangay=[],this.barangaysListOptions=[],this.barangaysLists=[]})},filterBarangays(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.barangaysListOptions=this.barangaysLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.barangaysListOptions=this.barangaysLists})},filterGender(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.genderListOptions=this.genderLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.genderListOptions=this.genderLists})},filterCivilStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.civilStatusListOptions=this.civilStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.civilStatusListOptions=this.civilStatusLists})},filterProfessions(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.professionListOptions=this.professionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.professionListOptions=this.professionLists})},filterEmploymentStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.employmentStatusOptions=this.employmentStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.employmentStatusOptions=this.employmentStatusLists})}}},c=l,u=a("2877"),p=a("0378"),d=a("27f9"),h=a("ddd8"),m=a("66e5"),f=a("4074"),g=a("0016"),y=a("7cbe"),v=a("52ee"),b=a("9c40"),D=a("54e1"),I=a("8f8e"),C=a("b19c"),_=a("e7a9"),S=a("7f67"),q=a("eebe"),x=a.n(q),N=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=N.exports;x()(N,"components",{QForm:p["a"],QInput:d["a"],QSelect:h["a"],QItem:m["a"],QItemSection:f["a"],QIcon:g["a"],QPopupProxy:y["a"],QDate:v["a"],QBtn:b["a"],QBanner:D["a"],QCheckbox:I["a"],QStepperNavigation:C["a"],QBtnGroup:_["a"]}),x()(N,"directives",{ClosePopup:S["a"]})},"7c1c":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-form",{ref:"reservationInformation",on:{submit:e.searchVaccinee}},[a("q-card-section",{staticClass:" bg-primary"},[a("div",{staticClass:"text-h5 text-white text-weight-thin"},[a("div",{staticClass:"row justify-between"},[a("div",[e._v("\n            "+e._s(e.dosage)+" "),a("span",{staticClass:"text-uppercase"},[e._v("- "+e._s(e.$route.name))])]),a("div",[a("q-btn-group",[a("q-btn",{attrs:{push:"",icon:"qr_code_scanner",color:"secondary"},on:{click:function(t){return e.openQRCodeScanner()}}},[a("q-tooltip",[e._v("\n                  QR CODE SCANNER\n                ")])],1),"Registration"===this.currentModule?a("q-btn",{attrs:{push:"",icon:"app_registration",color:"secondary"},on:{click:function(t){return e.openPreRegistration()}}},[a("q-tooltip",[e._v("\n                  PREREGISTRATION LIST\n                ")])],1):e._e(),"Registration"===this.currentModule?a("q-btn",{attrs:{push:"",icon:"accessibility",color:"secondary"},on:{click:function(t){return e.openReservation()}}},[a("q-tooltip",[e._v("\n                  RESERVATION ACCESSIBILITY\n                ")])],1):e._e(),"Registration"===this.currentModule?a("q-btn",{attrs:{push:"",icon:"schedule",color:"secondary"},on:{click:function(t){return e.openScheduling()}}},[a("q-tooltip",[e._v("\n                  SCHEDULING\n                ")])],1):e._e()],1),"Registration"===this.currentModule?a("q-dialog",{model:{value:e.preRegistrationDialog,callback:function(t){e.preRegistrationDialog=t},expression:"preRegistrationDialog"}},[a("PreRegistrationDialog")],1):e._e(),a("q-dialog",{model:{value:e.qrCodeDialog,callback:function(t){e.qrCodeDialog=t},expression:"qrCodeDialog"}},[a("QRScannerDialog",{attrs:{station:e.$route.name}})],1),"Registration"===this.currentModule?a("q-dialog",{model:{value:e.reservationDialog,callback:function(t){e.reservationDialog=t},expression:"reservationDialog"}},[a("reservation-dialog")],1):e._e(),"Registration"===this.currentModule?a("q-dialog",{model:{value:e.schedulingDialog,callback:function(t){e.schedulingDialog=t},expression:"schedulingDialog"}},[a("scheduling-dialog")],1):e._e()],1)])])]),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-xs"},[a("div",{staticClass:"flex flex-center"},[a("q-input",{staticClass:"q-pa-md",attrs:{box:"",outlined:"",label:"Last Name",autofocus:e.filterLastNameFocus,rules:[function(e){return e&&e.length>0||"Please enter Last Name of Vaccinee"}]},model:{value:e.searchCriteria.lastName,callback:function(t){e.$set(e.searchCriteria,"lastName",t)},expression:"searchCriteria.lastName"}})],1)]),a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pt-md"},[a("div",{staticClass:"flex flex-center"},[a("q-btn",{attrs:{push:"",color:"primary",type:"submit",label:"SEARCH",icon:"filter_alt",align:"center"}})],1)])])])],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{width:"900px","max-width":"1500px"}},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-center text-h5 text-white text-weight-thin"},[e._v("\n      QR SCANNER\n    ")])]),null!==this.qrMessage?a("q-card-section",{staticStyle:{width:"900px"}},[a("q-banner",{staticClass:"text-white bg-negative",attrs:{"inline-actions":""}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"qr_code",size:"lg"}}),e._v("\n      "+e._s(this.qrMessage)+"\n    ")],1)],1):e._e(),e.showDetails?e._e():a("q-card-section",{staticStyle:{width:"900px"}},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-lg-12"},[a("qrcode-stream",{attrs:{camera:e.camera},on:{decode:e.onDecode,init:e.onInit}})],1)])]),e.showDetails?a("q-card-section",{staticStyle:{width:"100%"}},[a("ApprovalDialog",{attrs:{vaccineeInfo:e.vaccineeDetails}})],1):e._e()],1)},c=[],u=(a("498a"),a("bb6f")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.editPersonalInfo?e._e():a("q-card-section",[this.vaccineeInfo.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-xs"},[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.vaccineeInfo,columns:e.columns,"row-key":"categoryIDNumber",selection:"single",selected:e.selected,loading:e.preRegisteredLoading,title:"Vaccinee List"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.categoryIDNumber)+"\n              ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.fullName)+"\n              ")]),a("q-td",{key:"currentStation",attrs:{props:t}},["1"===t.row.currentStation?a("div",[a("q-badge",{attrs:{color:"grey"}},[e._v("\n                    PREREGISTRATION\n                  ")])],1):"2"===t.row.currentStation?a("div",[a("q-badge",{attrs:{color:"green"}},[1===t.row.VaccinedDosage&&null===t.row.SecondDose?a("div",[a("span",{staticClass:"q-pr-xs"},[e._v("\n                        SECOND DOSE -\n                      ")]),e._v("\n                      FOR SCHEDULING\n                    ")]):a("div",[1===t.row.VaccinedDosage?a("span",{staticClass:"q-pr-xs"},[e._v("\n                        SECOND DOSE -\n                      ")]):e._e(),e._v("\n                      REGISTRATION\n                    ")])])],1):"3"===t.row.currentStation?a("div",[a("q-badge",{attrs:{color:"orange"}},[1===t.row.VaccinedDosage?a("span",{staticClass:"q-pr-xs"},[e._v("\n                      SECOND DOSE -\n                    ")]):e._e(),e._v("\n                    SCREENING\n                  ")])],1):"4"===t.row.currentStation?a("div",[a("q-badge",{attrs:{color:"pink"}},[1===t.row.VaccinedDosage?a("span",{staticClass:"q-pr-xs"},[e._v("\n                      SECOND DOSE -\n                    ")]):e._e(),e._v("\n                    VACCINATION\n                  ")])],1):e._e()])],1)]}}],null,!1,2855136766)})],1)]):e._e()]),e.editPersonalInfo?a("q-card-section",{staticClass:"flex flex-center"},[this.currentStation==this.currentModule?a("div",{staticStyle:{width:"100%"}},["Registration"==this.currentStation?a("div",[1===this.vaccineeInfo[0].VaccinedDosage&&null===this.vaccineeInfo[0].SecondDose?a("div",[a("div",{staticClass:"text-h6 text-uppercase text-center"},[e._v("\n            THIS SECOND DOSE VACCINEE IS FOR SCHEDULING\n          ")])]):a("div",[a("registration-info",{attrs:{registrationInfo:this.vaccineeInfo,dose:this.dose,qrScanner:!0}})],1)]):"Screening"==this.currentStation?a("div",{attrs:{dose:this.dose,qrScanner:!0}},[a("screening-info",{attrs:{screeningInfo:this.vaccineeInfo,qrScanner:!0}})],1):"Vaccination"==this.currentStation?a("div",[a("vaccination-info",{attrs:{vaccinationInfo:this.vaccineeInfo,dose:this.dose,qrScanner:!0}})],1):e._e()]):a("div",["Preregistration"==this.currentStation?a("div",[a("preregistration-info",{attrs:{preRegistrationInfo:this.vaccineeInfo,qrScanner:!0}})],1):a("div",{staticClass:"row"},[a("div",{staticClass:"text-h6 text-uppercase text-center"},[e._v("\n          "+e._s(this.selected[0].lastName)+" "+e._s(this.selected[0].firstName)+" "+e._s(this.selected[0].middleName)+" IS ON THE "+e._s(this.currentStation)+" STATION\n        ")])])])]):e._e()],1)},d=[],h=a("940f"),m=a("069e"),f=a("0531"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-form",{ref:"personalInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitPersonalInfo}},[e.editPersonalInfo?a("q-card-section",[this.preRegistrationInfo[0].Cancelled?a("div",[a("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n        THIS VACCINEE WAS CANCELLED\n      ")],1)],1):a("div",[a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Category",options:e.categoryListOptions,behavior:"menu",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category"}]},on:{filter:e.filterCategoryList},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n              No results\n            ")])],1)]},proxy:!0}],null,!1,2205263247),model:{value:e.personalData.category,callback:function(t){e.$set(e.personalData,"category",t)},expression:"personalData.category"}}),a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Category ID",options:e.categoryIDOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category ID"}]},on:{filter:e.filterCategoryID},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n              No results\n            ")])],1)]},proxy:!0}],null,!1,2205263247),model:{value:e.personalData.categoryID,callback:function(t){e.$set(e.personalData,"categoryID",t)},expression:"personalData.categoryID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Category ID Number",hint:"Category ID Number",rules:[function(e){return e&&e.length>0||"Please enter Category ID Number"}]},model:{value:e.personalData.categoryIDNumber,callback:function(t){e.$set(e.personalData,"categoryIDNumber",t)},expression:"personalData.categoryIDNumber"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Philhealth ID Number",hint:"Your Philhealth ID"},model:{value:e.personalData.philhealthID,callback:function(t){e.$set(e.personalData,"philhealthID",t)},expression:"personalData.philhealthID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"PWD ID Number",hint:"PWD ID Number"},model:{value:e.personalData.pwdID,callback:function(t){e.$set(e.personalData,"pwdID",t)},expression:"personalData.pwdID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Lastname",hint:"Your Last Name",rules:[function(e){return e&&e.length>0||"Please enter Last Name"}]},model:{value:e.personalData.lastName,callback:function(t){e.$set(e.personalData,"lastName",t)},expression:"personalData.lastName"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Firstname",hint:"Your First Name",rules:[function(e){return e&&e.length>0||"Please enter First Name"}]},model:{value:e.personalData.firstName,callback:function(t){e.$set(e.personalData,"firstName",t)},expression:"personalData.firstName"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Middlename",hint:"Your Middle Name",rules:[function(e){return e&&e.length>0||"Please enter Middle Name"}]},model:{value:e.personalData.middleName,callback:function(t){e.$set(e.personalData,"middleName",t)},expression:"personalData.middleName"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Gender",options:e.genderListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},on:{filter:e.filterGender},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n              No results\n            ")])],1)]},proxy:!0}],null,!1,2205263247),model:{value:e.personalData.gender,callback:function(t){e.$set(e.personalData,"gender",t)},expression:"personalData.gender"}}),a("q-input",{attrs:{outlined:"",square:"",mask:"date",rules:["date"],hint:"Your Birthdate (YYYY/MM/DD)"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,1552600922),model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Civil Status",options:e.civilStatusListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Civil Status"}]},on:{filter:e.filterCivilStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n              No results\n            ")])],1)]},proxy:!0}],null,!1,2205263247),model:{value:e.personalData.civilStatus,callback:function(t){e.$set(e.personalData,"civilStatus",t)},expression:"personalData.civilStatus"}}),a("q-input",{attrs:{outlined:"",square:"",type:"number",label:"Contact Number",hint:"Your Contact Number",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},model:{value:e.personalData.contactNumber,callback:function(t){e.$set(e.personalData,"contactNumber",t)},expression:"personalData.contactNumber"}}),null==this.personalData.householdMemberCategory||""==this.personalData.householdMemberCategory?a("div",[a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Full Address",hint:"Please include your barangay follow by asterisk(*) in your FULL ADDRESS",rules:[function(e){return e&&e.length>0||"Please enter Full Address"}]},model:{value:e.personalData.fullAddress,callback:function(t){e.$set(e.personalData,"fullAddress",t)},expression:"personalData.fullAddress"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.region,callback:function(t){e.$set(e.personalData,"region",t)},expression:"personalData.region"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.province,callback:function(t){e.$set(e.personalData,"province",t)},expression:"personalData.province"}}),a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.municipality,callback:function(t){e.$set(e.personalData,"municipality",t)},expression:"personalData.municipality"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Barangay",options:e.barangaysListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Barangay"}]},on:{filter:e.filterBarangays},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.barangay,callback:function(t){e.$set(e.personalData,"barangay",t)},expression:"personalData.barangay"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Employment Status",options:e.employmentStatusOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Employment Status"}]},on:{filter:e.filterEmploymentStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.employed,callback:function(t){e.$set(e.personalData,"employed",t)},expression:"personalData.employed"}}),a("q-checkbox",{staticClass:"q-pb-md",attrs:{size:"lg",color:"primary",label:"Directly in interaction with COVID Patient ?","true-value":"01_Yes","false-value":"02_No"},model:{value:e.personalData.directCovid,callback:function(t){e.$set(e.personalData,"directCovid",t)},expression:"personalData.directCovid"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Profession",options:e.professionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Profession"}]},on:{filter:e.filterProfessions},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.profession,callback:function(t){e.$set(e.personalData,"profession",t)},expression:"personalData.profession"}})],1):"alumni"==this.personalData.householdMemberCategory?a("div",[a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Full Address",hint:"Please include your barangay follow by asterisk(*) in your FULL ADDRESS",rules:[function(e){return e&&e.length>0||"Please enter Full Address"}]},model:{value:e.personalData.fullAddress,callback:function(t){e.$set(e.personalData,"fullAddress",t)},expression:"personalData.fullAddress"}}),a("q-select",{staticClass:"q-pt-md",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.region,callback:function(t){e.$set(e.personalData,"region",t)},expression:"personalData.region"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.province,callback:function(t){e.$set(e.personalData,"province",t)},expression:"personalData.province"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                No results\n              ")])],1)]},proxy:!0}],null,!1,1812372623),model:{value:e.personalData.municipality,callback:function(t){e.$set(e.personalData,"municipality",t)},expression:"personalData.municipality"}}),a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Barangay",rules:[function(e){return e&&e.length>0||"Please enter Barangay"}]},model:{value:e.personalData.barangay,callback:function(t){e.$set(e.personalData,"barangay",t)},expression:"personalData.barangay"}})],1):e._e()],1)]):e._e(),e.editPersonalInfo?a("q-card-actions",{staticClass:"flex flex-center"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-lg-12 col-sm-6 col-xs-6",staticStyle:{overflow:"auto"}},[a("q-btn-group",[this.preRegistrationInfo[0].Cancelled&&null!==this.preRegistrationInfo[0].Cancelled?e._e():a("q-btn",{attrs:{push:"",icon:"redo",color:"green",type:"submit",label:"APPROVE"}}),this.preRegistrationInfo[0].Cancelled&&null!==this.preRegistrationInfo[0].Cancelled?e._e():a("q-btn",{attrs:{push:"",icon:"save",color:"orange",label:"UPDATE"},on:{click:function(t){return e.updateInformation("update")}}}),this.preRegistrationInfo[0].Cancelled&&null!==this.preRegistrationInfo[0].Cancelled?e._e():a("q-btn",{attrs:{push:"",icon:"delete",color:"black",label:"CANCEL"},on:{click:function(t){return e.updateInformation("cancel")}}}),e.allowDelete?a("q-btn",{attrs:{push:"",icon:"delete",color:"secondary",label:"DELETE"},on:{click:function(t){return e.deleteVaccinee()}}}):e._e(),a("q-btn",{attrs:{push:"",icon:"undo",color:"negative",label:"BACK"},on:{click:function(t){return e.closeDialog()}}})],1)],1)])]):e._e()],1)},y=[],v=(a("1e25"),a("eee7"),{name:"PreregistrationInfo",props:["preRegistrationInfo","qrScanner"],data(){return{filterFocus:!1,employeeVaccinedDialog:!1,vaccineeDetails:{code:null,fullName:null,withVAS:!1,station:"1"},categoryListOptions:this.categoryList,categoryIDOptions:this.categoryID,genderListOptions:[],genderLists:[],civilStatusListOptions:[],civilStatusLists:[],professionListOptions:[],professionLists:[],employmentStatusOptions:this.employmentStatus,employmentStatusLists:[],regionListOptions:[],regionLists:[],provincesListOptions:this.provinces,provincesLists:this.provinces,citiesListOptions:this.cities,citiesLists:this.cities,barangaysListOptions:this.barangays,barangaysLists:this.barangays,allowDelete:!1,personalData:{category:null,categoryID:null,categoryIDNumber:null,philhealthID:null,pwdID:null,lastName:null,firstName:null,middleName:null,suffix:null,gender:null,birthdate:null,civilStatus:null,contactNumber:null,fullAddress:null,region:null,province:null,municipality:null,barangay:null,employed:null,directCovid:"02_No",profession:null,code:this.$route.params.id,formType:null,householdMemberCategory:null,qrCode:null}}},computed:n()({},Object(r["b"])({categoryList:"categoryList",categoryID:"categoryID",categoryRaw:"categoryRaw",categoryIDRaw:"categoryIDRaw",gender:"gender",civilStatus:"civilStatus",professions:"professions",employmentStatus:"employmentStatus",region:"region",provinces:"provinces",cities:"cities",barangays:"barangays",editPersonalInfo:"editPersonalInfo"})),mounted(){this.qrScanner?this.formatPersonalInfo(this.preRegistrationInfo):this.closeDialog(),this.setUserPermission()},watch:{editPersonalInfo(e){e&&this.formatPersonalInfo(this.preRegistrationInfo)},personalData:{async handler(e){this.editPersonalInformation(this.preRegistrationInfo)},deep:!0}},methods:{async formatPersonalInfo(e){await this.$store.dispatch("revertQR",!1),this.personalData.categoryIDNumber=e[0].categoryIDNumber,this.personalData.philhealthID=e[0].philhealthID,this.personalData.pwdID=e[0].PWD_ID,this.personalData.lastName=e[0].lastName,this.personalData.firstName=e[0].firstName,this.personalData.middleName=e[0].middleName,this.personalData.contactNumber=e[0].contactNumber,this.personalData.gender=e[0].gender,this.personalData.civilStatus=e[0].civilStatus,this.personalData.birthdate=e[0].birthdate,this.personalData.fullAddress=e[0].fullAddress,this.personalData.region=e[0].region,this.personalData.barangay=e[0].barangay,this.personalData.householdMemberCategory=e[0].householdMemberCategory,this.personalData.employed=e[0].employmentStatus,this.personalData.profession=e[0].profession,this.personalData.qrCode=e[0].qrCode;const t=this.categoryRaw.filter((t=>t.code===e[0].Category)),a=this.categoryIDRaw.filter((t=>t.code===e[0].Category_ID));if(this.personalData.category=t[0].name,this.personalData.categoryID=a[0].name,null!==this.personalData.region&&""!==this.personalData.region){{const t=e[0].province.split("_");var s=/^[0-9]+$/;if(t[1].match(s))var i="";else i=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",o=void 0!==t[3]?t[3]:"",n=void 0!==t[4]?t[4]:"",r=void 0!==t[5]?t[5]:"",l=void 0!==t[6]?t[6]:"",c=void 0!==t[7]?t[7]:"",u=void 0!==t[8]?t[8]:"",p=void 0!==t[9]?t[9]:"",d=void 0!==t[10]?t[10]:"",h=void 0!==t[11]?t[11]:"",m=`${i} ${a} ${o} ${n} ${r} ${l} ${c} ${u} ${p} ${d} ${h}`;this.personalData.province=m.trimRight()}if(null!==this.personalData.province&&""!==this.personalData.province){if(null!==e[0].city&&e[0].city.length>0){const t=e[0].city.split("_");var o=/^[0-9]+$/;if(t[1].match(o))var n="";else n=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",r=void 0!==t[5]?t[5]:"",l=void 0!==t[6]?t[6]:"",c=void 0!==t[7]?t[7]:"",u=void 0!==t[8]?t[8]:"",p=void 0!==t[9]?t[9]:"",d=void 0!==t[10]?t[10]:"",h=void 0!==t[11]?t[11]:"",m=`${n} ${a} ${s} ${i} ${r} ${l} ${c} ${u} ${p} ${d} ${h}`,f=m.trimRight();this.personalData.municipality=f.trimLeft()}if(null===e[0].householdMemberCategory||""===e[0].householdMemberCategory){if(""!==e[0].barangay&&null!==e[0].barangay&&e[0].barangay.length>0){const t=e[0].barangay.split("_");var r=/^[0-9]+$/,l="";if(t[1].match(r))l="";else l=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",n=void 0!==t[6]?t[6]:"",u=void 0!==t[7]?t[7]:"",p=void 0!==t[8]?t[8]:"",d=void 0!==t[9]?t[9]:"",h=void 0!==t[10]?t[10]:"",m=void 0!==t[11]?t[11]:"",f=`${l} ${a} ${s} ${i} ${o} ${n} ${u} ${p} ${d} ${h} ${m}`;var c=f.trimRight();this.personalData.barangay=c}if(""!==e[0].employmentStatus){var u=this.employmentStatus.filter((t=>t.code===e[0].employmentStatus));this.personalData.employed=u[0].name}if(this.personalData.directCovid=e[0].directCovid,""!==e[0].profession&&null!==e[0].profession){var p=this.professions.filter((t=>t.code===e[0].profession));this.personalData.profession=p[0].name}}}}},async editPersonalInformation(e){for(var t=[],a=0;a<this.gender.length;a++)t[a]=this.gender[a].name;this.genderLists=t;for(var s=[],i=0;i<this.civilStatus.length;i++)s[i]=this.civilStatus[i].name;this.civilStatusLists=s;for(var o=[],n=0;n<this.employmentStatus.length;n++)o[n]=this.employmentStatus[n].name;this.employmentStatusLists=o;for(var r=[],l=0;l<this.professions.length;l++)r[l]=this.professions[l].name;this.professionLists=r;for(var c=[],u=0;u<this.region.length;u++)c[u]=this.region[u].name;if(this.regionLists=c,null!==e[0].region&&void 0!==e[0].region&&e[0].region.length>0){var p="";if(this.personalData.region.length>0){var d=this.region.filter((e=>e.name===this.personalData.region.trim()));p=d[0].name}else p=e[0].region;await this.$store.dispatch("getProvinces",p);for(var h=[],m=0;m<this.provinces.length;m++)h[m]=this.provinces[m].name;if(this.provincesListOptions=h,this.provincesLists=h,0!==e[0].province.length&&this.personalData.province.length>0){const t=this.provinces.filter((e=>e.name===this.personalData.province.trim()));if(t.length>0){await this.$store.dispatch("getCities",t[0].shortCode);for(var f=[],g=0;g<this.cities.length;g++)f[g]=this.cities[g].name;if(this.citiesListOptions=f,this.citiesLists=f,(null===e[0].householdMemberCategory||""===e[0].householdMemberCategory)&&this.cities.length>0){const t=e[0].city;var y=this.cities.filter((e=>e.TownCity===t.trim()));if(y.length>0){await this.$store.dispatch("getBarangays",y[0].shortCode);for(var v=[],b=0;b<this.barangays.length;b++)v[b]=this.barangays[b].name;this.barangaysListOptions=v,this.barangaysLists=v}}}}}},async deleteVaccinee(){const e={categoryIDNumber:this.preRegistrationInfo[0].Category_ID_Number},t=await this.$store.dispatch("deleteVaccinee",e);void 0!==t.message&&this.closeDialog()},setUserPermission(){const e=this.$q.cookies.get("department_code");5050===e&&(this.allowDelete=!0)},async closeDialog(){this.vaccineeDetails.code=null,this.vaccineeDetails.fullName=null,await this.$store.dispatch("editPersonalInfo",!1),this.qrScanner&&await this.$store.dispatch("revertQR",!0)},onSubmitPersonalInfo(){this.$refs.personalInformation.validate().then((async e=>{e?this.approveVaccinee():this.formHasError=!0}))},async approveVaccinee(){var e="",t=this.categoryRaw.filter((e=>e.name===this.personalData.category)),a=this.categoryIDRaw.filter((e=>e.name===this.personalData.categoryID));const s=new Date(this.personalData.birthdate),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(s),o=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(s),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(s),r=`${o}/${n}/${i}`;var l=this.cities.filter((e=>e.name===this.personalData.municipality.trim())),c=this.civilStatus.filter((e=>e.name===this.personalData.civilStatus)),u=this.gender.filter((e=>e.name===this.personalData.gender)),p=this.provinces.filter((e=>e.name===this.personalData.province.trim())),d=this.region.filter((e=>e.name===this.personalData.region.trim())),h="";h=null===this.personalData.householdMemberCategory||""===this.personalData.householdMemberCategory?this.barangays.filter((e=>e.name===this.personalData.barangay.trim())):this.personalData.barangay,e={category:t[0].code,categoryID:a[0].code,categoryIDNumber:this.personalData.categoryIDNumber,philhealthID:this.personalData.philhealthID,pwdID:this.personalData.pwdID,lastName:this.personalData.lastName,firstName:this.personalData.firstName,middleName:this.personalData.middleName,gender:u[0].code,birthdate:r,civilStatus:c[0].code,contactNumber:this.personalData.contactNumber,fullAddress:this.personalData.fullAddress,region:d[0].code,province:p[0].Province,city:l[0].TownCity,barangay:h,employmentStatus:this.personalData.employed,directCovid:this.personalData.directCovid,profession:this.personalData.profession,drugAllergy:this.preRegistrationInfo[0].Drug_Allergy,foodAllergy:this.preRegistrationInfo[0].Food_Allergy,insectAllergy:this.preRegistrationInfo[0].Insect_Allergy,latexAllergy:this.preRegistrationInfo[0].Latex_Allergy,moldAllergy:this.preRegistrationInfo[0].Mold_Allergy,petAllergy:this.preRegistrationInfo[0].Pet_Allergy,pollenAllergy:this.preRegistrationInfo[0].Pollen_Allergy,withComorbidity:this.preRegistrationInfo[0].With_Comorbidity,hypertension:this.preRegistrationInfo[0].Hypertension,heartDisease:this.preRegistrationInfo[0].Heart_Disease,kidneyDisease:this.preRegistrationInfo[0].Kidney_Disease,diabetesMellitus:this.preRegistrationInfo[0].Diabetes_Mellitus,bronchialAsthma:this.preRegistrationInfo[0].Bronchial_Asthma,immunodeficiencyStatus:this.preRegistrationInfo[0].Immunodeficiency_Status,cancer:this.preRegistrationInfo[0].Cancer,others:this.preRegistrationInfo[0].Others,patientDiagnosedWithCovid:this.preRegistrationInfo[0].Patient_Was_Diagnosed_With_COVID_19,classificationOfCovid:this.preRegistrationInfo[0].Classification_Of_COVID_19,dateOfCovid:this.preRegistrationInfo[0].Date_Of_First_Positive_Result_Specimen_Collection_Date,providedConsent:this.preRegistrationInfo[0].Provided_Electronic_Informed_Consent,householdMemberCategory:this.personalData.householdMemberCategory,qrCode:this.personalData.qrCode,companyName:this.preRegistrationInfo[0].Name_Of_Employer,companyProvince:this.preRegistrationInfo[0].Employer_Province,companyAddress:this.preRegistrationInfo[0].Address_of_Employer,companyContactNumber:this.preRegistrationInfo[0].Contact_Number_Of_Employer,vaccineeID:this.preRegistrationInfo[0].Id};var m="";m=this.personalData.householdMemberCategory.includes("CORPORATE")?await this.$store.dispatch("approveVASCorporatePreregistration",e):await this.$store.dispatch("approveVASPreregistration",e),void 0!==m.message&&this.triggerSucccess()},async updateInformation(e){var t="",a=this.categoryRaw.filter((e=>e.name===this.personalData.category)),s=this.categoryIDRaw.filter((e=>e.name===this.personalData.categoryID));const i=new Date(this.personalData.birthdate),o=new Intl.DateTimeFormat("en",{year:"numeric"}).format(i),n=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(i),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(i),l=`${n}/${r}/${o}`;var c=this.cities.filter((e=>e.name===this.personalData.municipality.trim())),u=this.civilStatus.filter((e=>e.name===this.personalData.civilStatus)),p=this.gender.filter((e=>e.name===this.personalData.gender)),d=this.provinces.filter((e=>e.name===this.personalData.province.trim())),h=this.region.filter((e=>e.name===this.personalData.region.trim())),m="";m=null===this.personalData.householdMemberCategory||""===this.personalData.householdMemberCategory?this.barangays.filter((e=>e.name===this.personalData.barangay.trim())):this.personalData.barangay,t="cancel"===e?{category:this.preRegistrationInfo[0].Category,categoryID:this.preRegistrationInfo[0].Category_ID,categoryIDNumber:this.preRegistrationInfo[0].Category_ID_Number,philhealthID:this.preRegistrationInfo[0].philhealthID,pwdID:this.preRegistrationInfo[0].PWD_ID,lastName:this.preRegistrationInfo[0].lastName,firstName:this.preRegistrationInfo[0].firstName,middleName:this.preRegistrationInfo[0].middleName,gender:this.preRegistrationInfo[0].Sex,birthdate:this.preRegistrationInfo[0].birthdate,civilStatus:this.preRegistrationInfo[0].Civil_Status,contactNumber:this.preRegistrationInfo[0].contactNumber,fullAddress:this.preRegistrationInfo[0].fullAddress,region:this.preRegistrationInfo[0].Region,province:this.preRegistrationInfo[0].Province,city:this.preRegistrationInfo[0].Municipality_City,barangay:this.preRegistrationInfo[0].Barangay,employmentStatus:this.preRegistrationInfo[0].Employment_Status,directCovid:this.preRegistrationInfo[0].Direct_Interaction_With_COVID_Patient,profession:this.preRegistrationInfo[0].Profession,cancelled:"1",qrCode:this.preRegistrationInfo[0].qrCode,vaccineeID:this.preRegistrationInfo[0].Id}:{category:a[0].code,categoryID:s[0].code,categoryIDNumber:this.personalData.categoryIDNumber,philhealthID:this.personalData.philhealthID,pwdID:this.personalData.pwdID,lastName:this.personalData.lastName,firstName:this.personalData.firstName,middleName:this.personalData.middleName,gender:p[0].code,birthdate:l,civilStatus:u[0].code,contactNumber:this.personalData.contactNumber,fullAddress:this.personalData.fullAddress,region:h[0].code,province:d[0].Province,city:c[0].TownCity,barangay:m,employmentStatus:this.personalData.employed,directCovid:this.personalData.directCovid,profession:this.personalData.profession,cancelled:"0",qrCode:this.personalData.qrCode,vaccineeID:this.preRegistrationInfo[0].Id};const f=await this.$store.dispatch("updateVASPreregistration",t);void 0!==f.message&&this.triggerInformation(t.cancelled)},triggerInformation(e){var t="",a="";"1"===e?(t="Cancelling",a="cancelled"):(t="Updating",a="updated");const s=this.$q.notify({type:"ongoing",message:`${t} raw data on the Preregistration List...`});setTimeout((()=>{s({type:"positive",message:`Data successfully ${a} on the Preregistration List`,timeout:1e3}),this.closeDialog()}),3e3)},triggerSucccess(){const e=this.$q.notify({type:"ongoing",message:"Transferring raw data to the Master List..."});setTimeout((()=>{e({type:"positive",message:"Data successfully transferred to the Master List",timeout:1e3}),this.closeDialog()}),3e3)},filterCategoryList(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryListOptions=this.categoryList.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryListOptions=this.categoryList})},filterCategoryID(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryIDOptions=this.categoryID.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryIDOptions=this.categoryID})},filterRegion(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.regionListOptions=this.regionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.regionListOptions=this.regionLists,this.personalData.province=[],this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[]})},filterProvinces(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.provincesListOptions=this.provincesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.provincesListOptions=this.provincesLists,this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[]})},filterCities(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.citiesListOptions=this.citiesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.citiesListOptions=this.citiesLists,"alumni"!==this.personalData.householdMemberCategory&&(this.personalData.barangay=[])})},filterBarangays(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.barangaysListOptions=this.barangaysLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.barangaysListOptions=this.barangaysLists})},filterGender(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.genderListOptions=this.genderLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.genderListOptions=this.genderLists})},filterCivilStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.civilStatusListOptions=this.civilStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.civilStatusListOptions=this.civilStatusLists})},filterProfessions(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.professionListOptions=this.professionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.professionListOptions=this.professionLists})},filterEmploymentStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.employmentStatusOptions=this.employmentStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.employmentStatusOptions=this.employmentStatusLists})}}}),b=v,D=a("2877"),I=a("0378"),C=a("a370"),_=a("54e1"),S=a("0016"),q=a("ddd8"),x=a("66e5"),N=a("4074"),w=a("27f9"),L=a("7cbe"),k=a("52ee"),$=a("9c40"),O=a("8f8e"),P=a("4b7e"),R=a("e7a9"),A=a("7f67"),T=a("eebe"),E=a.n(T),M=Object(D["a"])(b,g,y,!1,null,null,null),V=M.exports;E()(M,"components",{QForm:I["a"],QCardSection:C["a"],QBanner:_["a"],QIcon:S["a"],QSelect:q["a"],QItem:x["a"],QItemSection:N["a"],QInput:w["a"],QPopupProxy:L["a"],QDate:k["a"],QBtn:$["a"],QCheckbox:O["a"],QCardActions:P["a"],QBtnGroup:R["a"]}),E()(M,"directives",{ClosePopup:A["a"]});var Q={components:{PreregistrationInfo:V,RegistrationInfo:h["a"],ScreeningInfo:m["a"],VaccinationInfo:f["a"]},props:["vaccineeInfo","preRegisteredLoading"],data(){return{filterFocus:!1,selected:[],filter:"",employeeVaccinedDialog:!1,pagination:{rowsPerPage:0},vaccineeDetails:{code:null,fullName:null,withVAS:!1,station:"1"},columns:[{name:"categoryIDNumber",label:"Category ID Number",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"left",label:"Name",field:"fullName",sortable:!0},{name:"currentStation",align:"left",label:"Current Station",field:"currentStation",sortable:!0}],currentStation:null,currentModule:null,showData:!0,dose:null}},computed:n()({},Object(r["b"])({editPersonalInfo:"editPersonalInfo",dialog:"dialog"})),mounted(){this.checkModules(this.vaccineeInfo)},watch:{async selected(e){e.length>0&&(this.employeeVaccinedDialog=!0,await this.$store.dispatch("editPersonalInfo",!0),await this.$store.dispatch("setSelectedVaccinee",e))}},methods:{async checkModules(e){"1"===e[0].currentStation?this.currentStation="Preregistration":"2"===e[0].currentStation?this.currentStation="Registration":"3"===e[0].currentStation?this.currentStation="Screening":"4"===e[0].currentStation&&(this.currentStation="Vaccination"),this.currentModule=this.$q.cookies.get("module"),await this.$store.dispatch("editPersonalInfo",!1),null===this.vaccineeInfo[0].Dose?this.dose="1":this.dose="2"}}},Y=Q,F=a("eaac"),B=a("74f7"),H=a("bd08"),U=a("db86"),W=a("9564"),z=a("58a81"),G=Object(D["a"])(Y,p,d,!1,null,null,null),j=G.exports;E()(G,"components",{QCardSection:C["a"],QTable:F["a"],QInnerLoading:B["a"],QTr:H["a"],QTd:U["a"],QToggle:W["a"],QBadge:z["a"]});var K={props:["qrCodeDialog"],components:{ApprovalDialog:j,QrcodeStream:u["QrcodeStream"]},data(){return{camera:"auto",qrMessage:null,showDetails:!1,vaccineeInfo:{lastName:null,categoryIDNumber:null,email:null,qrCode:null,referringCategoryID:null,currentSchedule:null,schedule:!1},loading:null,vaccineeDetails:[]}},computed:n()({},Object(r["b"])({preRegisteredVaccinee:"preRegisteredVaccinee",registeredVaccinee:"registeredVaccinee",screeningVaccinee:"screeningVaccinee",vaccinedVaccinee:"vaccinedVaccinee",dischargedVaccinee:"dischargedVaccinee",revertQR:"revertQR",secondDoseRegisteredVaccinee:"secondDoseRegisteredVaccinee",secondDoseScreeningVaccinee:"secondDoseScreeningVaccinee",secondDoseVaccinedVaccinee:"secondDoseVaccinedVaccinee"})),mounted(){},watch:{async revertQR(e){e&&(this.showDetails=!1)}},methods:{async onDecode(e){e.trim(),""!==e?(this.vaccineeInfo.qrCode=e,this.showLoading(),this.qrMessage=null):this.qrMessage=null,this.pause(),await this.timeout(500),this.unpause()},async onInit(e){try{await e}catch(t){"NotAllowedError"===t.name?this.error="ERROR: you need to grant camera access permisson":"NotFoundError"===t.name?this.error="ERROR: no camera on this device":"NotSupportedError"===t.name?this.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===t.name?this.error="ERROR: is the camera already in use?":"OverconstrainedError"===t.name?this.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===t.name&&(this.error="ERROR: Stream API is not supported in this browser")}},showLoading(){this.$q.loading.show({message:'Proccessing <b>QR CODE</b>.<br/><span class="text-green text-weight-bold">Hang on...</span>'}),this.timer=setTimeout((async()=>{this.$q.loading.hide(),this.timer=void 0;var e=await this.$store.dispatch("searchPreRegistrationProfile",this.vaccineeInfo);if(1===e.vaccineeFound)this.showDetails=!0,this.vaccineeDetails=this.preRegisteredVaccinee;else{var t=await this.$store.dispatch("searchVaccineeProfile",this.vaccineeInfo);if(1===t.vaccineeFound)this.showDetails=!0,this.registeredVaccinee.length>0?this.vaccineeDetails=this.registeredVaccinee:this.screeningVaccinee.length>0?this.vaccineeDetails=this.screeningVaccinee:this.vaccinedVaccinee.length>0?this.vaccineeDetails=this.vaccinedVaccinee:this.dischargedVaccinee.length>0&&(this.vaccineeDetails=this.dischargedVaccinee);else{var a=await this.$store.dispatch("searchVaccineeProfileVaccinated",this.vaccineeInfo);1===a.vaccineeFound?(this.showDetails=!0,this.secondDoseRegisteredVaccinee.length>0?this.vaccineeDetails=this.secondDoseRegisteredVaccinee:this.secondDoseScreeningVaccinee.length>0?this.vaccineeDetails=this.secondDoseScreeningVaccinee:this.secondDoseVaccinedVaccinee.length>0?this.vaccineeDetails=this.secondDoseVaccinedVaccinee:this.qrMessage="No record found !"):this.qrMessage="No record found !"}}}),3e3)},unpause(){this.camera="auto"},pause(){this.camera="off"},timeout(e){return new Promise((t=>{window.setTimeout(t,e)}))}},beforeDestroy(){void 0!==this.timer&&(clearTimeout(this.timer),this.$q.loading.hide())}},J=K,Z=a("f09f"),X=Object(D["a"])(J,l,c,!1,null,null,null),ee=X.exports;E()(X,"components",{QCard:Z["a"],QCardSection:C["a"],QBanner:_["a"],QIcon:S["a"]});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"900px","max-width":"80vw"}},[a("q-card",[a("q-card-section",{staticClass:"bg-primary"},[e.editPersonalInfo?a("div",{staticClass:"text-center text-h5 text-white text-weight-thin"},[e._v("\n          "+e._s(void 0===e.personalDetails.fullName?"":e.personalDetails.fullName)+" "+e._s(null===e.personalDetails.householdMemberCategory?" - WALK-IN":e.personalDetails.householdMemberCategory.toUpperCase()+" - REFERRAL")+"\n        ")]):a("div",{staticClass:"text-center text-h5 text-white text-weight-thin"},[e._v("\n        PRE-REGISTRATION LIST\n      ")])]),a("q-form",{ref:"preRegistrationInfo",staticClass:"q-gutter-md",on:{submit:e.searchInfo}},[e.editPersonalInfo?e._e():a("div",[a("q-card-section",[a("div",{staticClass:"flex flex-center column"},[a("div",{staticClass:"row justify-center items-start content-start q-gutter-md"},[a("div",[a("q-input",{ref:"lastName",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Last Name",autofocus:""},model:{value:e.preRegistrationInfo.lastName,callback:function(t){e.$set(e.preRegistrationInfo,"lastName",t)},expression:"preRegistrationInfo.lastName"}})],1),a("div",[a("q-input",{ref:"Category ID Number",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Category ID Number"},model:{value:e.preRegistrationInfo.categoryIDNumber,callback:function(t){e.$set(e.preRegistrationInfo,"categoryIDNumber",t)},expression:"preRegistrationInfo.categoryIDNumber"}})],1)])])]),a("q-card-actions",{staticClass:"flex flex-center q-pb-xs"},[a("div",[a("q-btn",{attrs:{type:"submit",color:"primary",icon:"search",label:"Search"}})],1)])],1),a("q-card-section",[a("TablePreRegistrationList",{attrs:{preRegisteredLoading:e.preRegisteredLoading,vaccineeInfo:e.preRegisteredVaccinee}})],1)],1)],1)],1)},ae=[],se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showTable?a("q-card-section",[this.vaccineeInfo.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-xs"},[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.vaccineeInfo,columns:e.columns,"row-key":"categoryIDNumber",selection:"single",selected:e.selected,loading:e.preRegisteredLoading,title:"Pre-registration List"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.categoryIDNumber)+"\n              ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.fullName)+"\n              ")]),a("q-td",{key:"Cancelled",attrs:{props:t}},[void 0!==t.row.Cancelled&&t.row.Cancelled?a("q-badge",{attrs:{outline:"",color:"red",label:"Cancelled"}}):a("q-badge",{attrs:{outline:"",color:"green",label:"For Approval"}})],1)],1)]}}],null,!1,636813058)})],1)]):e._e()]):e._e(),a("preregistration-info",{attrs:{preRegistrationInfo:this.selected}})],1)},ie=[],oe={components:{PreregistrationInfo:V},props:["vaccineeInfo"],data(){return{selected:[],filter:"",pagination:{rowsPerPage:0},columns:[{name:"categoryIDNumber",label:"Category ID Number",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"left",label:"Name",field:"fullName",sortable:!0},{name:"Cancelled",align:"left",label:"Status",field:"Cancelled",sortable:!0}],showTable:!0}},computed:n()({},Object(r["b"])({preRegisteredLoading:"preRegisteredLoading",editPersonalInfo:"editPersonalInfo"})),watch:{async selected(e){e.length>0&&(await this.$store.dispatch("editPersonalInfo",!0),await this.$store.dispatch("setSelectedVaccinee",e))},editPersonalInfo(e){console.log(e,"valsf"),e?this.showTable=!1:(this.showTable=!0,this.setInitValues())}},methods:{setInitValues(){this.selected=[]}}},ne=oe,re=Object(D["a"])(ne,se,ie,!1,null,null,null),le=re.exports;E()(re,"components",{QCardSection:C["a"],QTable:F["a"],QInnerLoading:B["a"],QTr:H["a"],QTd:U["a"],QToggle:W["a"],QBadge:z["a"]});var ce={name:"PreRegistration",components:{TablePreRegistrationList:le},data(){return{preRegistrationInfo:{lastName:null,categoryIDNumber:null,email:null,qrCode:null,referringCategoryID:null,preRegistration:null},personalDetails:{fullName:null,householdMemberCategory:null}}},watch:{editPersonalInfo(e){e||null!==this.preRegistrationInfo.lastName&&this.searchInfo()},selectedVaccinee(e){e.length>0&&(this.personalDetails.fullName=e[0].fullName,this.personalDetails.householdMemberCategory=e[0].householdMemberCategory)}},computed:n()({},Object(r["b"])({preRegisteredVaccinee:"preRegisteredVaccinee",preRegisteredLoading:"preRegisteredLoading",dataLoaded:"dataLoaded",editPersonalInfo:"editPersonalInfo",selectedVaccinee:"selectedVaccinee"})),methods:{async searchInfo(){await this.$store.dispatch("searchPreRegistrationProfile",this.preRegistrationInfo)}}},ue=ce,pe=Object(D["a"])(ue,te,ae,!1,null,null,null),de=pe.exports;E()(pe,"components",{QCard:Z["a"],QCardSection:C["a"],QForm:I["a"],QInput:w["a"],QCardActions:P["a"],QBtn:$["a"]});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{width:"900px","max-width":"1500px"}},[a("q-form",{ref:"reservationInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitReservation}},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"text-left text-h5 text-white text-weight-thin"},[e._v("\n          RESERVATION ACCESSIBILITY\n        ")]),a("q-btn",{attrs:{push:"",icon:"accessible_forward",color:"secondary"},on:{click:function(t){return e.viewPendingAccessReservation()}}},[a("q-tooltip",[e._v("\n            ACCESS RESERVATION\n          ")])],1)],1)]),a("q-card-section",[a("q-select",{ref:"reservationType",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Referring Type",options:e.reservationTypeOptions,rules:[function(e){return e&&e.length>0||"Please enter the Reservation Type"}]},on:{filter:e.filterReservationType},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n              No results\n            ")])],1)]},proxy:!0}]),model:{value:e.reservationData.reservationType,callback:function(t){e.$set(e.reservationData,"reservationType",t)},expression:"reservationData.reservationType"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Email Address",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Email Address"}]},model:{value:e.reservationData.email,callback:function(t){e.$set(e.reservationData,"email",t)},expression:"reservationData.email"}}),a("q-input",{attrs:{square:"",outlined:"",type:"number",label:"Mobile Number",rules:[function(e){return e&&e.length>0||"Please enter Mobile Number"}]},model:{value:e.reservationData.mobileNumber,callback:function(t){e.$set(e.reservationData,"mobileNumber",t)},expression:"reservationData.mobileNumber"}})],1),a("q-card-actions",{staticClass:"flex flex-center"},[a("q-btn",{staticClass:"q-ma-md",staticStyle:{width:"180px"},attrs:{type:"submit",loading:e.formLoading,icon:"save",color:"primary"},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n          Submitting..\n        ")]},proxy:!0}])},[a("span",{staticClass:"q-pl-md"},[e._v("RESERVE")])])],1),a("q-card-section",[e.formMessage.length>0?a("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"check",size:"lg"}}),e._v("\n        "+e._s(e.formMessage)+"\n      ")],1):e._e()],1),a("q-dialog",{model:{value:e.pendingAccessReservation,callback:function(t){e.pendingAccessReservation=t},expression:"pendingAccessReservation"}},[a("access-reservation-dialog")],1)],1)],1)},me=[],fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{width:"900px","max-width":"1500px"}},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"text-left text-h5 text-white text-weight-thin"},[e._v("\n        ACCESS RESERVATION\n      ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-white",attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("CLOSE")])],1)],1)]),a("q-form",{ref:"preRegistrationInfo",staticClass:"q-gutter-md",on:{submit:e.searchInfo}},[a("q-card-section",[a("div",{staticClass:"col-lg-6"},[a("q-input",{ref:"lastName",attrs:{square:"",outlined:"",type:"text",color:"primary",label:"Email Address",autofocus:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]),a("q-card-actions",{staticClass:"flex flex-center q-pb-xs"},[a("div",[a("q-btn",{attrs:{type:"submit",color:"primary",icon:"search",label:"Search"}})],1)]),a("q-card-section",[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.accessibleReservation,columns:e.columns,"row-key":"HashKey",selection:"single",filter:e.filter,selected:e.selected,title:"Reservation Access List",loading:this.tableLoading},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Filter"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"emailAddress",attrs:{props:t}},[e._v("\n              "+e._s(t.row.EmailAddress)+"\n            ")]),a("q-td",{key:"mobileNumber",attrs:{props:t}},[e._v("\n              "+e._s(t.row.MobileNumber)+"\n            ")]),a("q-td",{key:"accessed",attrs:{props:t}},[t.row.Accessed?a("q-badge",{attrs:{color:"green",label:"ACCESSED"}}):e._e(),t.row.Accessed&&null!==t.row.Accessed?e._e():a("q-badge",{attrs:{color:"orange",label:"NOT ACCESSED"}})],1),a("q-td",{key:"submitted",attrs:{props:t}},[t.row.Submitted?a("q-badge",{attrs:{color:"green",label:"SUBMITTED"}}):e._e(),t.row.Submitted&&null!==t.row.Submitted?e._e():a("q-badge",{attrs:{color:"orange",label:"NOT SUBMITTED"}})],1),a("q-td",{key:"userType",attrs:{props:t}},["ALUMNI"===t.row.ReferringUserType?a("q-badge",{attrs:{color:"negative",label:"ALUMNI"}}):e._e(),"EMPLOYEE"===t.row.ReferringUserType?a("q-badge",{attrs:{color:"secondary",label:"EMPLOYEE"}}):e._e(),t.row.ReferringUserType.includes("CORPORATE")?a("q-badge",{attrs:{color:"purple",label:"CORPORATE"}}):e._e()],1)],1)]}}])}),a("q-dialog",{attrs:{persistent:""},model:{value:e.reserveInfoDialog,callback:function(t){e.reserveInfoDialog=t},expression:"reserveInfoDialog"}},[a("q-card",{staticStyle:{"max-width":"900px"}},[a("q-card-section",{staticClass:"bg-primary text-center text-h5 text-white"},[e._v("\n              "+e._s(this.reservationData.email)+"\n          ")]),a("q-card-section",[a("div",{staticClass:"text-center"},[a("a",{attrs:{target:"_blank",href:this.reservationData.url}},[e._v(e._s(this.reservationData.url))])])]),a("q-card-section",{staticClass:"flex flex-center"},[a("q-btn-group",[this.reservationData.accessed||this.reservationData.submitted?a("q-btn",{staticStyle:{width:"180px"},attrs:{loading:e.formLoading,icon:"save",color:"green"},on:{click:function(t){return e.reAccessReservation()}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                  PROCESSING...\n                ")]},proxy:!0}],null,!1,706515960)},[a("span",{staticClass:"q-pl-md"},[e._v("RE-ACCESS")])]):e._e(),a("q-btn",{attrs:{push:"",icon:"undo",color:"negative",label:"GO BACK"},on:{click:function(t){return e.closeDialog()}}})],1)],1)],1)],1)],1)],1)],1)},ge=[],ye={data(){return{selected:[],filter:"",pagination:{rowsPerPage:0},reserveInfoDialog:!1,columns:[{name:"emailAddress",label:"Email Address",align:"left",field:"EmailAddress",sortable:!0},{name:"mobileNumber",align:"left",label:"Mobile #",field:"MobileNumber",sortable:!0},{name:"accessed",align:"left",label:"Accessed",field:"Accessed",sortable:!0},{name:"submitted",align:"left",label:"Submitted",field:"Submitted",sortable:!0},{name:"userType",align:"left",label:"User Type",field:"ReferringUserType",sortable:!0}],email:null,reservationData:{email:null,url:null,mobileNumber:null,reservationType:null,hashKey:null,accessed:null,submitted:null},formLoading:null,formMessage:[],tableLoading:!1}},computed:n()({},Object(r["b"])({accessibleReservation:"accessibleReservation"})),mounted(){this.searchInfo(),this.setInitValues()},watch:{selected(e){e.length>0&&(this.reserveInfoDialog=!0,this.reservationData.email=e[0].EmailAddress,this.reservationData.mobileNumber=e[0].MobileNumber,this.reservationData.reservationType=e[0].ReferringUserType,this.reservationData.hashkey=e[0].HashKey,this.reservationData.accessed=e[0].Accessed,this.reservationData.submitted=e[0].Submitted,this.reservationData.reservationType.includes("CORPORATE")?this.reservationData.url=`https://apps.uerm.edu.ph/vue/covid-vaccination/#/vaccination-corporate/${e[0].Company}/${e[0].HashKey}`:this.reservationData.url=`https://apps.uerm.edu.ph/vue/covid-vaccination/#/vaccination-household/${e[0].ReferringUserType}/${e[0].HashKey}`)}},methods:{async searchInfo(){this.tableLoading=!0,await this.$store.dispatch("getReservationVAS",this.email),this.tableLoading=!1},async reAccessReservation(){this.formLoading=!0;const e={email:this.reservationData.email,mobileNumber:this.reservationData.mobileNumber,accessed:"0",submitted:"0",reservationType:this.reservationData.reservationType,hashKey:this.reservationData.hashkey},t=await this.$store.dispatch("updateReservationAccess",e);void 0!==t.message&&(this.searchInfo(),this.setInitValues(),this.formMessage=`Sucessfully Updated ${e.email}`),this.formLoading=!1},setInitValues(){this.selected=[],this.reservationData.email=null,this.reservationData.url=null,this.reservationData.email=null,this.reservationData.reservationType=null,this.reservationData.hashKey=null,this.reservationData.submitted=null,this.reserveInfoDialog=!1,this.searchInfo()},closeDialog(){this.setInitValues()}}},ve=ye,be=a("05c0"),De=a("24e8"),Ie=a("9149"),Ce=Object(D["a"])(ve,fe,ge,!1,null,null,null),_e=Ce.exports;E()(Ce,"components",{QCard:Z["a"],QCardSection:C["a"],QBtn:$["a"],QTooltip:be["a"],QForm:I["a"],QInput:w["a"],QCardActions:P["a"],QTable:F["a"],QInnerLoading:B["a"],QIcon:S["a"],QTr:H["a"],QTd:U["a"],QToggle:W["a"],QBadge:z["a"],QDialog:De["a"],QBtnGroup:R["a"],QSpinnerHourglass:Ie["a"]}),E()(Ce,"directives",{ClosePopup:A["a"]});var Se=["ALUMNI","EMPLOYEE"],qe={components:{AccessReservationDialog:_e},data(){return{reservationTypeOptions:Se,reservationTypeLists:Se,pendingAccessReservation:null,reservationData:{email:null,mobileNumber:null,reservationType:null},formLoading:null,formMessage:[]}},computed:n()({},Object(r["b"])({reservationHashKey:"reservationHashKey"})),mounted(){this.setInitValues()},watch:{},methods:{async onSubmitReservation(){this.formLoading=!0;var e=this.reservationData.reservationType;const t={email:this.reservationData.email,mobileNumber:this.reservationData.mobileNumber,accessed:"0",submitted:"0",reservationType:e},a=await this.$store.dispatch("saveReservationAccess",t);if(void 0!==a.message){var s={messageType:"sms",destination:this.reservationData.mobileNumber,text:`Hi, this from the UERM Vaccine Team, you may use this one-time access link to sign up your Household Member(s), note that you can access this on one device only and please enter all your Household Member(s). Once submitted you cannot access this link anymore, in case of wrong entry of some details, please contact us. \r\n\nhttps://apps.uerm.edu.ph/vue/covid-vaccination/#/vaccination-household/${t.reservationType}/${a.hashKey}`};this.sendTextMessage(s);const e={email:this.reservationData.email,mobileNumber:this.reservationData.mobileNumber,accessed:"0",submitted:"0",reservationType:this.reservationData.reservationType,hashKey:a.hashKey},i=await this.$store.dispatch("sendEmailReservationAccess",e);"success"===i.message?this.formMessage=`Sucessfully sent an Email Link and Text Message to ${t.email}`:(this.formMessage="Error sending email",this.formLoading=!1),await this.setInitValues()}this.formLoading=!1},async sendTextMessage(e){const t=this.$q.localStorage.getItem("smartAccessToken");if(null===t){const t=await this.$store.dispatch("setTextMessagingAuthentication");if(t.accessToken.length>0)return await this.$store.dispatch("sendTextMessage",e),{message:"success"};{const t=await this.$store.dispatch("refreshTextToken");if(t.accessToken.length>0)return await this.$store.dispatch("sendTextMessage",e),{message:"success"}}}else{const t=await this.$store.dispatch("sendTextMessage",e);if("Error"===t.name){const t=await this.$store.dispatch("refreshTextToken");if("Error"===t.name)return await this.$store.dispatch("setTextMessagingAuthentication"),await this.$store.dispatch("sendTextMessage",e),{message:"success"}}}},setInitValues(){this.reservationData.email=null,this.reservationData.mobileNumber=null,this.reservationData.reservationType=null},viewPendingAccessReservation(){this.pendingAccessReservation=!0},filterReservationType(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.reservationTypeOptions=this.reservationTypeLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.reservationTypeOptions=this.reservationTypeLists})}}},xe=qe,Ne=Object(D["a"])(xe,he,me,!1,null,null,null),we=Ne.exports;E()(Ne,"components",{QCard:Z["a"],QForm:I["a"],QCardSection:C["a"],QBtn:$["a"],QTooltip:be["a"],QSelect:q["a"],QItem:x["a"],QItemSection:N["a"],QInput:w["a"],QCardActions:P["a"],QSpinnerHourglass:Ie["a"],QBanner:_["a"],QIcon:S["a"],QDialog:De["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{width:"1100px","max-width":"1500px"}},[a("q-form",{ref:"registrationPreregistration",staticClass:"q-gutter-md",on:{submit:e.searchInfo}},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h5 text-weight-thin text-white text-center"},[e._v("SCHEDULING")])]),a("q-card-section",[a("div",{staticClass:"row justify-center q-gutter-md"},[a("q-input",{staticClass:"q-pr-md",attrs:{autofocus:!0,outlined:"",square:"",color:"primary",label:"Category ID Number"},model:{value:e.preRegistrationInfo.categoryIDNumber,callback:function(t){e.$set(e.preRegistrationInfo,"categoryIDNumber",t)},expression:"preRegistrationInfo.categoryIDNumber"}}),a("q-input",{staticClass:"q-pr-md",attrs:{outlined:"",square:"",color:"primary",label:"Last Name"},model:{value:e.preRegistrationInfo.lastName,callback:function(t){e.$set(e.preRegistrationInfo,"lastName",t)},expression:"preRegistrationInfo.lastName"}})],1),a("div",{staticClass:"row justify-center q-pt-md"},[a("q-btn",{attrs:{type:"submit",push:"",color:"primary",icon:"search",label:"Search"}})],1)])],1),a("q-card-section",[a("q-tabs",{staticClass:"bg-primary text-white shadow-2",attrs:{"inline-label":"",breakpoint:0,align:"justify"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"preregistration",label:"Preregistration"}}),a("q-tab",{attrs:{name:"registration",label:"Registration"}}),a("q-tab",{attrs:{name:"secondDose",label:"Second Dose"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"preregistration"}},[a("q-table",{staticClass:"my-sticky-header-table",staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.preRegisteredVaccinee,columns:e.columnsPreregistration,"row-key":"Id",selection:"multiple",filter:e.filter,selected:e.selected,title:"Preregistration List",loading:this.tableLoading},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Filter"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-checkbox",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.categoryIDNumber)+"\n              ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.fullName)+"\n              ")]),a("q-td",{key:"mobileNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.contactNumber)+"\n              ")]),a("q-td",{key:"referringCategory",attrs:{props:t}},[null===t.row.ReferringCategory?a("q-badge",{attrs:{color:"primary",label:"Walk-In"}}):"employee"===t.row.householdMemberCategory||"EMPLOYEE"===t.row.householdMemberCategory?a("q-badge",{attrs:{color:"orange",label:"Employee"}}):"employee"===t.row.householdMemberCategory||"Third Party"===t.row.ReferringCategory?a("q-badge",{attrs:{color:"purple",label:"Employee"}}):t.row.ReferringCategory.includes("Alumni")?a("q-badge",{attrs:{color:"green",label:"Alumni / Student"}}):null===t.row.householdMemberCategory?a("q-badge",{attrs:{color:"primary",label:"Third Party"}}):a("q-badge",{attrs:{color:"pink",label:t.row.householdMemberCategory}})],1)],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"registration"}},[a("q-table",{staticClass:"my-sticky-header-table",staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.registeredScheduleVaccinee,columns:e.columnsRegistration,"row-key":"categoryIDNumber",selection:"multiple",selected:e.selected,filter:e.filter,title:"Registration List",loading:this.tableLoading},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Filter"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-checkbox",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.categoryIDNumber)+"\n              ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.fullName)+"\n              ")]),a("q-td",{key:"mobileNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.contactNumber)+"\n              ")]),a("q-td",{key:"VaccineSched",attrs:{props:t}},[e._v("\n                "+e._s(t.row.VaccineSched)+"\n              ")])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"secondDose"}},[a("q-table",{staticClass:"my-sticky-header-table",staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.registeredScheduleVaccineeSecondDose,columns:e.columnsRegistration,"row-key":"categoryIDNumber",selection:"multiple",selected:e.selected,filter:e.filter,title:"Registration List",loading:this.tableLoading},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",color:"primary",placeholder:"Filter"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-checkbox",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.categoryIDNumber)+"\n              ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.fullName)+"\n              ")]),a("q-td",{key:"mobileNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.contactNumber)+"\n              ")]),a("q-td",{key:"VaccineSched",attrs:{props:t}},[e._v("\n                "+e._s(t.row.VaccineSched)+"\n              ")])],1)]}}])})],1)],1)],1),a("q-card-actions",{staticClass:"flex flex-center"},[a("q-btn",{attrs:{label:"CONFIRM SELECTED",icon:"schedule",color:"primary",push:""},on:{click:e.openScheduleDialog}})],1),a("q-card-section",[a("q-dialog",{model:{value:e.scheduleDialog,callback:function(t){e.scheduleDialog=t},expression:"scheduleDialog"}},[a("q-card",[a("q-form",{ref:"personalInformation",staticClass:"q-gutter-md",on:{submit:e.submitSchedule}},[a("q-card-section",{staticClass:"bg-primary text-white text-center text-weight-thin text-h5"},[e._v("\n              SCHEDULE\n            ")]),a("q-card-section",[a("q-input",{attrs:{outlined:"",label:"Schedule Date and Time",rules:[function(e){return e&&e.length>0||"Please enter Schedule Date and Time"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm",options:e.optionFrom},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",format12h:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("q-card-section",[a("div",{staticClass:"row justify-center"},e._l(this.selected,(function(t,s){return a("div",{key:s,staticClass:"q-pa-xs"},[a("q-badge",{attrs:{rounded:"",color:"green"}},[a("q-icon",{staticClass:"q-mr-xs",attrs:{name:"person",color:"white"}}),e._v(" "+e._s(t.fullName)+"\n                  ")],1)],1)})),0)]),a("q-card-section",[a("q-toggle",{attrs:{size:"xl",val:"xl","checked-icon":"check",color:"green","unchecked-icon":"clear",label:"Send text message(s) / Email if email is present?",disable:e.disableSendTextMessage},model:{value:e.textMessage,callback:function(t){e.textMessage=t},expression:"textMessage"}}),e.textMessage?a("div",{staticClass:"q-pa-md"},[a("q-input",{attrs:{outlined:"",color:"primary",type:"textarea"},model:{value:e.textMessaging,callback:function(t){e.textMessaging=t},expression:"textMessaging"}})],1):e._e()],1),a("q-card-actions",{staticClass:"flex flex-center"},[a("q-btn",{staticStyle:{width:"180px"},attrs:{type:"submit",push:"",disable:e.formLoading,icon:"access_time",color:"green"},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                  Scheduling..\n                ")]},proxy:!0}])},[a("span",{staticClass:"q-pl-md"},[e._v("SCHEDULE")])])],1)],1)],1)],1)],1)],1)},ke=[],$e=(a("ddb0"),a("5319"),a("bd4c")),Oe={data(){return{date:"",tab:"preregistration",selected:[],filter:"",pagination:{rowsPerPage:0},reserveInfoDialog:!1,columnsPreregistration:[{name:"categoryIDNumber",label:"Category ID #",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"center",label:"Full Name",field:"fullName",sortable:!0},{name:"mobileNumber",align:"center",label:"Mobile Number",field:"mobileNumber",sortable:!0},{name:"referringCategory",align:"center",label:"Referring Category",field:"referringCategory",sortable:!0}],columnsRegistration:[{name:"categoryIDNumber",label:"Category ID #",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"center",label:"Full Name",field:"fullName",sortable:!0},{name:"mobileNumber",align:"center",label:"Mobile Number",field:"mobileNumber",sortable:!0},{name:"VaccineSched",align:"center",label:"Vaccine Schedule",field:"VaccineSched",sortable:!0}],scheduleDialog:null,email:null,preRegistrationInfo:{lastName:null,categoryIDNumber:null,email:null,qrCode:null,referringCategoryID:null,currentSchedule:null,schedule:!0},formLoading:null,formMessage:[],tableLoading:!1,textMessage:!1,disableSendTextMessage:!0,textMessaging:null,sendEmail:!1}},computed:n()({},Object(r["b"])({preRegisteredVaccinee:"preRegisteredVaccinee",registeredScheduleVaccinee:"registeredScheduleVaccinee",registeredScheduleVaccineeSecondDose:"registeredScheduleVaccineeSecondDose"})),mounted(){this.populatePreregistration()},watch:{tab(e){"preregistration"===e?(this.selected=[],this.date=[],this.textMessaging=null,this.textMessage=!1,this.disableSendTextMessage=!0,this.populatePreregistration()):"registration"===e?(this.selected=[],this.date=[],this.textMessaging=null,this.textMessage=!1,this.disableSendTextMessage=!0,this.populateRegistration()):this.populateSecondDose()},date(e){e.length>0&&(this.disableSendTextMessage=!1,this.textMessage=!0)},textMessage(e){if(e){const e=new Date(this.date);var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=t[e.getDay()];const n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),r=new Intl.DateTimeFormat("en",{month:"long"}).format(e),l=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);var s=e.getMinutes(),i=e.getHours();s<10&&(s="0"+s);var o="";i>=12?(12!==i&&(i-=12),o="PM"):o="AM";const c=`${i}:${s} ${o}`,u=`${r} ${l}, ${n}`,p=`${u} (${a}) ${c}`;"preregistration"===this.tab||"secondDose"===this.tab?this.textMessaging=`You are scheduled for Vaccination on ${p} at the UERM Vaccination Area. Please bring your verification and QR Code. Thank you and stay safe.\n\n\n\n-- UERM Vaccine Team`:this.textMessaging=`You have been rescheduled for Vaccination on ${p} at the UERM Vaccination Area. Please bring your verification and QR Code. Thank you and stay safe.\n\n\n\n-- UERM Vaccine Team`}}},methods:{optionFrom(e){return e>=$e["b"].formatDate(Date.now(),"YYYY/MM/DD")},formatDates(){const e=(new Date).toISOString().substring(0,10);this.date=e},async searchInfo(){"preregistration"===this.tab?this.populatePreregistration():"registration"===this.tab?this.populateRegistration():this.populateSecondDose()},openScheduleDialog(){this.selected.length>0&&(this.scheduleDialog=!0)},async submitSchedule(){var e=[];const t=new Date(this.date);var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=a[t.getDay()];const i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),o=new Intl.DateTimeFormat("en",{month:"long"}).format(t),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);var r=t.getMinutes(),l=t.getHours();r<10&&(r="0"+r);var c="AM";l>12&&(l-=12,c="PM");const u=`${l}:${r} ${c}`,p=`${o} ${n}, ${i}`,d=`${p} (${s}) ${u}`;for(var h of this.selected){var m="";m=1===Number(h.currentStation)?Number(h.currentStation)+1:Number(h.currentStation);var f={category:h.Category_ID,categoryID:h.Category_ID_Number,categoryIDNumber:h.Category_ID_Number,philhealthID:h.PhilHealth_ID,pwdID:h.PWD_ID,firstName:h.First_Name,middleName:h.Middle_Name,lastName:h.Last_Name,gender:h.Sex,birthdate:h.Birthdate,civilStatus:h.Civil_Status,contactNumber:h.Contact_Number,fullAddress:h.Full_Address,region:h.Region,province:h.Province,city:h.Municipality_City,barangay:h.Barangay,employmentStatus:h.Employment_Status,directCovid:h.Direct_Interaction_With_COVID_Patient,profession:h.Profession,drugAllergy:h.Drug_Allergy,foodAllergy:h.Food_Allergy,insectAllergy:h.Insect_Allergy,latexAllergy:h.Latex_Allergy,moldAllergy:h.Mold_Allergy,petAllergy:h.Pet_Allergy,pollenAllergy:h.Pollen_Allergy,withComorbidity:h.With_Comorbidity,hypertension:h.Hypertension,heartDisease:h.Heart_Disease,kidneyDisease:h.Kidney_Disease,diabetesMellitus:h.Diabetes_Mellitus,bronchialAsthma:h.Bronchial_Asthma,immunodeficiencyStatus:h.Immunodeficiency_Status,cancer:h.Cancer,others:h.Others,patientDiagnosedWithCovid:h.Patient_Was_Diagnosed_With_COVID_19,classificationOfCovid:h.Classification_Of_COVID_19,dateOfCovid:h.Date_Of_First_Positive_Result_Specimen_Collection_Date,providedConsent:h.Provided_Electronic_Informed_Consent,householdMemberCategory:h.HouseholdMemberCategory,companyName:h.Name_Of_Employer,companyProvince:h.Employer_Province,companyAddress:h.Address_of_Employer,companyContactNumber:h.Contact_Number_Of_Employer,qrCode:h.QRCode,vaccineSched:d,vaccineeID:void 0===h.Id?h.ID:h.Id,referringEmployeeEmail:h.ReferringEmployeeEmail,station:m,scheduled:!0};e.push(f)}this.formLoading=!0;var g="";for(var y of e){var v={messageType:"sms",destination:y.contactNumber,text:`Hi, ${y.firstName} ${y.lastName},\n\n`+this.textMessaging,vaccineSched:d};if("secondDose"===this.tab?y.secondDose=!0:y.secondDose=!1,g=2===y.station?await this.$store.dispatch("updateRegisteredSchedule",y):f.householdMemberCategory.includes("CORPORATE")?await this.$store.dispatch("approveVASCorporatePreregistration",y):await this.$store.dispatch("approveVASPreregistration",y),this.textMessage)if(null===y.referringEmployeeEmail||""===y.referringEmployeeEmail)await this.sendTextMessage(v);else{await this.sendTextMessage(v);const e={email:y.referringEmployeeEmail,name:`${y.firstName} ${y.lastName}`,message:this.textMessaging.replace("-- UERM Vaccine Team","<br><br>- UERM Vaccine Team")};await this.$store.dispatch("sendEmailSchedule",e)}}void 0!==g.message?this.triggerSucccess():this.formLoading=!1},async sendTextMessage(e){const t=this.$q.localStorage.getItem("smartAccessToken");if(null===t){const t=await this.$store.dispatch("setTextMessagingAuthentication");if(t.accessToken.length>0)return await this.$store.dispatch("sendTextMessage",e),{message:"success"};{const t=await this.$store.dispatch("refreshTextToken");if(t.accessToken.length>0)return await this.$store.dispatch("sendTextMessage",e),{message:"success"}}}else{const t=await this.$store.dispatch("sendTextMessage",e);if("Error"===t.name){const t=await this.$store.dispatch("refreshTextToken");if("Error"===t.name)return await this.$store.dispatch("setTextMessagingAuthentication"),await this.$store.dispatch("sendTextMessage",e),{message:"success"}}}},triggerSucccess(){const e=this.$q.notify({type:"ongoing",message:"Scheduling selected individuals..."});setTimeout((()=>{e({type:"positive",message:"Successfully scheduled selected individuals",timeout:1e3}),this.formLoading=!1,this.scheduleDialog=!1,this.setInitValues(),this.populatePreregistration(),this.populateRegistration(),this.populateSecondDose()}),1e3)},async populatePreregistration(){this.tableLoading=!0,await this.$store.dispatch("searchPreRegistrationProfile",this.preRegistrationInfo),this.tableLoading=!1},async populateRegistration(){this.tableLoading=!0,await this.$store.dispatch("searchVaccineeProfile",this.preRegistrationInfo),this.tableLoading=!1},async populateSecondDose(){this.tableLoading=!0,await this.$store.dispatch("searchVaccineeProfileVaccinated",this.preRegistrationInfo),this.tableLoading=!1,console.log(this.registeredScheduleVaccineeSecondDose,"registeredScheduleVaccineeSecondDose")},setInitValues(){this.selected=[]},closeDialog(){this.setInitValues()}}},Pe=Oe,Re=(a("1093"),a("429b")),Ae=a("7460"),Te=a("eb85"),Ee=a("adad"),Me=a("823b"),Ve=a("ca78"),Qe=Object(D["a"])(Pe,Le,ke,!1,null,null,null),Ye=Qe.exports;E()(Qe,"components",{QCard:Z["a"],QForm:I["a"],QCardSection:C["a"],QInput:w["a"],QBtn:$["a"],QTabs:Re["a"],QTab:Ae["a"],QSeparator:Te["a"],QTabPanels:Ee["a"],QTabPanel:Me["a"],QTable:F["a"],QInnerLoading:B["a"],QIcon:S["a"],QTr:H["a"],QTd:U["a"],QCheckbox:O["a"],QBadge:z["a"],QCardActions:P["a"],QDialog:De["a"],QPopupProxy:L["a"],QDate:k["a"],QTime:Ve["a"],QToggle:W["a"],QSpinnerHourglass:Ie["a"]}),E()(Qe,"directives",{ClosePopup:A["a"]});var Fe={components:{QRScannerDialog:ee,PreRegistrationDialog:de,ReservationDialog:we,SchedulingDialog:Ye},props:["dataLoaded","dosage"],data(){return{filterLastNameFocus:!0,searchCriteria:{lastName:null,categoryIDNumber:null,qrCode:null,currentSchedule:null},qrCodeDialog:null,preRegistrationDialog:null,currentModule:null,reservationDialog:null,schedulingDialog:null}},mounted(){this.getModule()},computed:n()({},Object(r["b"])({savingStatus:"savingStatus",revertQR:"revertQR",dialog:"dialog",editPersonalInfo:"editPersonalInfo"})),watch:{async savingStatus(e){e&&(this.searchVaccinee(),await this.$store.dispatch("savingStatus",!1),this.setInitValues())},dataLoaded(e){e&&(this.filterLastNameFocus=!1)},dialog(e){e||this.searchVaccinee()},revertQR(e){e&&(this.searchVaccinee(),this.qrCodeDialog=!1)}},methods:{setInitValues(){this.searchCriteria.lastName=null,this.searchCriteria.categoryIDNumber=null},getModule(){this.currentModule=this.$q.cookies.get("module")},async searchVaccinee(){await this.$store.dispatch("setLoading",!0);var e="";e="SECOND DOSE"===this.dosage?await this.$store.dispatch("searchVaccineeProfileVaccinated",this.searchCriteria):await this.$store.dispatch("searchVaccineeProfile",this.searchCriteria),e.vaccineeFound,await this.$store.dispatch("setLoading",!1)},async openQRCodeScanner(){this.qrCodeDialog=!0,await this.$store.dispatch("revertQR",!1)},openPreRegistration(){this.preRegistrationDialog=!0},openReservation(){this.reservationDialog=!0},openScheduling(){this.schedulingDialog=!0}}},Be=Fe,He=Object(D["a"])(Be,s,i,!1,null,null,null);t["a"]=He.exports;E()(He,"components",{QForm:I["a"],QCardSection:C["a"],QBtnGroup:R["a"],QBtn:$["a"],QTooltip:be["a"],QDialog:De["a"],QInput:w["a"]})},8674:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",[a("q-card-section",{staticStyle:{height:"400px","max-height":"400px","overflow-y":"auto"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-md"},[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.corporateReservation,columns:e.columns,"row-key":"Id",filter:e.filter,selection:"single",selected:e.selected,loading:e.loading,title:"Employees given Accessibility Links"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"emailAddress",attrs:{props:t}},[e._v("\n                  "+e._s(t.row.EmailAddress)+"\n                ")]),a("q-td",{key:"mobileNumber",attrs:{props:t}},[e._v("\n                  "+e._s(t.row.MobileNumber)+"\n                ")]),a("q-td",{key:"accessed",attrs:{props:t}},[t.row.Accessed?a("q-badge",{attrs:{color:"green",label:"ACCESSED"}}):e._e(),t.row.Accessed&&null!==t.row.Accessed?e._e():a("q-badge",{attrs:{color:"orange",label:"NOT ACCESSED"}})],1),a("q-td",{key:"submitted",attrs:{props:t}},[t.row.Submitted?a("q-badge",{attrs:{color:"green",label:"SUBMITTED"}}):e._e(),t.row.Submitted&&null!==t.row.Submitted?e._e():a("q-badge",{attrs:{color:"orange",label:"NOT SUBMITTED"}})],1)],1)]}}])})],1)])]),a("q-dialog",{attrs:{persistent:""},model:{value:e.reserveInfoDialog,callback:function(t){e.reserveInfoDialog=t},expression:"reserveInfoDialog"}},[a("q-card",{staticStyle:{"max-width":"900px"}},[a("q-card-section",{staticClass:"bg-primary text-center text-h5 text-white"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"text-left text-h5 text-white text-weight-thin"},[e._v("\n              "+e._s(this.reservationData.email)+"\n            ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"white"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("CLOSE")])],1)],1)]),a("q-card-section",[a("div",{staticClass:"text-center"},[a("a",{attrs:{target:"_blank",href:this.reservationData.url}},[e._v(e._s(this.reservationData.url))])])]),a("q-card-section",{staticClass:"flex flex-center"},[a("q-btn-group",[this.reservationData.accessed||this.reservationData.submitted?a("q-btn",{staticStyle:{width:"180px"},attrs:{loading:e.formLoading,icon:"save",color:"green"},on:{click:function(t){return e.reAccessReservation()}},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                Validating..\n              ")]},proxy:!0}],null,!1,2930993150)},[a("span",{staticClass:"q-pl-md"},[e._v("RE-ACCESS")])]):e._e()],1)],1)],1)],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l={props:["corporateReservation"],name:"RegistrationAccessibility",data(){return{selected:[],filter:"",pagination:{rowsPerPage:0},loading:null,columns:[{name:"emailAddress",label:"Email Address",align:"left",field:"EmailAddress",sortable:!0},{name:"mobileNumber",align:"center",label:"Mobile #",field:"MobileNumber",sortable:!0},{name:"accessed",align:"center",label:"Accessed",field:"Accessed",sortable:!0},{name:"submitted",label:"Submitted",field:"Submitted",align:"center",sortable:!0}],reserveInfoDialog:null,formLoading:null,reservationData:{email:null,url:null,mobileNumber:null,reservationType:null,hashKey:null,accessed:null,submitted:null}}},watch:{reserveInfoDialog(e){e||(this.setInitValues(),this.getReservationAccessibility())},selected(e){e.length>0&&(this.reserveInfoDialog=!0,this.reservationData.email=e[0].EmailAddress,this.reservationData.mobileNumber=e[0].MobileNumber,this.reservationData.reservationType=e[0].ReferringUserType,this.reservationData.hashkey=e[0].HashKey,this.reservationData.accessed=e[0].Accessed,this.reservationData.submitted=e[0].Submitted,this.reservationData.url=`https://apps.uerm.edu.ph/vue/covid-vaccination/#/vaccination-corporate/${e[0].Company}/${e[0].HashKey}`)}},computed:n()({},Object(r["b"])("corporate",["loginInfo"])),methods:{setInitValues(){this.selected=[],this.reservationData.email=null,this.reservationData.url=null,this.reservationData.email=null,this.reservationData.reservationType=null,this.reservationData.hashKey=null,this.reservationData.submitted=null,this.reserveInfoDialog=!1},async getReservationAccessibility(){this.loading=!0;const e={email:null,company:void 0!==this.loginInfo.Name?this.loginInfo.ShortCode:this.corporateReservation[0].Company};console.log(e,"reservationInfo"),await this.$store.dispatch("corporate/getReservationAccessibility",e),this.loading=!1},async getCompanyPreregistrationList(){await this.$store.dispatch("corporate/getPreregisteredList",this.loginInfo.Name)},async reAccessReservation(){this.formLoading=!0;const e={email:this.reservationData.email,mobileNumber:this.reservationData.mobileNumber,accessed:"0",submitted:"0",reservationType:this.reservationData.reservationType,hashKey:this.reservationData.hashkey},t=await this.$store.dispatch("updateReservationAccess",e);void 0!==t.message&&(this.getReservationAccessibility(),this.setInitValues(),this.formMessage=`Sucessfully Updated ${e.email}`),this.formLoading=!1}}},c=l,u=a("2877"),p=a("f09f"),d=a("a370"),h=a("eaac"),m=a("27f9"),f=a("0016"),g=a("74f7"),y=a("bd08"),v=a("db86"),b=a("9564"),D=a("58a81"),I=a("24e8"),C=a("9c40"),_=a("05c0"),S=a("e7a9"),q=a("9149"),x=a("7f67"),N=a("eebe"),w=a.n(N),L=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=L.exports;w()(L,"components",{QCard:p["a"],QCardSection:d["a"],QTable:h["a"],QInput:m["a"],QIcon:f["a"],QInnerLoading:g["a"],QTr:y["a"],QTd:v["a"],QToggle:b["a"],QBadge:D["a"],QDialog:I["a"],QBtn:C["a"],QTooltip:_["a"],QBtnGroup:S["a"],QSpinnerHourglass:q["a"]}),w()(L,"directives",{ClosePopup:x["a"]})},"89e6":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",[a("q-card-section",{staticStyle:{height:"400px","max-height":"400px","overflow-y":"auto"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-md"},[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:this.preRegisteredList,columns:e.columns,"row-key":"Id",filter:e.filter,selection:"single",selected:e.selected,loading:e.loading,title:"Preregistered Employees"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                  "+e._s(t.row.categoryIDNumber)+"\n                ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                  "+e._s(t.row.fullName)+"\n                ")]),a("q-td",{key:"dateRegistered",attrs:{props:t}},[e._v("\n                  "+e._s(t.row.dateRegistered)+"\n                ")]),a("q-td",{key:"Cancelled",attrs:{props:t}},[t.row.Cancelled?a("q-badge",{attrs:{color:"red",label:"CANCELLED"}}):e._e(),t.row.Cancelled||t.row.Transferred?e._e():a("q-badge",{attrs:{color:"orange",label:"FOR SCHEDULING"}}),t.row.Transferred?a("q-badge",{attrs:{color:"green",label:"SCHEDULED"}}):e._e()],1)],1)]}}])})],1)])]),a("q-dialog",{attrs:{persistent:""},model:{value:e.preRegistrationInfoDialog,callback:function(t){e.preRegistrationInfoDialog=t},expression:"preRegistrationInfoDialog"}},[a("q-card",{staticStyle:{width:"1200px","max-width":"1500px"}},[a("q-form",{ref:"personalInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitPersonalInfo}},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"row justify-between"},[a("div",{staticClass:"text-left text-h5 text-white text-weight-thin"},[e._v("\n                PREREGISTRATION INFO - "+e._s(e.personalData.firstName)+" "+e._s(e.personalData.middleName)+" "+e._s(e.personalData.lastName)+"\n              ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"white"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("CLOSE")])],1)],1)]),a("q-card-section",[a("div",{},[a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-user",label:"Personal Information",group:"othergroup","default-opened":""}},[a("q-card",[a("q-card-section",[a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Category",options:e.categoryListOptions,behavior:"menu",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category"}]},on:{filter:e.filterCategoryList},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.category,callback:function(t){e.$set(e.personalData,"category",t)},expression:"personalData.category"}}),a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Category ID",options:e.categoryIDOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category ID"}]},on:{filter:e.filterCategoryID},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.categoryID,callback:function(t){e.$set(e.personalData,"categoryID",t)},expression:"personalData.categoryID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Category ID Number",hint:"Category ID Number",rules:[function(e){return e&&e.length>0||"Please enter Category ID Number"}]},model:{value:e.personalData.categoryIDNumber,callback:function(t){e.$set(e.personalData,"categoryIDNumber",t)},expression:"personalData.categoryIDNumber"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Philhealth ID Number",hint:"Your Philhealth ID"},model:{value:e.personalData.philhealthID,callback:function(t){e.$set(e.personalData,"philhealthID",t)},expression:"personalData.philhealthID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"PWD ID Number",hint:"PWD ID Number"},model:{value:e.personalData.pwdID,callback:function(t){e.$set(e.personalData,"pwdID",t)},expression:"personalData.pwdID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Lastname",hint:"Your Last Name",rules:[function(e){return e&&e.length>0||"Please enter Last Name"}]},model:{value:e.personalData.lastName,callback:function(t){e.$set(e.personalData,"lastName",t)},expression:"personalData.lastName"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Firstname",hint:"Your First Name",rules:[function(e){return e&&e.length>0||"Please enter First Name"}]},model:{value:e.personalData.firstName,callback:function(t){e.$set(e.personalData,"firstName",t)},expression:"personalData.firstName"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Middlename",hint:"Your Middle Name",rules:[function(e){return e&&e.length>0||"Please enter Middle Name"}]},model:{value:e.personalData.middleName,callback:function(t){e.$set(e.personalData,"middleName",t)},expression:"personalData.middleName"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Gender",options:e.genderListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},on:{filter:e.filterGender},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.gender,callback:function(t){e.$set(e.personalData,"gender",t)},expression:"personalData.gender"}}),a("q-input",{attrs:{outlined:"",square:"",mask:"date",rules:["date"],hint:"Your Birthdate (YYYY/MM/DD)"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Civil Status",options:e.civilStatusListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Civil Status"}]},on:{filter:e.filterCivilStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.civilStatus,callback:function(t){e.$set(e.personalData,"civilStatus",t)},expression:"personalData.civilStatus"}}),a("q-input",{attrs:{outlined:"",square:"",type:"number",label:"Contact Number",hint:"Your Contact Number",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},model:{value:e.personalData.contactNumber,callback:function(t){e.$set(e.personalData,"contactNumber",t)},expression:"personalData.contactNumber"}})],1)],1)],1),a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-map-marked-alt",label:"Address",group:"othergroup"}},[a("q-card",[a("q-card-section",[a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Full Address",hint:"Please include your barangay follow by asterisk(*) in your FULL ADDRESS",rules:[function(e){return e&&e.length>0||"Please enter Full Address"}]},model:{value:e.personalData.fullAddress,callback:function(t){e.$set(e.personalData,"fullAddress",t)},expression:"personalData.fullAddress"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.region,callback:function(t){e.$set(e.personalData,"region",t)},expression:"personalData.region"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.province,callback:function(t){e.$set(e.personalData,"province",t)},expression:"personalData.province"}}),a("q-select",{attrs:{outlined:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.municipality,callback:function(t){e.$set(e.personalData,"municipality",t)},expression:"personalData.municipality"}}),a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Barangay",hint:"Please include your barangay follow by asterisk(*) in your FULL ADDRESS",rules:[function(e){return e&&e.length>0||"Please enter Barangay"}]},model:{value:e.personalData.barangay,callback:function(t){e.$set(e.personalData,"barangay",t)},expression:"personalData.barangay"}})],1)],1)],1),a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-virus",label:"Other Information",group:"othergroup"}},[a("q-card",[a("q-card-section",[a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Employment Status",options:e.employmentStatusOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Employment Status"}]},on:{filter:e.filterEmploymentStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.employed,callback:function(t){e.$set(e.personalData,"employed",t)},expression:"personalData.employed"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Profession",options:e.professionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Profession"}]},on:{filter:e.filterProfessions},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                            No results\n                          ")])],1)]},proxy:!0}]),model:{value:e.personalData.profession,callback:function(t){e.$set(e.personalData,"profession",t)},expression:"personalData.profession"}}),a("q-checkbox",{staticClass:"q-pb-md text-black",attrs:{size:"lg",color:"primary",label:"Directly in interaction with COVID Patient ?","true-value":"01_Yes","false-value":"02_No"},model:{value:e.personalData.directCovid,callback:function(t){e.$set(e.personalData,"directCovid",t)},expression:"personalData.directCovid"}}),a("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.allergiesLists,"use-chips":"","stack-label":"",label:"Allergies"},model:{value:e.personalData.allergies,callback:function(t){e.$set(e.personalData,"allergies",t)},expression:"personalData.allergies"}}),a("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.comorbiditiesLists,"use-chips":"","stack-label":"",label:"Comorbidities"},model:{value:e.personalData.comorbidities,callback:function(t){e.$set(e.personalData,"comorbidities",t)},expression:"personalData.comorbidities"}})],1)],1)],1)],1)]),e.preRegMessage.length>0?a("q-card-section",[e.preRegMessage.includes("cancelled")?a("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"fas fa-exclamation-circle",size:"lg"}}),e._v("\n              "+e._s(e.preRegMessage)+"\n            ")],1):a("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"fas fa-check-circle",size:"lg"}}),e._v("\n              "+e._s(e.preRegMessage)+"\n            ")],1)],1):e._e(),!this.personalData.cancelled||this.personalData.transferred?a("q-card-actions",{staticClass:"flex flex-center q-pb-md"},[a("q-btn-group",[a("q-btn",{staticStyle:{width:"180px"},attrs:{type:"submit",push:"",color:"green",loading:e.updateLoading,icon:"fas fa-user-edit"},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                  UPDATING..\n                ")]},proxy:!0}],null,!1,483726825)},[a("span",{staticClass:"q-pl-md"},[e._v("UPDATE")])]),a("q-btn",{staticStyle:{width:"180px"},attrs:{type:"button",push:"",icon:"fas fa-user-times",color:"negative",loading:e.cancelLoading},on:{click:e.cancelPreregistration},scopedSlots:e._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                  CANCELLING..\n                ")]},proxy:!0}],null,!1,1236910295)},[a("span",{staticClass:"q-pl-md"},[e._v("CANCEL")])])],1)],1):e._e()],1)],1)],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=(a("ddb0"),a("1e25"),a("eee7"),a("498a"),a("2f62")),l={name:"Preregistered",props:["preRegisteredList","corporateDetails"],data(){return{selected:[],filter:"",pagination:{rowsPerPage:0},loading:null,preRegistrationInfoDialog:null,updateLoading:null,cancelLoading:null,columns:[{name:"categoryIDNumber",label:"Category ID #",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"center",label:"Fullname",field:"fullName",sortable:!0},{name:"dateRegistered",align:"center",label:"Date Registered",field:"dateRegistered",sortable:!0},{name:"Cancelled",align:"center",label:"Status",field:"Cancelled",sortable:!0}],personalData:{category:null,categoryID:null,categoryIDNumber:null,philhealthID:null,pwdID:null,lastName:null,firstName:null,middleName:null,suffix:null,gender:null,birthdate:null,civilStatus:null,contactNumber:null,fullAddress:null,region:null,province:null,municipality:null,barangay:null,employed:null,directCovid:"02_No",profession:null,code:this.$route.params.id,formType:null,householdMemberCategory:null,qrCode:null,allergies:null,comorbidities:null,cancellation:0},categoryListOptions:this.categoryList,categoryIDOptions:this.categoryID,genderListOptions:[],genderLists:[],civilStatusListOptions:[],civilStatusLists:[],professionListOptions:[],professionLists:[],employmentStatusOptions:this.employmentStatus,employmentStatusLists:[],regionListOptions:[],regionLists:[],provincesListOptions:this.provinces,provincesLists:this.provinces,citiesListOptions:this.cities,citiesLists:this.cities,barangaysListOptions:this.barangays,barangaysLists:this.barangays,comorbiditiesLists:null,allergiesLists:null,preRegMessage:[]}},watch:{selected(e){e.length>0&&(this.preRegistrationInfoDialog=!0,this.formatPreregistrationInfo(e))},preRegistrationInfoDialog(e){e||this.setInitValues()},personalData:{async handler(e){this.editPersonalInformation(this.selected)},deep:!0}},computed:n()({},Object(r["b"])({categoryList:"categoryList",categoryID:"categoryID",categoryRaw:"categoryRaw",categoryIDRaw:"categoryIDRaw",gender:"gender",civilStatus:"civilStatus",professions:"professions",employmentStatus:"employmentStatus",region:"region",provinces:"provinces",cities:"cities",barangays:"barangays",allergies:"allergies",comorbidities:"comorbidities",loginInfo:"corporate/loginInfo"})),methods:{async setInitValues(){this.selected=[],this.personalData.category=null,this.personalData.categoryID=null,this.personalData.categoryIDNumber=null,this.personalData.philhealthID=null,this.personalData.pwdID=null,this.personalData.lastName=null,this.personalData.firstName=null,this.personalData.middleName=null,this.personalData.suffix=null,this.personalData.gender=null,this.personalData.birthdate=null,this.personalData.civilStatus=null,this.personalData.contactNumber=null,this.personalData.fullAddress=null,this.personalData.region=null,this.personalData.province=null,this.personalData.municipality=null,this.personalData.barangay=null,this.personalData.employed=null,this.personalData.directCovid="02_No",this.personalData.profession=null,this.personalData.code=this.$route.params.id,this.personalData.formType=null,this.personalData.householdMemberCategory=null,this.personalData.qrCode=null,this.personalData.cancelled=null,this.personalData.transferred=null,this.personalData.cancellation=0,this.preRegMessage=[],this.cancelLoading=null,this.updateLoading=null,this.getReservationAccessibility(),this.getCompanyPreregistrationList()},async formatPreregistrationInfo(e){const t=e[0].allergiesCompiled.filter((e=>"01_Yes"===e.result));var a=[];for(var s of t)a.push(s.name);const i=e[0].comorbiditiesCompiled.filter((e=>"01_Yes"===e.result));var o=[];for(var n of i)o.push(n.name);this.personalData.allergies=a,this.personalData.comorbidities=o,this.professions.filter((t=>t.code===e[0].profession)),this.personalData.categoryIDNumber=e[0].categoryIDNumber,this.personalData.philhealthID=e[0].philhealthID,this.personalData.pwdID=e[0].PWD_ID,this.personalData.lastName=e[0].lastName,this.personalData.firstName=e[0].firstName,this.personalData.middleName=e[0].middleName,this.personalData.contactNumber=e[0].contactNumber,this.personalData.gender=e[0].gender,this.personalData.civilStatus=e[0].civilStatus,this.personalData.birthdate=e[0].birthdate,this.personalData.fullAddress=e[0].fullAddress,this.personalData.region=e[0].region,this.personalData.barangay=e[0].barangay,this.personalData.householdMemberCategory=e[0].householdMemberCategory,this.personalData.employed=e[0].employmentStatus,this.personalData.profession=e[0].profession,this.personalData.qrCode=e[0].qrCode;const r=this.categoryRaw.filter((t=>t.code===e[0].Category)),l=this.categoryIDRaw.filter((t=>t.code===e[0].Category_ID));if(this.personalData.category=r[0].name,this.personalData.categoryID=l[0].name,this.personalData.cancelled=e[0].Cancelled,this.personalData.transferred=e[0].Transferred,null!==this.personalData.region&&""!==this.personalData.region){{const t=e[0].province.split("_");var c=/^[0-9]+$/;if(t[1].match(c))var u="";else u=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",n=void 0!==t[6]?t[6]:"",r=void 0!==t[7]?t[7]:"",l=void 0!==t[8]?t[8]:"",p=void 0!==t[9]?t[9]:"",d=void 0!==t[10]?t[10]:"",h=void 0!==t[11]?t[11]:"",m=`${u} ${a} ${s} ${i} ${o} ${n} ${r} ${l} ${p} ${d} ${h}`;this.personalData.province=m.trimRight()}if(null!==this.personalData.province&&""!==this.personalData.province){if(null!==e[0].city&&e[0].city.length>0){const t=e[0].city.split("_");var p=/^[0-9]+$/;if(t[1].match(p))var d="";else d=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",n=void 0!==t[6]?t[6]:"",r=void 0!==t[7]?t[7]:"",l=void 0!==t[8]?t[8]:"",c=void 0!==t[9]?t[9]:"",u=void 0!==t[10]?t[10]:"",h=void 0!==t[11]?t[11]:"",m=`${d} ${a} ${s} ${i} ${o} ${n} ${r} ${l} ${c} ${u} ${h}`,f=m.trimRight();this.personalData.municipality=f.trimLeft()}if(""!==e[0].employmentStatus){var h=this.employmentStatus.filter((t=>t.code===e[0].employmentStatus));this.personalData.employed=h[0].name}if(this.personalData.directCovid=e[0].directCovid,""!==e[0].profession&&null!==e[0].profession){var m=this.professions.filter((t=>t.code===e[0].profession));this.personalData.profession=m[0].name}this.editPersonalInformation(e)}}},async editPersonalInformation(e){for(var t=[],a=0;a<this.gender.length;a++)t[a]=this.gender[a].name;this.genderLists=t;for(var s=[],i=0;i<this.civilStatus.length;i++)s[i]=this.civilStatus[i].name;this.civilStatusLists=s;for(var o=[],n=0;n<this.employmentStatus.length;n++)o[n]=this.employmentStatus[n].name;this.employmentStatusLists=o;for(var r=[],l=0;l<this.professions.length;l++)r[l]=this.professions[l].name;this.professionLists=r;for(var c=[],u=0;u<this.comorbidities.length;u++)c[u]=this.comorbidities[u].name;this.comorbiditiesLists=c;for(var p=[],d=0;d<this.allergies.length;d++)p[d]=this.allergies[d].name;this.allergiesLists=p;for(var h=[],m=0;m<this.region.length;m++)h[m]=this.region[m].name;if(this.regionLists=h,e.length>0&&void 0!==e[0].region&&null!==e[0].region&&e[0].region.length>0){var f="";if(this.personalData.region.length>0){var g=this.region.filter((e=>e.name===this.personalData.region.trim()));f=g[0].name}else f=e[0].region;await this.$store.dispatch("getProvinces",f);for(var y=[],v=0;v<this.provinces.length;v++)y[v]=this.provinces[v].name;if(this.provincesListOptions=y,this.provincesLists=y,0!==e[0].province.length&&null!==this.personalData.province&&this.personalData.province.length>0){const t=this.provinces.filter((e=>e.name===this.personalData.province.trim()));if(t.length>0){await this.$store.dispatch("getCities",t[0].shortCode);for(var b=[],D=0;D<this.cities.length;D++)b[D]=this.cities[D].name;if(this.citiesListOptions=b,this.citiesLists=b,(null===e[0].householdMemberCategory||""===e[0].householdMemberCategory)&&this.cities.length>0){const t=e[0].city;var I=this.cities.filter((e=>e.TownCity===t.trim()));if(I.length>0){await this.$store.dispatch("getBarangays",I[0].shortCode);for(var C=[],_=0;_<this.barangays.length;_++)C[_]=this.barangays[_].name;this.barangaysListOptions=C,this.barangaysLists=C}}}}}},async onSubmitPersonalInfo(){this.updateLoading=!0,this.updatePreregistrationInfo()},async cancelPreregistration(){this.cancelLoading=!0,this.preRegistrationInfoDialog=!1,this.personalData.cancellation=1,this.updatePreregistrationInfo()},async updatePreregistrationInfo(){var e=this.categoryRaw.filter((e=>e.name===this.personalData.category)),t=this.categoryIDRaw.filter((e=>e.name===this.personalData.categoryID));const a=new Date(this.personalData.birthdate),s=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),i=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(a),o=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a),n=`${i}/${o}/${s}`;var r=this.cities.filter((e=>e.name===this.personalData.municipality.trim())),l=this.civilStatus.filter((e=>e.name===this.personalData.civilStatus)),c=this.gender.filter((e=>e.name===this.personalData.gender)),u=this.provinces.filter((e=>e.name===this.personalData.province.trim())),p=this.region.filter((e=>e.name===this.personalData.region.trim())),d="";d=null===this.personalData.householdMemberCategory||""===this.personalData.householdMemberCategory?this.barangays.filter((e=>e.name===this.personalData.barangay.trim())):this.personalData.barangay;var h=this.employmentStatus.filter((e=>e.name===this.personalData.employed)),m=this.professions.filter((e=>e.name===this.personalData.profession)),f={category:e[0].code,categoryID:t[0].code,categoryIDNumber:this.personalData.categoryIDNumber,philhealthID:this.personalData.philhealthID,pwdID:this.personalData.pwdID,lastName:this.personalData.lastName,firstName:this.personalData.firstName,middleName:this.personalData.middleName,gender:c[0].code,birthdate:n,civilStatus:l[0].code,contactNumber:this.personalData.contactNumber,fullAddress:this.personalData.fullAddress,region:p[0].code,province:u[0].Province,city:r[0].TownCity,barangay:d,employmentStatus:h[0].code,directCovid:this.personalData.directCovid,profession:m[0].code,drugAllergy:this.personalData.allergies.includes("Drug")?"01_Yes":"02_No",foodAllergy:this.personalData.allergies.includes("Food")?"01_Yes":"02_No",insectAllergy:this.personalData.allergies.includes("Insect")?"01_Yes":"02_No",latexAllergy:this.personalData.allergies.includes("Latex")?"01_Yes":"02_No",moldAllergy:this.personalData.allergies.includes("Mold")?"01_Yes":"02_No",petAllergy:this.personalData.allergies.includes("Pet")?"01_Yes":"02_No",pollenAllergy:this.personalData.allergies.includes("Pollen")?"01_Yes":"02_No",withComorbidity:this.personalData.comorbidities.length>0?"01_Yes":"02_No",hypertension:this.personalData.comorbidities.includes("Hypertension")?"01_Yes":"02_No",heartDisease:this.personalData.comorbidities.includes("Heart Disease")?"01_Yes":"02_No",kidneyDisease:this.personalData.comorbidities.includes("Kidney Disease")?"01_Yes":"02_No",diabetesMellitus:this.personalData.comorbidities.includes("Diabetes Mellitus")?"01_Yes":"02_No",bronchialAsthma:this.personalData.comorbidities.includes("Bronchial Asthma")?"01_Yes":"02_No",immunodeficiencyStatus:this.personalData.comorbidities.includes("Immunodeficiency State")?"01_Yes":"02_No",cancer:this.personalData.comorbidities.includes("Cancer")?"01_Yes":"02_No",others:this.personalData.comorbidities.includes("Others")?"01_Yes":"02_No",patientDiagnosedWithCovid:this.selected[0].Patient_Was_Diagnosed_With_COVID_19,classificationOfCovid:this.selected[0].Classification_Of_COVID_19,dateOfCovid:this.selected[0].Date_Of_First_Positive_Result_Specimen_Collection_Date,providedConsent:this.selected[0].Provided_Electronic_Informed_Consent,householdMemberCategory:this.personalData.householdMemberCategory,qrCode:this.personalData.qrCode,cancelled:this.personalData.cancellation,vaccineeID:this.selected[0].Id},g=await this.$store.dispatch("updatePreregistrationInfo",f);void 0!==g.message&&(1===this.personalData.cancellation?(this.preRegMessage="You have successfully cancelled this vaccinee",this.cancelLoading=!1,this.setInitValues()):(this.preRegMessage="You have successfully updated this vaccinee",this.updateLoading=!1,this.setInitValues()))},async getReservationAccessibility(){this.loading=!0;const e={email:null,company:void 0!==this.loginInfo.Name?this.loginInfo.ShortCode:this.corporateDetails[0].ShortCode};await this.$store.dispatch("corporate/getReservationAccessibility",e),this.loading=!1},async getCompanyPreregistrationList(){await this.$store.dispatch("corporate/getPreregisteredList",void 0!==this.loginInfo.Name?this.loginInfo.Name:this.corporateDetails[0].Name)},filterCategoryList(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryListOptions=this.categoryList.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryListOptions=this.categoryList})},filterCategoryID(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryIDOptions=this.categoryID.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryIDOptions=this.categoryID})},filterRegion(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.regionListOptions=this.regionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.regionListOptions=this.regionLists,this.personalData.province=[],this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[]})},filterProvinces(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.provincesListOptions=this.provincesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.provincesListOptions=this.provincesLists,this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[]})},filterCities(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.citiesListOptions=this.citiesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.citiesListOptions=this.citiesLists,"alumni"!==this.personalData.householdMemberCategory&&(this.personalData.barangay=[])})},filterBarangays(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.barangaysListOptions=this.barangaysLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.barangaysListOptions=this.barangaysLists})},filterGender(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.genderListOptions=this.genderLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.genderListOptions=this.genderLists})},filterCivilStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.civilStatusListOptions=this.civilStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.civilStatusListOptions=this.civilStatusLists})},filterProfessions(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.professionListOptions=this.professionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.professionListOptions=this.professionLists})},filterEmploymentStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.employmentStatusOptions=this.employmentStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.employmentStatusOptions=this.employmentStatusLists})}}},c=l,u=(a("a4a5"),a("2877")),p=a("f09f"),d=a("a370"),h=a("eaac"),m=a("27f9"),f=a("0016"),g=a("74f7"),y=a("bd08"),v=a("db86"),b=a("9564"),D=a("58a81"),I=a("24e8"),C=a("0378"),_=a("9c40"),S=a("05c0"),q=a("3b73"),x=a("ddd8"),N=a("66e5"),w=a("4074"),L=a("7cbe"),k=a("52ee"),$=a("8f8e"),O=a("54e1"),P=a("4b7e"),R=a("e7a9"),A=a("9149"),T=a("7f67"),E=a("eebe"),M=a.n(E),V=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=V.exports;M()(V,"components",{QCard:p["a"],QCardSection:d["a"],QTable:h["a"],QInput:m["a"],QIcon:f["a"],QInnerLoading:g["a"],QTr:y["a"],QTd:v["a"],QToggle:b["a"],QBadge:D["a"],QDialog:I["a"],QForm:C["a"],QBtn:_["a"],QTooltip:S["a"],QExpansionItem:q["a"],QSelect:x["a"],QItem:N["a"],QItemSection:w["a"],QPopupProxy:L["a"],QDate:k["a"],QCheckbox:$["a"],QBanner:O["a"],QCardActions:P["a"],QBtnGroup:R["a"],QSpinnerHourglass:A["a"]}),M()(V,"directives",{ClosePopup:T["a"]})},"940f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-form",{ref:"personalInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitPersonalInfo}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-xs"},[a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-user",label:"Personal Information",group:"othergroup","default-opened":""}},[a("q-card",[a("q-card-section",[a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Category",options:e.categoryListOptions,behavior:"menu",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category"}]},on:{filter:e.filterCategoryList},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.personalData.category,callback:function(t){e.$set(e.personalData,"category",t)},expression:"personalData.category"}}),a("q-select",{attrs:{square:"",outlined:"","use-input":"","input-debounce":"0",label:"Category ID",options:e.categoryIDOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category ID"}]},on:{filter:e.filterCategoryID},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.personalData.categoryID,callback:function(t){e.$set(e.personalData,"categoryID",t)},expression:"personalData.categoryID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Category ID Number",hint:"Category ID Number",rules:[function(e){return e&&e.length>0||"Please enter Category ID Number"}]},model:{value:e.personalData.categoryIDNumber,callback:function(t){e.$set(e.personalData,"categoryIDNumber",t)},expression:"personalData.categoryIDNumber"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Philhealth ID Number",hint:"Your Philhealth ID"},model:{value:e.personalData.philhealthID,callback:function(t){e.$set(e.personalData,"philhealthID",t)},expression:"personalData.philhealthID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"PWD ID Number",hint:"PWD ID Number"},model:{value:e.personalData.pwdID,callback:function(t){e.$set(e.personalData,"pwdID",t)},expression:"personalData.pwdID"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Lastname",hint:"Your Last Name",rules:[function(e){return e&&e.length>0||"Please enter Last Name"}]},model:{value:e.personalData.lastName,callback:function(t){e.$set(e.personalData,"lastName",t)},expression:"personalData.lastName"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Firstname",hint:"Your First Name",rules:[function(e){return e&&e.length>0||"Please enter First Name"}]},model:{value:e.personalData.firstName,callback:function(t){e.$set(e.personalData,"firstName",t)},expression:"personalData.firstName"}}),a("q-input",{attrs:{square:"",outlined:"",type:"text",label:"Middlename",hint:"Your Middle Name",rules:[function(e){return e&&e.length>0||"Please enter Middle Name"}]},model:{value:e.personalData.middleName,callback:function(t){e.$set(e.personalData,"middleName",t)},expression:"personalData.middleName"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Gender",options:e.genderListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},on:{filter:e.filterGender},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.personalData.gender,callback:function(t){e.$set(e.personalData,"gender",t)},expression:"personalData.gender"}}),a("q-input",{attrs:{outlined:"",square:"",mask:"date",rules:["date"],hint:"Your Birthdate (YYYY/MM/DD)"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.personalData.birthdate,callback:function(t){e.$set(e.personalData,"birthdate",t)},expression:"personalData.birthdate"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Civil Status",options:e.civilStatusListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Civil Status"}]},on:{filter:e.filterCivilStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.personalData.civilStatus,callback:function(t){e.$set(e.personalData,"civilStatus",t)},expression:"personalData.civilStatus"}}),a("q-input",{attrs:{outlined:"",square:"",type:"number",label:"Contact Number",hint:"Your Contact Number",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},model:{value:e.personalData.contactNumber,callback:function(t){e.$set(e.personalData,"contactNumber",t)},expression:"personalData.contactNumber"}})],1)],1)],1),"EMPLOYEE"!==this.personalData.householdMemberCategory?a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-user",label:"Address Information",group:"othergroup"}},[a("q-card",[a("q-card-section",{staticClass:"text-black"},[null==this.personalData.householdMemberCategory||""==this.personalData.householdMemberCategory?a("div",[a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Full Address",hint:"Please include your barangay follow by asterisk(*) in your FULL ADDRESS",rules:[function(e){return e&&e.length>0||"Please enter Full Address"}]},model:{value:e.personalData.fullAddress,callback:function(t){e.$set(e.personalData,"fullAddress",t)},expression:"personalData.fullAddress"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.personalData.region,callback:function(t){e.$set(e.personalData,"region",t)},expression:"personalData.region"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.personalData.province,callback:function(t){e.$set(e.personalData,"province",t)},expression:"personalData.province"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.personalData.municipality,callback:function(t){e.$set(e.personalData,"municipality",t)},expression:"personalData.municipality"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Barangay",options:e.barangaysListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Barangay"}]},on:{filter:e.filterBarangays},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.personalData.barangay,callback:function(t){e.$set(e.personalData,"barangay",t)},expression:"personalData.barangay"}})],1):"ALUMNI"==this.personalData.householdMemberCategory?a("div",[a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Full Address",hint:"Please include your barangay follow by asterisk(*) in your FULL ADDRESS",rules:[function(e){return e&&e.length>0||"Please enter Full Address"}]},model:{value:e.personalData.fullAddress,callback:function(t){e.$set(e.personalData,"fullAddress",t)},expression:"personalData.fullAddress"}}),a("q-select",{staticClass:"q-pt-md",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.personalData.region,callback:function(t){e.$set(e.personalData,"region",t)},expression:"personalData.region"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.personalData.province,callback:function(t){e.$set(e.personalData,"province",t)},expression:"personalData.province"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                        No results\n                      ")])],1)]},proxy:!0}],null,!1,2860677263),model:{value:e.personalData.municipality,callback:function(t){e.$set(e.personalData,"municipality",t)},expression:"personalData.municipality"}}),a("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Barangay",rules:[function(e){return e&&e.length>0||"Please enter Barangay"}]},model:{value:e.personalData.barangay,callback:function(t){e.$set(e.personalData,"barangay",t)},expression:"personalData.barangay"}})],1):e._e()])],1)],1):e._e(),a("q-expansion-item",{staticClass:"q-ma-md bg-primary text-white shadow-11",attrs:{"expand-separator":"",icon:"fas fa-virus",label:"Other Information",group:"othergroup"}},[a("q-card",[a("q-card-section",{staticClass:"text-black"},[a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Employment Status",options:e.employmentStatusOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Employment Status"}]},on:{filter:e.filterEmploymentStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.personalData.employed,callback:function(t){e.$set(e.personalData,"employed",t)},expression:"personalData.employed"}}),a("q-checkbox",{staticClass:"q-pb-md",attrs:{size:"lg",color:"primary",label:"Directly in interaction with COVID Patient ?","true-value":"01_Yes","false-value":"02_No"},model:{value:e.personalData.directCovid,callback:function(t){e.$set(e.personalData,"directCovid",t)},expression:"personalData.directCovid"}}),a("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Profession",options:e.professionListOptions,behavior:"menu","lazy-rules":"",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Profession"}]},on:{filter:e.filterProfessions},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                      No results\n                    ")])],1)]},proxy:!0}]),model:{value:e.personalData.profession,callback:function(t){e.$set(e.personalData,"profession",t)},expression:"personalData.profession"}}),a("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.allergiesLists,"use-chips":"","stack-label":"",label:"Allergies"},model:{value:e.personalData.allergies,callback:function(t){e.$set(e.personalData,"allergies",t)},expression:"personalData.allergies"}}),a("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.comorbiditiesLists,"use-chips":"","stack-label":"",label:"Comorbidities"},model:{value:e.personalData.comorbidities,callback:function(t){e.$set(e.personalData,"comorbidities",t)},expression:"personalData.comorbidities"}})],1)],1)],1)],1)]),a("q-card-actions",{staticClass:"flex flex-center"},[a("q-btn-group",[a("q-btn",{attrs:{push:"",icon:"redo",disable:e.buttonDisable,color:"green",type:"submit",label:"APPROVE"}}),a("q-btn",{attrs:{push:"",icon:"fas fa-times",color:"negative",label:"CLOSE"},on:{click:function(t){return e.closeDialog()}}})],1)],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=(a("5319"),a("ddb0"),a("1e25"),a("eee7"),a("498a"),a("2f62")),l={name:"RegistrationInfo",props:["registrationInfo","allergiesAndComorbidities","dose","qrScanner"],data(){return{filterFocus:!1,selected:[],filter:"",employeeVaccinedDialog:!1,pagination:{rowsPerPage:0},vaccineeDetails:{code:null,fullName:null,withVAS:!1,station:"1"},columns:[{name:"categoryIDNumber",label:"Category ID Number",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"left",label:"Name",field:"fullName",sortable:!0},{name:"currentStation",align:"left",label:"Current Station",field:"currentStation",sortable:!0}],categoryListOptions:this.categoryList,categoryIDOptions:this.categoryID,genderListOptions:[],genderLists:[],civilStatusListOptions:[],civilStatusLists:[],professionListOptions:[],professionLists:[],employmentStatusOptions:this.employmentStatus,employmentStatusLists:[],regionListOptions:[],regionLists:[],provincesListOptions:this.provinces,provincesLists:this.provinces,citiesListOptions:this.cities,citiesLists:this.cities,barangaysListOptions:this.barangays,barangaysLists:this.barangays,comorbiditiesLists:null,allergiesLists:null,vaccineeDialog:null,buttonDisable:!1,personalData:{category:null,categoryID:null,categoryIDNumber:null,philhealthID:null,pwdID:null,lastName:null,firstName:null,middleName:null,suffix:null,gender:null,birthdate:null,civilStatus:null,contactNumber:null,fullAddress:null,region:null,province:null,municipality:null,barangay:null,employed:null,directCovid:"02_No",profession:null,code:this.$route.params.id,formType:null,householdMemberCategory:null,allergies:null,comorbidities:null,qrCode:null}}},mounted(){this.formatPersonalInfo(this.registrationInfo)},computed:n()({},Object(r["b"])({editPersonalInfo:"editPersonalInfo",categoryList:"categoryList",categoryID:"categoryID",categoryRaw:"categoryRaw",categoryIDRaw:"categoryIDRaw",gender:"gender",civilStatus:"civilStatus",professions:"professions",employmentStatus:"employmentStatus",region:"region",provinces:"provinces",cities:"cities",barangays:"barangays",revertQR:"revertQR",dialog:"dialog",allergies:"allergies",comorbidities:"comorbidities"})),watch:{personalData:{async handler(e){this.editPersonalInformation(this.registrationInfo)},deep:!0}},methods:{async formatPersonalInfo(e){for(var t in await this.$store.dispatch("revertQR",!1),this.personalData.categoryIDNumber=e[0].categoryIDNumber,this.personalData.philhealthID=e[0].philhealthID,this.personalData.pwdID=e[0].PWD_ID,this.personalData.lastName=e[0].lastName,this.personalData.firstName=e[0].firstName,this.personalData.middleName=e[0].middleName,this.personalData.contactNumber=e[0].contactNumber,this.personalData.gender=e[0].gender,this.personalData.civilStatus=e[0].civilStatus,this.personalData.birthdate=e[0].birthdate,this.personalData.fullAddress=e[0].fullAddress,this.personalData.region=e[0].region,this.personalData.barangay=e[0].barangay,this.personalData.householdMemberCategory=e[0].householdMemberCategory,this.personalData.employed=e[0].employmentStatus,this.personalData.profession=e[0].profession,this.personalData.qrCode=e[0].qrCode,e[0].allergiesComorbidities){var a=e[0].allergiesComorbidities[t];"01_Yes"===a&&this.allergiesAndComorbidities.push(t.replace("_"," ").toUpperCase())}const s=e[0].allergiesCompiled.filter((e=>"01_Yes"===e.result));var i=[];for(var o of s)i.push(o.name);const n=e[0].comorbiditiesCompiled.filter((e=>"01_Yes"===e.result));var r=[];for(var l of n)r.push(l.name);if(this.personalData.allergies=i,this.personalData.comorbidities=r,""!==e[0].employmentStatus){var c=this.employmentStatus.filter((t=>t.code===e[0].employmentStatus));this.personalData.employed=c[0].name}if(this.personalData.directCovid=e[0].directCovid,""!==e[0].profession){var u=this.professions.filter((t=>t.code===e[0].profession));this.personalData.profession=u[0].name}const p=this.categoryRaw.filter((t=>t.code===e[0].Category)),d=this.categoryIDRaw.filter((t=>t.code===e[0].Category_ID));if(this.personalData.category=p[0].name,this.personalData.categoryID=d[0].name,null!==this.personalData.region&&""!==this.personalData.region){if(""!==e[0].province){const t=e[0].province.split("_");var h=/^[0-9]+$/;if(t[1].match(h))var m="";else m=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",n=void 0!==t[6]?t[6]:"",r=void 0!==t[7]?t[7]:"",l=void 0!==t[8]?t[8]:"",c=void 0!==t[9]?t[9]:"",u=void 0!==t[10]?t[10]:"",p=void 0!==t[11]?t[11]:"",d=`${m} ${a} ${s} ${i} ${o} ${n} ${r} ${l} ${c} ${u} ${p}`;this.personalData.province=d.trimRight()}if(null!==this.personalData.province&&""!==this.personalData.province){if(null!==e[0].city&&e[0].city.length>0){const t=e[0].city.split("_");var f=/^[0-9]+$/;if(t[1].match(f))var g="";else g=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",n=void 0!==t[6]?t[6]:"",r=void 0!==t[7]?t[7]:"",l=void 0!==t[8]?t[8]:"",c=void 0!==t[9]?t[9]:"",u=void 0!==t[10]?t[10]:"",p=void 0!==t[11]?t[11]:"",d=`${g} ${a} ${s} ${i} ${o} ${n} ${r} ${l} ${c} ${u} ${p}`,h=d.trimRight();this.personalData.municipality=h.trimLeft()}if((null===e[0].householdMemberCategory||""===e[0].householdMemberCategory)&&""!==e[0].barangay&&null!==e[0].barangay&&e[0].barangay.length>0){const t=e[0].barangay.split("_");var y=/^[0-9]+$/,v="";if(t[1].match(y))v="";else v=void 0!==t[1]?t[1]:"";const a=void 0!==t[2]?t[2]:"",s=void 0!==t[3]?t[3]:"",i=void 0!==t[4]?t[4]:"",o=void 0!==t[5]?t[5]:"",n=void 0!==t[6]?t[6]:"",r=void 0!==t[7]?t[7]:"",l=void 0!==t[8]?t[8]:"",c=void 0!==t[9]?t[9]:"",u=void 0!==t[10]?t[10]:"",p=void 0!==t[11]?t[11]:"",d=`${v} ${a} ${s} ${i} ${o} ${n} ${r} ${l} ${c} ${u} ${p}`;var b=d.trimRight();this.personalData.barangay=b}}}},async editPersonalInformation(e){for(var t=[],a=0;a<this.gender.length;a++)t[a]=this.gender[a].name;this.genderLists=t;for(var s=[],i=0;i<this.civilStatus.length;i++)s[i]=this.civilStatus[i].name;this.civilStatusLists=s;for(var o=[],n=0;n<this.employmentStatus.length;n++)o[n]=this.employmentStatus[n].name;this.employmentStatusLists=o;for(var r=[],l=0;l<this.professions.length;l++)r[l]=this.professions[l].name;this.professionLists=r;for(var c=[],u=0;u<this.comorbidities.length;u++)c[u]=this.comorbidities[u].name;this.comorbiditiesLists=c;for(var p=[],d=0;d<this.allergies.length;d++)p[d]=this.allergies[d].name;this.allergiesLists=p;for(var h=[],m=0;m<this.region.length;m++)h[m]=this.region[m].name;if(this.regionLists=h,void 0!==e[0].region&&e[0].region.length>0){var f="";if(this.personalData.region.length>0){var g=this.region.filter((e=>e.name===this.personalData.region.trim()));f=g[0].name}else f=e[0].region;await this.$store.dispatch("getProvinces",f);for(var y=[],v=0;v<this.provinces.length;v++)y[v]=this.provinces[v].name;if(this.provincesListOptions=y,this.provincesLists=y,0!==e[0].province.length&&this.personalData.province.length>0){const t=this.provinces.filter((e=>e.name===this.personalData.province.trim()));if(t.length>0){await this.$store.dispatch("getCities",t[0].shortCode);for(var b=[],D=0;D<this.cities.length;D++)b[D]=this.cities[D].name;if(this.citiesListOptions=b,this.citiesLists=b,(null===e[0].householdMemberCategory||""===e[0].householdMemberCategory)&&this.cities.length>0){const t=e[0].city;var I=this.cities.filter((e=>e.TownCity===t.trim()));if(I.length>0){await this.$store.dispatch("getBarangays",I[0].shortCode);for(var C=[],_=0;_<this.barangays.length;_++)C[_]=this.barangays[_].name;this.barangaysListOptions=C,this.barangaysLists=C}}}}}},async closeDialog(){await this.$store.dispatch("dialog",!1),await this.$store.dispatch("setLoading",!1),this.qrScanner&&await this.$store.dispatch("revertQR",!0)},onSubmitPersonalInfo(){this.$refs.personalInformation.validate().then((async e=>{e?this.approveVaccinee():this.formHasError=!0}))},async approveVaccinee(){this.buttonDisable=!0,this.qrScanner?await this.$store.dispatch("revertQR",!1):await this.$store.dispatch("dialog",!0);var e="",t=this.categoryRaw.filter((e=>e.name===this.personalData.category)),a=this.categoryIDRaw.filter((e=>e.name===this.personalData.categoryID));const s=new Date(this.personalData.birthdate),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(s),o=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(s),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(s),r=`${o}/${n}/${i}`;var l=this.cities.filter((e=>e.name===this.personalData.municipality.trim())),c=this.civilStatus.filter((e=>e.name===this.personalData.civilStatus)),u=this.gender.filter((e=>e.name===this.personalData.gender)),p=this.provinces.filter((e=>e.name===this.personalData.province.trim())),d=this.region.filter((e=>e.name===this.personalData.region.trim())),h="";if(null===this.personalData.householdMemberCategory||""===this.personalData.householdMemberCategory){const e=this.barangays.filter((e=>e.name===this.personalData.barangay));h=e[0].Barangay}else h=this.personalData.barangay;const m=this.employmentStatus.filter((e=>e.name===this.personalData.employed));var f=m[0].code;const g=this.professions.filter((e=>e.name===this.personalData.profession));var y=g[0].code;const v=Number(this.registrationInfo[0].currentStation);e={category:t[0].code,categoryID:a[0].code,categoryIDNumber:this.personalData.categoryIDNumber,philhealthID:this.personalData.philhealthID,pwdID:this.personalData.pwdID,lastName:this.personalData.lastName,firstName:this.personalData.firstName,middleName:this.personalData.middleName,gender:u[0].code,birthdate:r,civilStatus:c[0].code,contactNumber:this.personalData.contactNumber,fullAddress:this.personalData.fullAddress,region:d[0].code,province:p[0].Province,city:l[0].TownCity,barangay:h,employmentStatus:f,directCovid:this.personalData.directCovid,profession:y,drugAllergy:this.personalData.allergies.includes("Drug")?"01_Yes":"02_No",foodAllergy:this.personalData.allergies.includes("Food")?"01_Yes":"02_No",insectAllergy:this.personalData.allergies.includes("Insect")?"01_Yes":"02_No",latexAllergy:this.personalData.allergies.includes("Latex")?"01_Yes":"02_No",moldAllergy:this.personalData.allergies.includes("Mold")?"01_Yes":"02_No",petAllergy:this.personalData.allergies.includes("Pet")?"01_Yes":"02_No",pollenAllergy:this.personalData.allergies.includes("Pollen")?"01_Yes":"02_No",withComorbidity:this.personalData.comorbidities.length>0?"01_Yes":"02_No",hypertension:this.personalData.comorbidities.includes("Hypertension")?"01_Yes":"02_No",heartDisease:this.personalData.comorbidities.includes("Heart Disease")?"01_Yes":"02_No",kidneyDisease:this.personalData.comorbidities.includes("Kidney Disease")?"01_Yes":"02_No",diabetesMellitus:this.personalData.comorbidities.includes("Diabetes Mellitus")?"01_Yes":"02_No",bronchialAsthma:this.personalData.comorbidities.includes("Bronchial Asthma")?"01_Yes":"02_No",immunodeficiencyStatus:this.personalData.comorbidities.includes("Immunodeficiency State")?"01_Yes":"02_No",cancer:this.personalData.comorbidities.includes("Cancer")?"01_Yes":"02_No",others:this.personalData.comorbidities.includes("Others")?"01_Yes":"02_No",patientDiagnosedWithCovid:this.registrationInfo[0].Patient_Was_Diagnosed_With_COVID_19,classificationOfCovid:this.registrationInfo[0].Classification_Of_COVID_19,dateOfCovid:this.registrationInfo[0].Date_Of_First_Positive_Result_Specimen_Collection_Date,providedConsent:this.registrationInfo[0].Provided_Electronic_Informed_Consent,householdMemberCategory:this.personalData.householdMemberCategory,qrCode:this.personalData.qrCode,vaccineeID:this.registrationInfo[0].vaccineeID,vasID:this.registrationInfo[0].VASId,station:v+1,dose:this.dose,forSecondDose:2===this.dose?1:0,vaccineSched:this.registrationInfo[0].VaccineSched};var b="";"1"===this.registrationInfo[0].currentStation?b=await this.$store.dispatch("approveVASPreregistration",e):this.registrationInfo[0].currentStation>"1"&&(b=await this.$store.dispatch("updateVaccineeInformation",e)),b={message:"true"},void 0!==b.message&&this.triggerSucccess(e.station)},triggerSucccess(e){var t="";t=2===e?"Registration":3===e?"Screening":4===e?"Vaccination":"Monitoring";var a=this.$q.notify({type:"ongoing",message:`Transferring raw data to the ${t} Station...`});setTimeout((async()=>{a({type:"positive",message:`Data successfully transferred to the ${t} Station!`,timeout:1e3}),this.closeDialog()}),3e3)},filterCategoryList(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryListOptions=this.categoryList.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryListOptions=this.categoryList})},filterCategoryID(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryIDOptions=this.categoryID.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryIDOptions=this.categoryID})},filterRegion(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.regionListOptions=this.regionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.regionListOptions=this.regionLists,this.personalData.province=[],this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[]})},filterProvinces(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.provincesListOptions=this.provincesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.provincesListOptions=this.provincesLists,this.personalData.municipality=[],this.personalData.barangay=[],this.citiesListOptions=[],this.citiesLists=[]})},filterCities(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.citiesListOptions=this.citiesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.citiesListOptions=this.citiesLists,"alumni"!==this.personalData.householdMemberCategory&&(this.personalData.barangay=[])})},filterBarangays(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.barangaysListOptions=this.barangaysLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.barangaysListOptions=this.barangaysLists})},filterGender(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.genderListOptions=this.genderLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.genderListOptions=this.genderLists})},filterCivilStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.civilStatusListOptions=this.civilStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.civilStatusListOptions=this.civilStatusLists})},filterProfessions(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.professionListOptions=this.professionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.professionListOptions=this.professionLists})},filterEmploymentStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.employmentStatusOptions=this.employmentStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.employmentStatusOptions=this.employmentStatusLists})}}},c=l,u=(a("ac27"),a("2877")),p=a("0378"),d=a("3b73"),h=a("f09f"),m=a("a370"),f=a("ddd8"),g=a("66e5"),y=a("4074"),v=a("27f9"),b=a("0016"),D=a("7cbe"),I=a("52ee"),C=a("9c40"),_=a("8f8e"),S=a("4b7e"),q=a("e7a9"),x=a("7f67"),N=a("eebe"),w=a.n(N),L=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=L.exports;w()(L,"components",{QForm:p["a"],QExpansionItem:d["a"],QCard:h["a"],QCardSection:m["a"],QSelect:f["a"],QItem:g["a"],QItemSection:y["a"],QInput:v["a"],QIcon:b["a"],QPopupProxy:D["a"],QDate:I["a"],QBtn:C["a"],QCheckbox:_["a"],QCardActions:S["a"],QBtnGroup:q["a"]}),w()(L,"directives",{ClosePopup:x["a"]})},"9fa2":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 q-pa-md"},[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0],data:e.vaccineMasterList,columns:e.columns,"row-key":"categoryIDNumber",filter:e.filter,selection:"single",selected:e.selected,loading:e.loading,title:"Vaccine Master List"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Search",autofocus:e.filterFocus},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"categoryIDNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.categoryIDNumber)+"\n              ")]),a("q-td",{key:"fullName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.fullName)+"\n              ")]),a("q-td",{key:"birthdate",attrs:{props:t}},[e._v("\n                "+e._s(t.row.birthdate)+"\n              ")]),a("q-td",{key:"contactNumber",attrs:{props:t}},[e._v("\n                "+e._s(t.row.contactNumber)+"\n              ")]),a("q-td",{key:"philhealthID",attrs:{props:t}},[e._v("\n                  "+e._s(t.row.philhealthID)+"\n              ")])],1)]}}])})],1)])]),a("q-dialog",{attrs:{persistent:""},model:{value:e.employeeVaccinedDialog,callback:function(t){e.employeeVaccinedDialog=t},expression:"employeeVaccinedDialog"}},[a("q-card",{staticStyle:{width:"900px","max-width":"1500px"}},[a("q-card-section",{staticClass:"bg-primary text-center"},[a("span",{staticClass:"text-left text-h5 text-white text-weight-thin"},[a("q-icon",{attrs:{name:"person"}}),e._v("\n          "+e._s(e.vaccineeDetails.fullName)+"\n        ")],1)]),a("vaccinee-info",{attrs:{vaccineeInfo:e.selected,dose:1}})],1)],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card-section",[this.currentStation==this.currentModule?a("div",["Registration"==this.currentStation?a("div",[a("registration-info",{attrs:{registrationInfo:this.vaccineeInfo,dose:this.dose,allergiesAndComorbidities:e.allergiesAndComorbidities}})],1):"Screening"==this.currentStation?a("div",[a("screening-info",{attrs:{screeningInfo:this.vaccineeInfo}})],1):"Vaccination"==this.currentStation?a("div",[a("vaccination-info",{attrs:{vaccinationInfo:this.vaccineeInfo}})],1):e._e()]):e._e()])],1)},c=[],u=a("940f"),p=a("069e"),d=a("0531"),h={components:{ScreeningInfo:p["a"],VaccinationInfo:d["a"],RegistrationInfo:u["a"]},props:["vaccineeInfo","dose"],data(){return{allergiesAndComorbidities:[],currentStation:null,currentModule:null}},mounted(){this.checkModules(this.vaccineeInfo)},methods:{checkModules(e){"1"===e[0].currentStation?this.currentStation="Preregistration":"2"===e[0].currentStation||void 0===e[0].currentStation?this.currentStation="Registration":"3"===e[0].currentStation?this.currentStation="Screening":"4"===e[0].currentStation?this.currentStation="Vaccination":"5"===e[0].currentStation&&(this.currentStation="Monitoring"),this.currentModule=this.$q.cookies.get("module")}}},m=h,f=a("2877"),g=a("a370"),y=a("eebe"),v=a.n(y),b=Object(f["a"])(m,l,c,!1,null,null,null),D=b.exports;v()(b,"components",{QCardSection:g["a"]});var I={components:{VaccineeInfo:D},props:["vaccineMasterList","dataLoaded"],data(){return{filterFocus:!1,selected:[],filter:"",employeeVaccinedDialog:!1,pagination:{rowsPerPage:0},vaccineeDetails:{code:null,fullName:null,withVAS:!1,station:"1"},columns:[{name:"categoryIDNumber",label:"Code",align:"left",field:"categoryIDNumber",sortable:!0},{name:"fullName",align:"left",label:"Name",field:"fullName",sortable:!0},{name:"birthdate",label:"Birthdate",field:"birthdate",align:"left",sortable:!0},{name:"contactNumber",label:"Contact #",field:"contactNumber",align:"left",sortable:!0},{name:"philhealthID",label:"Philhealth ID",field:"philhealthID",align:"left",sortable:!0}]}},computed:n()({},Object(r["b"])({loading:"loading",revertQR:"revertQR",dialog:"dialog"})),mounted(){this.setInitValues()},watch:{dialog(e){e?this.employeeVaccinedDialog=!0:(this.employeeVaccinedDialog=!1,this.setInitValues())},async selected(e){e.length>0&&(this.employeeVaccinedDialog=!0,this.vaccineeDetails.fullName=e[0].fullName,this.vaccineeDetails.code=e[0].categoryIDNumber,this.vaccineeDetails.station=null!==e[0].Station?e[0].Station:null,null!==e[0].EmployeeID&&(this.vaccineeDetails.withVAS=!0),await this.$store.dispatch("dialog",!0))},dataLoaded(e){e&&(this.filterFocus=!0)},revertQR(e){e&&(this.employeeVaccinedDialog=!1)}},methods:{setInitValues(){this.vaccineeDetails.code=null,this.vaccineeDetails.fullName=null,this.selected=[]},async saveVASInfo(){await this.$store.dispatch("setLoading",!0);const e=await this.$store.dispatch("saveVASInfo",this.vaccineeDetails);e.message.length>0&&(this.employeeVaccinedDialog=!1,await this.$store.dispatch("savingStatus",!0),this.setInitValues()),await this.$store.dispatch("setLoading",!1)}}},C=I,_=a("eaac"),S=a("27f9"),q=a("0016"),x=a("74f7"),N=a("bd08"),w=a("db86"),L=a("9564"),k=a("24e8"),$=a("f09f"),O=Object(f["a"])(C,s,i,!1,null,null,null);t["a"]=O.exports;v()(O,"components",{QCardSection:g["a"],QTable:_["a"],QInput:S["a"],QIcon:q["a"],QInnerLoading:x["a"],QTr:N["a"],QTd:w["a"],QToggle:L["a"],QDialog:k["a"],QCard:$["a"]})},a4a5:function(e,t,a){"use strict";a("5580")},ac27:function(e,t,a){"use strict";a("aeac")},aeac:function(e,t,a){},e928:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-form",{ref:"profileInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitProfileInformation}},[a("div",{staticClass:"row"},["Female"===this.currentPersonalInfo.gender?a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"text-h6 q-pa-md"},[e._v("Pregnancy Information")]),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Pregnancy Status","true-value":"01_Pregnant","false-value":"02_Not_Pregnant"},model:{value:e.profileData.pregnancyStatus,callback:function(t){e.$set(e.profileData,"pregnancyStatus",t)},expression:"profileData.pregnancyStatus"}})],1):e._e(),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"text-h6 q-pa-md"},[e._v("Allergies")]),a("div",{staticClass:"flex flex-center q-pb-lg"},[a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Drug Allergy","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.drugAllergy,callback:function(t){e.$set(e.profileData,"drugAllergy",t)},expression:"profileData.drugAllergy"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Food Allergy","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.foodAllergy,callback:function(t){e.$set(e.profileData,"foodAllergy",t)},expression:"profileData.foodAllergy"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Insect Allergy","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.insectAllergy,callback:function(t){e.$set(e.profileData,"insectAllergy",t)},expression:"profileData.insectAllergy"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Latex Allergy","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.latexAllergy,callback:function(t){e.$set(e.profileData,"latexAllergy",t)},expression:"profileData.latexAllergy"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Mold Allergy","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.moldAllergy,callback:function(t){e.$set(e.profileData,"moldAllergy",t)},expression:"profileData.moldAllergy"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Pet Allergy","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.petAllergy,callback:function(t){e.$set(e.profileData,"petAllergy",t)},expression:"profileData.petAllergy"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Pollen Allergy","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.pollenAllergy,callback:function(t){e.$set(e.profileData,"pollenAllergy",t)},expression:"profileData.pollenAllergy"}})],1),a("q-separator")],1),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"text-h6 q-pa-md"},[e._v("Comorbidities")]),a("div",{staticClass:"flex flex-center q-pb-lg"},[a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Hypertension","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.hypertension,callback:function(t){e.$set(e.profileData,"hypertension",t)},expression:"profileData.hypertension"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Heart Disease","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.heartDisease,callback:function(t){e.$set(e.profileData,"heartDisease",t)},expression:"profileData.heartDisease"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Kidney Disease","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.kidneyDisease,callback:function(t){e.$set(e.profileData,"kidneyDisease",t)},expression:"profileData.kidneyDisease"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Diabetes Mellitus","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.diabetesMellitus,callback:function(t){e.$set(e.profileData,"diabetesMellitus",t)},expression:"profileData.diabetesMellitus"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Bronchial Asthma","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.bronchialAsthma,callback:function(t){e.$set(e.profileData,"bronchialAsthma",t)},expression:"profileData.bronchialAsthma"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Immunodeficiency Status","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.immunodeficiencyStatus,callback:function(t){e.$set(e.profileData,"immunodeficiencyStatus",t)},expression:"profileData.immunodeficiencyStatus"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Cancer","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.cancer,callback:function(t){e.$set(e.profileData,"cancer",t)},expression:"profileData.cancer"}}),a("q-checkbox",{attrs:{size:"lg",color:"primary",label:"Others","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.others,callback:function(t){e.$set(e.profileData,"others",t)},expression:"profileData.others"}})],1),a("q-separator")],1),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"text-h6 q-pa-md"},[e._v("COVID19 Information")]),a("div",{staticClass:"justify-center"},[a("q-checkbox",{staticClass:"q-pb-md",attrs:{size:"lg",color:"primary",label:"Patient was diagnosed with COVID ?","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.patientWasDiagnosedWithCovid,callback:function(t){e.$set(e.profileData,"patientWasDiagnosedWithCovid",t)},expression:"profileData.patientWasDiagnosedWithCovid"}}),"01_Yes"==e.profileData.patientWasDiagnosedWithCovid?a("q-input",{staticClass:"q-mb-md",attrs:{filled:"",mask:"date",rules:["date"],label:"Date of COVID Collection",hint:"Date of COVID Collection (YYYY/MM/DD)"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.profileData.dateOfCovidCollection,callback:function(t){e.$set(e.profileData,"dateOfCovidCollection",t)},expression:"profileData.dateOfCovidCollection"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,4216463108),model:{value:e.profileData.dateOfCovidCollection,callback:function(t){e.$set(e.profileData,"dateOfCovidCollection",t)},expression:"profileData.dateOfCovidCollection"}}):e._e(),"01_Yes"==e.profileData.patientWasDiagnosedWithCovid?a("q-select",{attrs:{filled:"","use-input":"","input-debounce":"0",label:"COVID Classification",options:e.covidClassificationListOptions,behavior:"menu","lazy-rules":"",color:"primary"},on:{filter:e.filterCovidClassification},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n                  No results\n                ")])],1)]},proxy:!0}],null,!1,3665793935),model:{value:e.profileData.covidClassification,callback:function(t){e.$set(e.profileData,"covidClassification",t)},expression:"profileData.covidClassification"}}):e._e(),"01_Yes"==e.profileData.patientWasDiagnosedWithCovid?a("q-checkbox",{staticClass:"q-pb-md",attrs:{size:"lg",color:"primary",label:"Provided Electronic Informed Consent","true-value":"01_Yes","false-value":"02_No"},model:{value:e.profileData.providedElectronicInformedConsent,callback:function(t){e.$set(e.profileData,"providedElectronicInformedConsent",t)},expression:"profileData.providedElectronicInformedConsent"}}):e._e()],1),a("q-separator")],1),a("div",{staticClass:"col-lg-12"},[a("q-stepper-navigation",{staticClass:"flex flex-center"},[a("q-btn-group",{attrs:{push:""}},["registration"===e.fillUpStatus?a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"SAVE",icon:"redo"}}):a("q-btn",{attrs:{push:"",type:"submit",color:"primary",label:"UPDATE",icon:"redo"}}),a("q-btn",{attrs:{push:"",color:"primary",label:"Back",icon:"undo"},on:{click:function(t){return e.stepBackward()}}})],1)],1)],1)])])],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l={props:["step"],data(){return{covidClassificationListOptions:[],covidClassificationLists:[],profileData:{pregnancyStatus:null,drugAllergy:null,foodAllergy:null,insectAllergy:null,latexAllergy:null,moldAllergy:null,petAllergy:null,pollenAllergy:null,withComorbidity:"02_No",hypertension:null,heartDisease:null,kidneyDisease:null,diabetesMellitus:null,bronchialAsthma:null,immunodeficiencyStatus:null,cancer:null,others:null,patientWasDiagnosedWithCovid:null,dateOfCovidCollection:null,covidClassification:null,providedElectronicInformedConsent:null,code:this.$route.params.id,formType:null}}},watch:{profileData:{async handler(e){this.formatProfileInformation(e)},deep:!0}},computed:n()({},Object(r["b"])({employeeInformation:"employeeInformation",currentPersonalInfo:"currentPersonalInfo",covidClassification:"covidClassification",fillUpStatus:"fillUpStatus"})),mounted(){this.setProfileInformation(),this.formatProfileInformation(this.profileData)},methods:{async formatProfileInformation(e){"02_No"===e.patientWasDiagnosedWithCovid&&(this.profileData.dateOfCovidCollection=null,this.profileData.covidClassification=null,this.profileData.providedElectronicInformedConsent="02_No"),"01_Yes"!==e.hypertension&&"01_Yes"!==e.heartDisease&&"01_Yes"!==e.kidneyDisease&&"01_Yes"!==e.diabetesMellitus&&"01_Yes"!==e.bronchialAsthma&&"01_Yes"!==e.immunodeficiencyStatus&&"01_Yes"!==e.cancer&&"01_Yes"!==e.others||(this.profileData.withComorbidity="01_Yes");for(var t=[],a=0;a<this.covidClassification.length;a++)t[a]=this.covidClassification[a].name;this.covidClassificationLists=t},async setProfileInformation(){if(this.profileData.pregnancyStatus=this.employeeInformation.Pregnancy_Status,this.profileData.drugAllergy=this.employeeInformation.Drug_Allergy,this.profileData.foodAllergy=this.employeeInformation.Food_Allergy,this.profileData.insectAllergy=this.employeeInformation.Insect_Allergy,this.profileData.latexAllergy=this.employeeInformation.Latex_Allergy,this.profileData.moldAllergy=this.employeeInformation.Mold_Allergy,this.profileData.petAllergy=this.employeeInformation.Pet_Allergy,this.profileData.pollenAllergy=this.employeeInformation.Pollen_Allergy,this.profileData.withComorbidity=this.employeeInformation.With_Comorbidity,this.profileData.hypertension=this.employeeInformation.Hypertension,this.profileData.heartDisease=this.employeeInformation.Heart_Disease,this.profileData.kidneyDisease=this.employeeInformation.Kidney_Disease,this.profileData.diabetesMellitus=this.employeeInformation.Diabetes_Mellitus,this.profileData.bronchialAsthma=this.employeeInformation.Bronchial_Asthma,this.profileData.immunodeficiencyStatus=this.employeeInformation.Immunodeficiency_Status,this.profileData.cancer=this.employeeInformation.Cancer,this.profileData.others=this.employeeInformation.Others,this.profileData.patientWasDiagnosedWithCovid=this.employeeInformation.Patient_Was_Diagnosed_With_COVID_19,console.log(this.profileData,"profileDatasfds"),console.log(this.employeeInformation),""!==this.employeeInformation.Date_Of_First_Positive_Result_Specimen_Collection_Date&&void 0!==this.employeeInformation.Date_Of_First_Positive_Result_Specimen_Collection_Date){const t=new Date(this.employeeInformation.Date_Of_First_Positive_Result_Specimen_Collection_Date),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),s=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(t),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);var e=`${a}/${s}/${i}`}if(this.profileData.dateOfCovidCollection=void 0!==e?e:"",void 0!==this.employeeInformation.Classification_Of_COVID_19&&null!==this.employeeInformation.Classification_Of_COVID_19&&""!==this.employeeInformation.Classification_Of_COVID_19){const e=this.covidClassification.filter((e=>e.code===this.employeeInformation.Classification_Of_COVID_19));this.profileData.covidClassification=e[0].name}if(this.profileData.providedElectronicInformedConsent=""===this.employeeInformation.Provided_Electronic_Informed_Consent?"02_No":this.employeeInformation.Provided_Electronic_Informed_Consent,"registration"===this.fillUpStatus){const e=this.$q.cookies.get("user-code");this.profileData.code=e,this.profileData.pregnancyStatus="02_No",this.profileData.drugAllergy="02_No",this.profileData.foodAllergy="02_No",this.profileData.insectAllergy="02_No",this.profileData.latexAllergy="02_No",this.profileData.moldAllergy="02_No",this.profileData.petAllergy="02_No",this.profileData.pollenAllergy="02_No",this.profileData.withComorbidity="02_No",this.profileData.hypertension="02_No",this.profileData.heartDisease="02_No",this.profileData.kidneyDisease="02_No",this.profileData.diabetesMellitus="02_No",this.profileData.bronchialAsthma="02_No",this.profileData.immunodeficiencyStatus="02_No",this.profileData.cancer="02_No",this.profileData.others="02_No",this.profileData.patientWasDiagnosedWithCovid="02_No",this.profileData.dateOfCovidCollection="02_No",this.profileData.covidClassification=null,this.profileData.providedElectronicInformedConsent="02_No",this.profileData.formType="registration"}},filterCovidClassification(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.covidClassificationListOptions=this.covidClassificationLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.covidClassificationListOptions=this.covidClassificationLists})},async stepBackward(){if(await this.$store.dispatch("stepBackwardOrForward",this.step-1),"Employee"===this.$route.name)await this.$store.dispatch("checkEmployee",this.$route.params.id);else if("Home"===this.$route.name){const e=this.$q.cookies.get("user-code");await this.$store.dispatch("checkEmployee",e)}else await this.$store.dispatch("checkOtherUser",this.$route.params.id)},onSubmitProfileInformation(){this.$refs.profileInformation.validate().then((async e=>{if(e){console.log(this.profileData,"profile");const e=await this.$store.dispatch("saveProfileInformation",this.profileData);e.saveStatus&&("Employee"===this.$route.name?this.$router.push("/status/employee"):"Home"===this.$route.name?this.$router.push("/status/new-user"):this.$router.push("/status/others"))}else this.formHasError=!0}))}}},c=l,u=a("2877"),p=a("0378"),d=a("8f8e"),h=a("eb85"),m=a("27f9"),f=a("0016"),g=a("7cbe"),y=a("52ee"),v=a("9c40"),b=a("ddd8"),D=a("66e5"),I=a("4074"),C=a("b19c"),_=a("e7a9"),S=a("7f67"),q=a("eebe"),x=a.n(q),N=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=N.exports;x()(N,"components",{QForm:p["a"],QCheckbox:d["a"],QSeparator:h["a"],QInput:m["a"],QIcon:f["a"],QPopupProxy:g["a"],QDate:y["a"],QBtn:v["a"],QSelect:b["a"],QItem:D["a"],QItemSection:I["a"],QStepperNavigation:C["a"],QBtnGroup:_["a"]}),x()(N,"directives",{ClosePopup:S["a"]})}}]);