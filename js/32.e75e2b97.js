(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{8724:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",["employee"===e.vaccinationInfo?i("div",[i("employee")],1):i("div",[i("alumni")],1)])},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-page",[i("div",{staticClass:"column q-pa-lg"},[i("div",{staticClass:"row justify-center"},[i("div",{staticClass:"col-lg-8 col-xs-12 col-sm-12"},[i("q-card",{staticClass:"shadow-24",staticStyle:{"max-height":"auto"},attrs:{square:""}},[i("q-card-section",[i("q-card",[i("q-card-section",{staticClass:"bg-primary"},[i("div",{staticClass:"text-h5 text-center text-weight-thin text-white"},[e._v("\n                    UERM VACCINE QUANTITY RESERVATION FORM FOR EMPLOYEES, CONSULTANTS, PGI AND THIRD PARTY SERVICE PROVIDER\n                  ")])]),e.loadingForm||0!=e.networkMessage.length?e._e():i("div",[i("q-card-section",[i("q-form",{ref:"reservationInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitReservationForm}},[i("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Introduction",caption:"Foreword, Vaccine Information and Consent for Employees / Third Party",group:"somegroup","default-opened":""},model:{value:e.expandedItem1,callback:function(t){e.expandedItem1=t},expression:"expandedItem1"}},[i("q-card",[i("q-card-section",[i("q-stepper",{attrs:{vertical:"",color:"primary",animated:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[i("q-step",{staticClass:"text-justify",attrs:{name:1,title:"Foreword",icon:"app_registration",done:e.step>1}},[i("div",{staticClass:"q-pa-md"},[e._v("\n                                    To the UERM Community,\n                                    "),i("br"),i("br"),e._v("\n                                    The Medical Center is accepting COVOVAX vaccine reservations for your family and household members. Please read the product information for more details on the vaccine.\n                                  ")]),i("div",{staticClass:"q-pa-md shadow-2"},[e._v("\n                                    Brand Name: COVOVAX\n                                    "),i("br"),e._v("\n                                    Developer: NOVAVAX, Inc. of Maryland, USA\n                                    "),i("br"),e._v("\n                                    Manufacturer: SERUM INSTITUTE OF INDIA (SII)\n                                    "),i("br"),e._v("\n                                    Philippine Partner of SII: FABERCO LIFE SCIENCE\n                                    "),i("br"),e._v("\n                                    Current Clinical Status: Phase 3 in EU and USA\n                                    "),i("br"),e._v("\n                                    UK Efficiency Rate: 89.3%\n                                    "),i("br"),e._v("\n                                    Storage: 2 - 8 degree Celsius\n                                    "),i("br"),e._v("\n                                    Dosing Schedule:  2 Doses required Day 0 and Day 21\n                                    "),i("br"),e._v("\n                                    Indicative price: P2,700.00 per person for two doses, inclusive of vaccine administration in UERM\n                                    "),i("br"),e._v("\n                                    Potential Supply in the Philippines: Q3 2021\n                                    "),i("br"),i("br"),e._v("\n                                    For more details about COVOVAX, please follow the link below:\n                                    "),i("br"),i("a",{attrs:{href:"https://ir.novavax.com/node/15506/pdf",target:"_blank"}},[e._v("https://ir.novavax.com/node/15506/pdf")]),i("br"),i("a",{attrs:{href:"http://bit.ly/3tH6RR0",target:"_blank"}},[e._v("http://bit.ly/3tH6RR0")])]),i("q-stepper-navigation",[i("q-btn",{attrs:{color:"primary",label:"Continue",icon:"redo"},on:{click:function(t){return e.forwardStep(2)}}})],1)],1),i("q-step",{staticClass:"text-justify",attrs:{name:2,title:"Choose Category",icon:"app_registration",done:e.step>2}},[i("q-select",{ref:"referringCategory",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Category ID",options:e.categoryIDOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Category"}]},on:{filter:e.filterCategoryID},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                          No results\n                                        ")])],1)]},proxy:!0}],null,!1,153298831),model:{value:e.referringInformation.category,callback:function(t){e.$set(e.referringInformation,"category",t)},expression:"referringInformation.category"}}),i("q-stepper-navigation",[i("q-btn",{attrs:{color:"primary",label:"Continue",icon:"redo"},on:{click:function(t){return e.forwardStep(3)}}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){return e.backwardStep(1)}}})],1)],1),i("q-step",{staticClass:"text-justify",attrs:{name:3,title:"Consent",icon:"app_registration",done:e.step>3}},["Employee"===this.referringInformation.category||"Residents"===this.referringInformation.category||"Fellow"===this.referringInformation.category?i("div",[e._v("\n                                    The price of the vaccine stated in this form is an approximation only intended for the employee's reference.  The price is subject to change.  I commit to avail of the quantity of doses reserved and pay for whatever price of the vaccines that is fixed at the time that they become available.  I hereby authorize UERMMMCI to collect the payment by salary deduction according to such schedule as it may determine.\n                                  ")]):i("div",[e._v("\n                                    The price of the vaccine stated in this form is an approximation only intended for the provider's reference.  The price is subject to change.  I commit to avail of the quantity of doses reserved and pay for whatever price of the vaccines that is fixed at the time they become available.  The terms of payment shall be determined at the time the of availability of the vaccines.\n                                  ")]),i("q-stepper-navigation",[i("q-btn",{attrs:{icon:"redo",color:"primary",label:"I Agree"},on:{click:function(t){return e.forwardStep(4)}}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){return e.backwardStep(2)}}})],1)],1),i("q-step",{staticClass:"text-justify",attrs:{name:4,title:"Terms and Conditions",icon:"app_registration",done:e.step>4}},[i("div",[i("p",[e._v("\n                                      1. UERMMMCI will secure an allocation of vaccines based on the number of doses reserved.  Hence, your reservation will be considered a binding and demandable commitment to obtain the number of doses that you indicated once they are available.\n                                    ")]),i("p",[e._v("\n                                      2. The production of the vaccines and the allocation to UERMMMCI will depend on the manufacturer.  UERMMMCI does not guarantee that the number of doses reserved will be made available.\n                                    ")]),i("p",[e._v("\n                                      3. UERMMMCI reserves the right to procure a different brand of vaccine in case the supplies are not sufficient to fill in all the reservations.\n                                    ")]),i("p",[e._v("\n                                      4. The administration of the vaccines is subject to whatever directive that may be issued by the DOH, IATF, or the WHO such as prioritization of certain sectors.\n                                    ")]),i("p",[e._v("\n                                      5. The availability of the vaccines is subject to approval, authorization, or registration by the Food and Drug Administration, and to the execution of the tripartite agreement and compliance with requirements imposed by the Philippine Government.\n                                    ")]),i("p",[e._v("\n                                      6. The reservations are transferrable.\n                                    ")])]),i("q-stepper-navigation",[i("q-btn",{attrs:{icon:"redo",color:"primary",label:"I Agree"},on:{click:function(t){return e.continueExpansion("expandedItem2")}}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){return e.backwardStep(3)}}})],1)],1)],1)],1)],1)],1),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Referring Information",caption:"Employee Information",group:"somegroup",disable:e.disableElement2},model:{value:e.expandedItem2,callback:function(t){e.expandedItem2=t},expression:"expandedItem2"}},[i("q-card",[i("q-card-section",[i("q-input",{ref:"employeeID",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Referring Employee ID / Category ID Number",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Employee ID or Category ID Number"}]},on:{focusout:function(t){return e.searchEmployeeID(e.referringInformation.categoryIDNumber)}},model:{value:e.referringInformation.categoryIDNumber,callback:function(t){e.$set(e.referringInformation,"categoryIDNumber",t)},expression:"referringInformation.categoryIDNumber"}}),null!=e.employeeErrorMessage?i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                "+e._s(e.employeeErrorMessage)+"\n                              ")],1):e._e(),i("q-toggle",{attrs:{label:"Do you want to assign automatic Category ID Number for every Household Members?",color:"primary","false-value":"No","true-value":"Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.populateHouseholdCategory,callback:function(t){e.populateHouseholdCategory=t},expression:"populateHouseholdCategory"}}),i("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}})],1),i("div",{staticClass:"col-11"},[e._v("\n                                    By switching this, automatic assigning of Category ID Number for every Household Members are formatted as follows: "),i("br"),e._v(" REFERRINGCATEGORYID-DATETIMESTAMP-INCREMENTALNUMBER (EX. 7679-202104021723-1)\n                                  ")])])])],1),i("q-card-actions",{staticClass:"flex flex-center"},[i("q-btn",{staticClass:"q-ma-md",staticStyle:{width:"150px"},attrs:{loading:e.employeeLoading,disable:e.disableEmployeeButton,icon:"redo",color:"primary"},on:{click:function(t){return e.continueExpansion("expandedItem3")}},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                  Checking...\n                                ")]},proxy:!0}],null,!1,4053472789)},[i("span",{staticClass:"q-pl-md"},[e._v("Continue")])])],1)],1)],1),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Household Information",group:"somegroup",disable:e.disableElement3},model:{value:e.expandedItem3,callback:function(t){e.expandedItem3=t},expression:"expandedItem3"}},[i("q-card",[i("q-card-section",[i("div",{staticClass:"justify-center"},[i("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},e._l(e.householdInformation,(function(t,o){return i("div",{key:o},[i("q-expansion-item",{staticClass:"q-ma-md bg-grey text-white",attrs:{"expand-separator":"",icon:"person_add_alt",label:"Household Member #"+(o+1),caption:(null!==t.lastName?t.lastName+",":"")+" "+(null!==t.firstName?t.firstName:"")+"  "+(null!==t.middleName?t.middleName:""),group:"othergroup","default-opened":""}},[i("q-card",[i("q-card-section",{staticClass:"q-mb-md"},[i("div",{staticClass:"col-lg-12 q-pa-xs"},[i("q-input",{attrs:{outlined:"",square:"",type:"text",hint:"Company ID, Driver's License, UMID Card, Voter's ID, OSCA, Student ID, etc.",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category ID Number"}],label:"Category ID Number",autocomplete:"off"},on:{focusout:function(i){return e.searchCategoryID(t.categoryIDNumber,o)}},model:{value:t.categoryIDNumber,callback:function(i){e.$set(t,"categoryIDNumber",i)},expression:"input.categoryIDNumber"}}),null!=t.categoryMessage?i("div",[t.categoryMessage.includes("ERROR:")?i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                                  "+e._s(t.categoryMessage.replace("ERROR:",""))+"\n                                                ")],1)],1):i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"check",size:"lg"}}),e._v("\n                                                  "+e._s(t.categoryMessage.replace("SUCCESS:",""))+"\n                                                ")],1)],1)]):e._e(),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Philhealth ID",hint:"If Philhealth not available, you may enter your Parent's Philhealth",color:"primary",autocomplete:"off"},model:{value:t.philhealthIDNumber,callback:function(i){e.$set(t,"philhealthIDNumber",i)},expression:"input.philhealthIDNumber"}}),i("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}}),e._v("\n                                              If you do not have Philhealth ID number, you may not be covered  by Indemnity law\n                                            ")],1),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"PWD ID",hint:"For PWD",color:"primary",autocomplete:"off"},model:{value:t.pwdID,callback:function(i){e.$set(t,"pwdID",i)},expression:"input.pwdID"}}),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"First Name",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter First Name"}]},model:{value:t.firstName,callback:function(i){e.$set(t,"firstName",i)},expression:"input.firstName"}}),i("q-input",{staticClass:"q-pb-md",attrs:{outlined:"",square:"",type:"text",label:"Middle Name",color:"primary",autocomplete:"off"},model:{value:t.middleName,callback:function(i){e.$set(t,"middleName",i)},expression:"input.middleName"}}),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Last Name",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Last Name"}]},model:{value:t.lastName,callback:function(i){e.$set(t,"lastName",i)},expression:"input.lastName"}}),i("q-input",{attrs:{outlined:"",square:"",type:"number",label:"Contact Number",hint:"Your Contact Number (09*********)",color:"primary",autocomplete:"off",maxlength:"11",rules:[function(e){return e&&e.length>0||"Please enter Contact Number"},function(e){return e.length<=11||"Please enter valid contact number"}]},model:{value:t.contactNumber,callback:function(i){e.$set(t,"contactNumber",i)},expression:"input.contactNumber"}}),i("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Gender",options:e.genderListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},on:{filter:e.filterGender},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                                    No results\n                                                  ")])],1)]},proxy:!0}],null,!0),model:{value:t.gender,callback:function(i){e.$set(t,"gender",i)},expression:"input.gender"}}),i("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Civil Status",options:e.civilStatusListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Civil Status"}]},on:{filter:e.filterCivilStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                                    No results\n                                                  ")])],1)]},proxy:!0}],null,!0),model:{value:t.civilStatus,callback:function(i){e.$set(t,"civilStatus",i)},expression:"input.civilStatus"}}),i("q-input",{ref:"birthdate",refInFor:!0,attrs:{outlined:"",square:"",mask:"date",rules:[function(e){return e&&e.length>0||"Please enter Date"},"date"],label:"Birthdate",autocomplete:"off",hint:"Your Birthdate (YYYY/MM/DD)"},on:{focusout:function(i){return e.checkBirthdate(t.birthdate,o)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{model:{value:t.birthdate,callback:function(i){e.$set(t,"birthdate",i)},expression:"input.birthdate"}},[i("div",{staticClass:"row items-center justify-end"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!0),model:{value:t.birthdate,callback:function(i){e.$set(t,"birthdate",i)},expression:"input.birthdate"}}),i("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[i("div",{staticClass:"row q-pa-sm"},[i("div",{staticClass:"col-1"},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}})],1),i("div",{staticClass:"col-11"},[e._v("\n                                                  Eligibility of vaccination for household members varies from 18 years old and above. Household Members that are 17 years old that are going to be 18 years old this year are also eligible.\n                                                ")])])]),null!=t.birthdayMessage?i("div",[t.birthdayMessage.includes("ERROR:")?i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                                  "+e._s(t.birthdayMessage.replace("ERROR:",""))+"\n                                                ")],1)],1):i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"check",size:"lg"}}),e._v("\n                                                  "+e._s(t.birthdayMessage.replace("SUCCESS:",""))+"\n                                                ")],1)],1)]):e._e(),i("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.allergiesLists,"use-chips":"","stack-label":"",label:"Allergies",autocomplete:"off"},model:{value:t.allergies,callback:function(i){e.$set(t,"allergies",i)},expression:"input.allergies"}}),i("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.comorbiditiesLists,"use-chips":"","stack-label":"",label:"Comorbidities",autocomplete:"off"},model:{value:t.comorbidities,callback:function(i){e.$set(t,"comorbidities",i)},expression:"input.comorbidities"}})],1)]),i("q-card-actions",{staticClass:"flex flex-center"},[i("q-btn",{attrs:{color:"negative",icon:"backspace",label:"Remove Household Member"},on:{click:function(t){return e.removeMember(o)}}})],1)],1)],1)],1)})),0)],1)]),e.householdErrorMessage.length>0?i("q-card-section",{staticClass:"text-center flex flex-center"},[i("q-banner",{staticClass:"text-white bg-red",staticStyle:{width:"50%"},attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                "+e._s(e.householdErrorMessage)+"\n                              ")],1)],1):e._e(),i("q-card-section",{staticClass:"text-center"},[i("q-btn-group",[i("q-btn",{attrs:{color:"primary",disable:e.householdLoading,label:"Add Household Member",icon:"add_circle"},on:{click:function(t){return e.addHousehold()}}}),i("q-btn",{staticStyle:{width:"150px"},attrs:{loading:e.householdLoading,disable:e.householdLoading,icon:"redo",color:"primary"},on:{click:function(t){return e.continueExpansion("expandedItem4")}},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                    Validating...\n                                  ")]},proxy:!0}],null,!1,2101668272)},[i("span",{staticClass:"q-pl-md"},[e._v("Continue")])])],1)],1)],1)],1),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Submit my responses",group:"somegroup",disable:e.disableElement4},model:{value:e.expandedItem4,callback:function(t){e.expandedItem4=t},expression:"expandedItem4"}},[i("q-card",[i("q-card-section",{staticClass:"text-justify"},[i("q-checkbox",{attrs:{size:"xl",val:"xl",label:e.agreement},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}}),e.agreeError?i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                Please accept the terms and conditions.\n                              ")],1):e._e(),e.errorFormMessage.length>0?i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                "+e._s(e.errorFormMessage)+"\n                              ")],1):e._e()],1),i("q-card-actions",{staticClass:"flex flex-center"},[i("q-btn",{staticClass:"q-ma-md",staticStyle:{width:"180px"},attrs:{type:"submit",loading:e.formLoading,icon:"save",color:"primary"},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                  Submitting..\n                                ")]},proxy:!0}],null,!1,459560893)},[i("span",{staticClass:"q-pl-md"},[e._v("Submit")])])],1)],1)],1)],1)],1)],1)],1),e.loadingForm?i("div",[i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12 flex flex-center"},[i("q-spinner-cube",{attrs:{color:"primary",size:"5.5em"}})],1),i("div",{staticClass:"col-lg-12 flex flex-center q-pt-md"},[i("div",{staticClass:"text-h5"},[e._v("\n                          CHECKING ACCESSIBILITY, PLEASE WAIT...\n                        ")])])])])],1):e._e(),!e.loadingForm&&e.networkMessage.length>0?i("div",[i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12 flex flex-center q-pt-md"},[i("q-banner",{staticClass:"text-white bg-red",attrs:{dense:"","inline-actions":""},scopedSlots:e._u([{key:"avatar",fn:function(){return[i("q-icon",{attrs:{name:"signal_wifi_off",color:"white"}})]},proxy:!0}],null,!1,2512574537)},[i("div",{staticClass:"text-h6"},[e._v("\n                            "+e._s(this.networkMessage)+"\n                          ")])])],1)])])],1):e._e()],1)],1)],1)],1)])])])],1)},n=[],s=i("ded3"),l=i.n(s),c=(i("ddb0"),i("2f62")),d={name:"VaccineCommunityEmployee",data(){return{step:1,houseHoldStep:1,numberOfPeople:null,expandedItem1:!0,expandedItem2:!1,expandedItem3:!1,expandedItem4:!1,disableElement2:!0,disableElement3:!0,disableElement4:!0,disableEmployeeButton:null,employeeLoading:!1,householdErrorMessage:[],referringInformation:{categoryIDNumber:null,category:null,fullName:null},householdInformation:[{firstName:null,middleName:null,lastName:null,birthdate:null,civilStatus:null,gender:null,philhealthIDNumber:null,pwdID:null,categoryIDNumber:null,contactNumber:null,comorbidities:null,allergies:null,categoryMessage:null,birthdayMessage:null}],loadingForm:null,networkMessage:[],categoryListOptions:this.categoryList,categoryIDOptions:this.categoryID,employeeErrorMessage:null,errorFormMessage:[],formLoading:null,rawComorbidities:null,rawAllergies:null,genderListOptions:null,genderLists:null,civilStatusListOptions:null,civilStatusLists:null,comorbiditiesLists:null,allergiesLists:null,householdLoading:!1,submitHouseholdInfo:!0,populateHouseholdCategory:"No",agree:!1,agreeError:!1,agreement:"I agree that by proceeding to answer this, I will submit all necessary data which, to the best of knowledge, are true and correct. I authorized University of the East Ramon Magsaysay Memorial medical Center, Inc., to collect and process the data indicated hereto for purpose of effecting control of the COVID-19 infection. I understand and acknowledge that my personal information is protected by RA 10173 Data Privacy Act of 2012 , and that I am required by RA 11332 Mandatory Reporting of Notifiable Diseases and Health Events of Public Health Concern Act to provide truthfull information."}},computed:l()({},Object(c["b"])({employeeCategory:"employeeCategory",employeeInformation:"employeeInformation",allergies:"allergies",comorbidities:"comorbidities",gender:"gender",civilStatus:"civilStatus",saveHouseholdMembers:"saveHouseholdMembers",householdInfo:"householdInfo"})),mounted(){this.checkLocalNetwork()},watch:{populateHouseholdCategory(e){if("No"===e)for(var t=0;t<this.householdInformation.length;t++)this.householdInformation[t].categoryIDNumber=null,this.householdInformation[t].categoryMessage=null,this.householdErrorMessage=[];else for(var i=0;i<this.householdInformation.length;i++){const e=i+1;var o=new Date,a=o.getFullYear(),r=o.getMonth()+1,n=o.getDate(),s=o.getHours(),l=o.getMinutes();1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),1===s.toString().length&&(s="0"+s),1===l.toString().length&&(l="0"+l);var c=a+r+n+s+l;this.householdInformation[i].categoryIDNumber=`${this.referringInformation.categoryIDNumber}-${c}-${e}`}}},methods:{async checkLocalNetwork(){this.loadingForm=!0;try{var e=await fetch("https://10.107.5.253:3443/",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));e.message.length>0&&(this.loadingForm=!1,this.networkMessage=[],this.formatMainForm())}catch(t){this.loadingForm=!1,this.networkMessage="YOU ARE NOT ALLOWED TO ACCESS THIS ANYMORE."}},formatMainForm(){for(var e=[],t=0;t<this.gender.length;t++)e[t]=this.gender[t].name;this.genderLists=e;for(var i=[],o=0;o<this.civilStatus.length;o++)i[o]=this.civilStatus[o].name;this.civilStatusLists=i;for(var a=[],r=0;r<this.comorbidities.length;r++)a[r]=this.comorbidities[r].name;this.comorbiditiesLists=a;for(var n=[],s=0;s<this.allergies.length;s++)n[s]=this.allergies[s].name;this.allergiesLists=n},forwardStep(e){if(3===e){const t=this.$refs.referringCategory.validate();t&&(this.step=e)}else this.step=e},backwardStep(e){this.step=e},async continueExpansion(e){if("expandedItem1"===e)this.expandedItem1=!0;else if("expandedItem2"===e)this.expandedItem2=!0,this.disableElement2=!1;else if("expandedItem3"===e){const e=this.$refs.employeeID.validate();if(e){this.employeeLoading=!0;const e=await this.searchEmployeeID(this.referringInformation.categoryIDNumber);if(1!==e)return this.expandedItem3=!1,this.disableElement3=!0,this.employeeErrorMessage="Invalid Employee / Third Party. Please contact the UERM COVID Vaccine Team.",this.employeeLoading=!1,void(this.disableEmployeeButton=!0);this.expandedItem3=!0,this.disableElement3=!1,this.employeeLoading=!1}if("Yes"===this.populateHouseholdCategory)for(var t=0;t<this.householdInformation.length;t++){const e=t+1;var i=new Date,o=i.getFullYear(),a=i.getMonth()+1,r=i.getDate(),n=i.getHours(),s=i.getMinutes();1===a.toString().length&&(a="0"+a),1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),1===s.toString().length&&(s="0"+s);var l=o+a+r+n+s;this.householdInformation[t].categoryIDNumber=`${this.referringInformation.categoryIDNumber}-${l}-${e}`}}else"expandedItem4"===e&&this.$refs.reservationInformation.validate().then((async e=>{if(e){this.householdLoading=!0;for(var t=0;t<this.householdInformation.length;t++){if(await this.checkBirthdate(this.householdInformation[t].birthdate,t),await this.searchCategoryID(this.householdInformation[t].categoryIDNumber,t),null!==this.householdInformation[t].categoryMessage&&this.householdInformation[t].categoryMessage.includes("ERROR:"))return this.householdErrorMessage="The entered Category ID Number is already on our record. Please enter a different Category ID Number.",this.submitHouseholdInfo=!1,this.expandedItem4=!1,this.disableElement4=!0,void(this.householdLoading=!1);if(null!==this.householdInformation[t].birthdayMessage&&this.householdInformation[t].birthdayMessage.includes("ERROR:"))return this.householdErrorMessage="The age of your household member is not eligible",this.submitHouseholdInfo=!1,this.expandedItem4=!1,this.disableElement4=!0,void(this.householdLoading=!1)}if(0===this.householdInformation.length)return this.householdErrorMessage="Please add at least one Household Member",void(this.householdLoading=!1);this.householdErrorMessage=[],this.submitHouseholdInfo=!0,this.expandedItem4=!0,this.disableElement4=!1,this.householdLoading=!1}}))},checkBirthdate(e,t){if(null!==this.householdInformation[t].birthdate){const e=this.householdInformation[t].birthdate;var i=new Date((new Date).getFullYear(),11,31),o=new Date(e),a=i.getFullYear()-o.getFullYear(),r=i.getMonth()-o.getMonth();if((r<0||0===r&&i.getDate()<o.getDate())&&a--,a>=17){var n=i.getMonth(),s=i.getDate(),l=new Date(parseInt(e.substring(0,4)),parseInt(e.substring(5,7))-1,parseInt(e.substring(8,10))),c=l.getMonth(),d=l.getDate(),u=c.toString()+d.toString(),h=n.toString()+s.toString();u===h?this.householdInformation[t].birthdayMessage=`SUCCESS: You are ${a} years old and is eligible for vaccination!`:17===a?u<h?Number(u)>0&&Number(u)<99?this.householdInformation[t].birthdayMessage="ERROR: Sorry you are not eligible!":this.householdInformation[t].birthdayMessage="SUCCESS: You are eligible!":this.householdInformation[t].birthdayMessage=`ERROR: Sorry, you're ${a} years old and is not eligible!`:this.householdInformation[t].birthdayMessage=a>=18?"SUCCESS: You are eligible!":`ERROR: Sorry, you are ${a} years old and is not eligible!`}else this.householdInformation[t].birthdayMessage=`ERROR: Sorry, you're ${a} years old and is not eligible!`}},async searchEmployeeID(e){if(null!==e&&""!==e){const t=await this.$store.dispatch("checkEmployee",e);return 1===t.employeeFound?(this.employeeErrorMessage=null,this.disableEmployeeButton=!1,t.employeeFound):(this.expandedItem3=!1,this.disableElement3=!0,this.employeeErrorMessage="Invalid Employee. Please contact the UERM COVID Vaccine Team.",this.employeeLoading=!1,void(this.disableEmployeeButton=!0))}},addHousehold(){const e={firstName:null,middleName:null,lastName:null,birthdate:null,civilStatus:null,gender:null,philhealthIDNumber:null,pwdID:null,categoryIDNumber:null,contactNumber:null,comorbidities:null,allergies:null,categoryMessage:null};if(this.householdInformation.push(e),"Yes"===this.populateHouseholdCategory)for(var t=0;t<this.householdInformation.length;t++){const e=t+1;var i=new Date,o=i.getFullYear(),a=i.getMonth()+1,r=i.getDate(),n=i.getHours(),s=i.getMinutes();1===a.toString().length&&(a="0"+a),1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),1===s.toString().length&&(s="0"+s);var l=o+a+r+n+s;this.householdInformation[t].categoryIDNumber=`${this.referringInformation.categoryIDNumber}-${l}-${e}`}},async searchCategoryID(e,t){if(null!==this.householdInformation[t].categoryIDNumber)if(""!==this.householdInformation[t].categoryIDNumber){const o=await this.$store.dispatch("checkEmployee",e);if(0!==o.employeeFound)return this.householdInformation[t].categoryMessage=`ERROR: ${e} is already on our record. Please enter a different Category ID Number.`,this.expandedItem4=!1,void(this.disableElement4=!0);{const i=await this.$store.dispatch("checkVaccineeForApproval",e);if(0!==i.employeeFound)return this.householdInformation[t].categoryMessage=`ERROR: ${e} is already on our record. Please enter a different Category ID Number.`,this.expandedItem4=!1,void(this.disableElement4=!0);this.householdInformation[t].categoryMessage=`SUCCESS: ${e} is available and not on our record`}for(var i=0;i<this.householdInformation.length;i++)if(t===i)this.householdInformation[t].categoryMessage=`SUCCESS: ${e} is available and not on our record`;else{const o="categoryIDNumber";if(Object.prototype.hasOwnProperty.call(this.householdInformation[i],o)&&this.householdInformation[i].categoryIDNumber===e)return this.householdInformation[t].categoryMessage=`ERROR: ${e} already entered. Please enter a different Category ID Number.`,this.expandedItem4=!1,void(this.disableElement4=!0)}}else this.householdInformation[t].categoryMessage=null},removeMember(e){const t=Array.from(this.householdInformation);t.splice(e,1),this.householdInformation=t},onSubmitReservationForm(){var e=this.comorbidities,t=this.allergies;this.$refs.reservationInformation.validate().then((async i=>{if(i){if(this.submitHouseholdInfo){for(var o of(this.formLoading=!0,this.householdInformation)){if(!this.agree)return this.agreeError=!0,void(this.formLoading=!1);this.agreeError=!1;var a=[];void 0!==o.comorbidities&&null!==o.comorbidities&&o.comorbidities.forEach((function(t,i){const o=e.filter((e=>e.name===t));a.push(o[0].code)}));var r=[];void 0!==o.allergies&&null!==o.allergies&&o.allergies.forEach((function(e,i){const o=t.filter((t=>t.name===e));r.push(o[0].code)}));var n=`UERM-${o.categoryIDNumber}-EMPLOYEE`;const i=this.gender.filter((e=>e.name===o.gender)),l=this.civilStatus.filter((e=>e.name===o.civilStatus)),c=new Date(o.birthdate),d=new Intl.DateTimeFormat("en",{year:"numeric"}).format(c),u=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(c),h=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(c),m=`${d}/${u}/${h}`,p={category:"06_Other",categoryID:"04_Other_ID",categoryIDNumber:o.categoryIDNumber,philhealthIDNumber:o.philhealthIDNumber,pwdID:o.pwdID,contactNumber:o.contactNumber,firstName:o.firstName,lastName:o.lastName,middleName:o.middleName,birthdate:m,sex:i[0].code,civilStatus:l[0].code,fullAddress:this.employeeInformation.Full_Address,profession:"19_Others_",region:this.employeeInformation.Region,province:this.employeeInformation.ProvinceRaw,city:this.employeeInformation.Municipality_City,barangay:this.employeeInformation.Barangay,comorbidities:a,allergies:r,householdMemberCategory:this.$route.params.id,referringCategory:this.referringInformation.category,referringEmployeeID:this.employeeInformation.Category_ID_Number,referringEmployeeName:`${this.employeeInformation.Last_Name}, ${this.employeeInformation.First_Name} ${this.employeeInformation.Middle_Name}`,qrCode:n};var s=await this.$store.dispatch("saveHouseholdMember",p)}void 0!==s.message?this.$router.push("/vaccination-community-status"):void 0!==s.error&&(this.errorFormMessage=s.error),this.formLoading=!1}}else this.formHasError=!0}))},filterCategoryID(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryIDOptions=this.employeeCategory.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryIDOptions=this.employeeCategory})},filterGender(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.genderListOptions=this.genderLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.genderListOptions=this.genderLists})},filterCivilStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.civilStatusListOptions=this.civilStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.civilStatusListOptions=this.civilStatusLists})}}},u=d,h=i("2877"),m=i("9989"),p=i("f09f"),f=i("a370"),g=i("0378"),b=i("1c1c"),y=i("3b73"),v=i("f531"),I=i("87fe"),C=i("b19c"),q=i("9c40"),x=i("ddd8"),N=i("66e5"),E=i("4074"),S=i("27f9"),D=i("54e1"),M=i("0016"),w=i("9564"),_=i("4b7e"),L=i("9149"),k=i("7cbe"),R=i("52ee"),O=i("e7a9"),$=i("8f8e"),A=i("a6a3"),P=i("7f67"),F=i("eebe"),T=i.n(F),H=Object(h["a"])(u,r,n,!1,null,null,null),U=H.exports;T()(H,"components",{QPage:m["a"],QCard:p["a"],QCardSection:f["a"],QForm:g["a"],QList:b["a"],QExpansionItem:y["a"],QStepper:v["a"],QStep:I["a"],QStepperNavigation:C["a"],QBtn:q["a"],QSelect:x["a"],QItem:N["a"],QItemSection:E["a"],QInput:S["a"],QBanner:D["a"],QIcon:M["a"],QToggle:w["a"],QCardActions:_["a"],QSpinnerHourglass:L["a"],QPopupProxy:k["a"],QDate:R["a"],QBtnGroup:O["a"],QCheckbox:$["a"],QSpinnerCube:A["a"]}),T()(H,"directives",{ClosePopup:P["a"]});var Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-page",[i("div",{staticClass:"column q-pa-lg"},[i("div",{staticClass:"row justify-center"},[i("div",{staticClass:"col-lg-8 col-xs-12 col-sm-12"},[i("q-card",{staticClass:"shadow-24",staticStyle:{"max-height":"auto"},attrs:{square:""}},[i("q-card-section",[i("q-card",[i("q-card-section",{staticClass:"bg-primary"},[i("div",{staticClass:"text-h5 text-center text-weight-thin text-white"},[e._v("\n                    UERM VACCINE QUANTITY RESERVATION FORM FOR ALUMNI AND DEPENDENTS\n                  ")])]),e.loadingForm||0!=e.networkMessage.length?e._e():i("div",[i("q-card-section",[i("q-form",{ref:"reservationInformation",staticClass:"q-gutter-md",on:{submit:e.onSubmitReservationForm}},[i("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Introduction",caption:"Foreword for Alumni, Vaccine Information and Consent",group:"somegroup","default-opened":""},model:{value:e.expandedItem1,callback:function(t){e.expandedItem1=t},expression:"expandedItem1"}},[i("q-card",[i("q-card-section",[i("q-stepper",{attrs:{vertical:"",color:"primary",animated:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[i("q-step",{staticClass:"text-justify",attrs:{name:1,title:"Foreword",icon:"app_registration",done:e.step>1}},[i("div",{staticClass:"q-pa-md"},[e._v("\n                                    To the UERM Community,\n                                    "),i("br"),i("br"),e._v("\n                                    The Medical Center is accepting COVOVAX vaccine reservations for your family and household members. Please read the product information for more details on the vaccine.\n                                  ")]),i("hr",{staticClass:"q-mb-lg",staticStyle:{"border-top":"1px solid black"}}),i("div",{staticClass:"q-pa-md shadow-2"},[e._v("\n                                    Brand Name: COVOVAX\n                                    "),i("br"),e._v("\n                                    Developer: NOVAVAX, Inc. of Maryland, USA\n                                    "),i("br"),e._v("\n                                    Manufacturer: SERUM INSTITUTE OF INDIA (SII)\n                                    "),i("br"),e._v("\n                                    Philippine Partner of SII: FABERCO LIFE SCIENCE\n                                    "),i("br"),e._v("\n                                    Current Clinical Status: Phase 3 in EU and USA\n                                    "),i("br"),e._v("\n                                    UK Efficiency Rate: 89.3%\n                                    "),i("br"),e._v("\n                                    Storage: 2 - 8 degree Celsius\n                                    "),i("br"),e._v("\n                                    Dosing Schedule:  2 Doses required Day 0 and Day 21\n                                    "),i("br"),e._v("\n                                    Indicative price: P2,700.00 per person for two doses, inclusive of vaccine administration in UERM\n                                    "),i("br"),e._v("\n                                    Potential Supply in the Philippines: Q3 2021\n                                    "),i("br"),i("br"),e._v("\n                                    For more details about COVOVAX, please follow the link below:\n                                    "),i("br"),i("a",{attrs:{href:"https://ir.novavax.com/node/15506/pdf",target:"_blank"}},[e._v("https://ir.novavax.com/node/15506/pdf")]),i("br"),i("a",{attrs:{href:"http://bit.ly/3tH6RR0",target:"_blank"}},[e._v("http://bit.ly/3tH6RR0")])]),i("q-stepper-navigation",[i("q-btn",{attrs:{icon:"redo",color:"primary",label:"I Agree"},on:{click:function(t){return e.forwardStep(2)}}})],1)],1),i("q-step",{staticClass:"text-justify",attrs:{name:2,title:"Terms and Conditions",icon:"app_registration",done:e.step>2}},[i("div",[i("p",[e._v("\n                                      1. UERMMMCI will secure an allocation of vaccines based on the number of doses reserved.  Hence, your reservation will be considered a binding and demandable commitment to obtain the number of doses that you indicated once they are available.\n                                    ")]),i("p",[e._v("\n                                      2. The production of the vaccines and the allocation to UERMMMCI will depend on the manufacturer.  UERMMMCI does not guarantee that the number of doses reserved will be made available.\n                                    ")]),i("p",[e._v("\n                                      3. UERMMMCI reserves the right to procure a different brand of vaccine in case the supplies are not sufficient to fill in all the reservations.\n                                    ")]),i("p",[e._v("\n                                      4. The administration of the vaccines is subject to whatever directive that may be issued by the DOH, IATF, or the WHO such as prioritization of certain sectors.\n                                    ")]),i("p",[e._v("\n                                      5. The availability of the vaccines is subject to approval, authorization, or registration by the Food and Drug Administration, and to the execution of the tripartite agreement and compliance with requirements imposed by the Philippine Government.\n                                    ")]),i("p",[e._v("\n                                      6. The reservations are transferrable.\n                                    ")])]),i("q-stepper-navigation",[i("q-btn",{attrs:{icon:"redo",color:"primary",label:"I Agree"},on:{click:function(t){return e.continueExpansion("expandedItem2")}}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){return e.backwardStep(1)}}})],1)],1)],1)],1)],1)],1),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Referring Information",caption:"Alumni Information",group:"somegroup",disable:e.disableElement2},model:{value:e.expandedItem2,callback:function(t){e.expandedItem2=t},expression:"expandedItem2"}},[i("q-card",[i("q-card-section",[i("q-select",{ref:"college",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"College",options:e.collegeOptions,rules:[function(e){return e&&e.length>0||"Please enter your College"}]},on:{filter:e.filterCollege},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.referringInformation.college,callback:function(t){e.$set(e.referringInformation,"college",t)},expression:"referringInformation.college"}}),i("q-input",{ref:"firstName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"First Name",rules:[function(e){return e&&e.length>0||"Please enter your First Name"}],autocomplete:"off"},model:{value:e.referringInformation.firstName,callback:function(t){e.$set(e.referringInformation,"firstName",t)},expression:"referringInformation.firstName"}}),i("q-input",{staticClass:"q-pb-md",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Middle Name",autocomplete:"off"},model:{value:e.referringInformation.middleName,callback:function(t){e.$set(e.referringInformation,"middleName",t)},expression:"referringInformation.middleName"}}),i("q-input",{ref:"lastName",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Last Name",rules:[function(e){return e&&e.length>0||"Please enter your Last Name"}],autocomplete:"off"},model:{value:e.referringInformation.lastName,callback:function(t){e.$set(e.referringInformation,"lastName",t)},expression:"referringInformation.lastName"}}),i("q-select",{ref:"batch",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Batch",options:e.batchOptions,rules:[function(e){return e&&e.length>0||"Please enter your Batch"}],autocomplete:"off"},on:{filter:e.filterBatch},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.referringInformation.batch,callback:function(t){e.$set(e.referringInformation,"batch",t)},expression:"referringInformation.batch"}}),i("q-input",{ref:"email",attrs:{outlined:"",square:"",type:"email",color:"primary",label:"Email",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Email"},e.isValidEmail]},model:{value:e.referringInformation.email,callback:function(t){e.$set(e.referringInformation,"email",t)},expression:"referringInformation.email"}}),i("q-input",{ref:"contactNumber",attrs:{outlined:"",square:"",type:"number",label:"Contact Number",hint:"Your Contact Number (09*********)",color:"primary",autocomplete:"off",maxlength:"11",rules:[function(e){return e&&e.length>0||"Please enter Contact Number"},function(e){return e.length<=11||"Please enter valid contact number"}]},model:{value:e.referringInformation.contactNumber,callback:function(t){e.$set(e.referringInformation,"contactNumber",t)},expression:"referringInformation.contactNumber"}}),i("q-input",{ref:"fullAddress",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Full Address",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Full Address"}]},model:{value:e.referringInformation.fullAddress,callback:function(t){e.$set(e.referringInformation,"fullAddress",t)},expression:"referringInformation.fullAddress"}}),i("q-select",{ref:"region",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Region",options:e.regionListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Region"}]},on:{filter:e.filterRegion},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.referringInformation.region,callback:function(t){e.$set(e.referringInformation,"region",t)},expression:"referringInformation.region"}}),i("q-select",{ref:"province",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Province",options:e.provincesListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Province"}]},on:{filter:e.filterProvinces},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.referringInformation.province,callback:function(t){e.$set(e.referringInformation,"province",t)},expression:"referringInformation.province"}}),i("q-select",{ref:"city",attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"City",options:e.citiesListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter City"}]},on:{filter:e.filterCities},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                      No results\n                                    ")])],1)]},proxy:!0}],null,!1,1656043919),model:{value:e.referringInformation.city,callback:function(t){e.$set(e.referringInformation,"city",t)},expression:"referringInformation.city"}}),i("q-input",{ref:"barangay",attrs:{outlined:"",square:"",type:"text",color:"primary",label:"Barangay",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter your Barangay"}]},model:{value:e.referringInformation.barangay,callback:function(t){e.$set(e.referringInformation,"barangay",t)},expression:"referringInformation.barangay"}}),i("q-toggle",{attrs:{label:"Do you want to assign automatic Category ID Number for every Household Members?",color:"primary","false-value":"No","true-value":"Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.populateHouseholdCategory,callback:function(t){e.populateHouseholdCategory=t},expression:"populateHouseholdCategory"}}),i("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}})],1),i("div",{staticClass:"col-11"},[e._v("\n                                    By switching this, automatic assigning of Category ID Number for every Household Members are formatted as follows: "),i("br"),e._v(" LASTNAME-BATCH-DATETIMESTAMP-INCREMENTALNUMBER (EX. SANTOS-1954-202104021723-1)\n                                  ")])])]),i("br"),i("q-toggle",{attrs:{label:"Do you want to include yourself on the reservation?",color:"primary","false-value":"No","true-value":"Yes","checked-icon":"check","unchecked-icon":"clear"},model:{value:e.includeToReservation,callback:function(t){e.includeToReservation=t},expression:"includeToReservation"}})],1),i("q-card-actions",{staticClass:"flex flex-center"},[i("q-btn",{staticStyle:{width:"150px"},attrs:{loading:e.employeeLoading,disable:e.disableEmployeeButton,icon:"redo",color:"primary"},on:{click:function(t){return e.continueExpansion("expandedItem3")}},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                  Checking...\n                                ")]},proxy:!0}],null,!1,4053472789)},[i("span",{staticClass:"q-pl-md"},[e._v("Continue")])])],1)],1)],1),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Household Information",group:"somegroup",disable:e.disableElement3},model:{value:e.expandedItem3,callback:function(t){e.expandedItem3=t},expression:"expandedItem3"}},[i("q-card",[i("q-card-section",[i("div",{staticClass:"justify-center"},[i("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},e._l(e.householdInformation,(function(t,o){return i("div",{key:o},[i("q-expansion-item",{staticClass:"q-ma-md bg-grey text-white",attrs:{"expand-separator":"",icon:"person_add_alt",label:"Household Member #"+(o+1),caption:(null!==t.lastName?t.lastName+",":"")+" "+(null!==t.firstName?t.firstName:"")+"  "+(null!==t.middleName?t.middleName:""),group:"othergroup","default-opened":""}},[i("q-card",[i("q-card-section",{staticClass:"q-mb-md"},[i("div",{staticClass:"col-lg-12 q-pa-xs"},[i("q-input",{attrs:{outlined:"",square:"",type:"text",hint:"Company ID, Driver's License, UMID Card, Voter's ID, OSCA, Student ID, etc.",color:"primary",rules:[function(e){return e&&e.length>0||"Please enter Category ID Number"}],label:"Category ID Number",autocomplete:"off"},on:{focusout:function(i){return e.searchCategoryID(t.categoryIDNumber,o)}},model:{value:t.categoryIDNumber,callback:function(i){e.$set(t,"categoryIDNumber",i)},expression:"input.categoryIDNumber"}}),null!=t.categoryMessage?i("div",[t.categoryMessage.includes("ERROR:")?i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                                  "+e._s(t.categoryMessage.replace("ERROR:",""))+"\n                                                ")],1)],1):i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"check",size:"lg"}}),e._v("\n                                                  "+e._s(t.categoryMessage.replace("SUCCESS:",""))+"\n                                                ")],1)],1)]):e._e(),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Philhealth ID",hint:"If Philhealth not available, you may enter your Parent's Philhealth",color:"primary",autocomplete:"off"},model:{value:t.philhealthIDNumber,callback:function(i){e.$set(t,"philhealthIDNumber",i)},expression:"input.philhealthIDNumber"}}),i("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}}),e._v("\n                                              If you do not have Philhealth ID number, you may not be covered  by Indemnity law\n                                            ")],1),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"PWD ID",hint:"For PWD",color:"primary",autocomplete:"off"},model:{value:t.pwdID,callback:function(i){e.$set(t,"pwdID",i)},expression:"input.pwdID"}}),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"First Name",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter First Name"}]},model:{value:t.firstName,callback:function(i){e.$set(t,"firstName",i)},expression:"input.firstName"}}),i("q-input",{staticClass:"q-pb-sm",attrs:{outlined:"",square:"",type:"text",label:"Middle Name",color:"primary",autocomplete:"off"},model:{value:t.middleName,callback:function(i){e.$set(t,"middleName",i)},expression:"input.middleName"}}),i("q-input",{attrs:{outlined:"",square:"",type:"text",label:"Last Name",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Last Name"}]},model:{value:t.lastName,callback:function(i){e.$set(t,"lastName",i)},expression:"input.lastName"}}),i("q-input",{attrs:{outlined:"",square:"",type:"number",label:"Contact Number",hint:"Your Contact Number (09*********)",color:"primary",autocomplete:"off",maxlength:"11",rules:[function(e){return e&&e.length>0||"Please enter Contact Number"},function(e){return e.length<=11||"Please enter valid contact number"}]},model:{value:t.contactNumber,callback:function(i){e.$set(t,"contactNumber",i)},expression:"input.contactNumber"}}),i("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Gender",options:e.genderListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Gender"}]},on:{filter:e.filterGender},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                                    No results\n                                                  ")])],1)]},proxy:!0}],null,!0),model:{value:t.gender,callback:function(i){e.$set(t,"gender",i)},expression:"input.gender"}}),i("q-select",{attrs:{outlined:"",square:"","use-input":"","input-debounce":"0",label:"Civil Status",options:e.civilStatusListOptions,behavior:"menu","lazy-rules":"",color:"primary",autocomplete:"off",rules:[function(e){return e&&e.length>0||"Please enter Civil Status"}]},on:{filter:e.filterCivilStatus},scopedSlots:e._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[e._v("\n                                                    No results\n                                                  ")])],1)]},proxy:!0}],null,!0),model:{value:t.civilStatus,callback:function(i){e.$set(t,"civilStatus",i)},expression:"input.civilStatus"}}),i("q-input",{ref:"birthdate",refInFor:!0,attrs:{outlined:"",square:"",mask:"date",rules:["date"],label:"Birthdate",hint:"Your Birthdate (YYYY/MM/DD)",autocomplete:"off"},on:{focusout:function(i){return e.checkBirthdate(t.birthdate,o)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{model:{value:t.birthdate,callback:function(i){e.$set(t,"birthdate",i)},expression:"input.birthdate"}},[i("div",{staticClass:"row items-center justify-end"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!0),model:{value:t.birthdate,callback:function(i){e.$set(t,"birthdate",i)},expression:"input.birthdate"}}),i("q-banner",{staticClass:"text-white bg-orange q-ma-md",attrs:{"inline-actions":""}},[i("div",{staticClass:"row q-pa-sm"},[i("div",{staticClass:"col-1"},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"warning",size:"lg"}})],1),i("div",{staticClass:"col-11"},[e._v("\n                                                  Eligibility of vaccination for household members varies from 18 years old and above. Household Members that are 17 years old that are going to be 18 years old this year are also eligible.\n                                                ")])])]),null!=t.birthdayMessage?i("div",[t.birthdayMessage.includes("ERROR:")?i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                                  "+e._s(t.birthdayMessage.replace("ERROR:",""))+"\n                                                ")],1)],1):i("div",{staticClass:"q-pa-md"},[i("q-banner",{staticClass:"text-white bg-green",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"check",size:"lg"}}),e._v("\n                                                  "+e._s(t.birthdayMessage.replace("SUCCESS:",""))+"\n                                                ")],1)],1)]):e._e(),i("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.allergiesLists,"use-chips":"","stack-label":"",label:"Allergies"},model:{value:t.allergies,callback:function(i){e.$set(t,"allergies",i)},expression:"input.allergies"}}),i("q-select",{staticClass:"q-mt-md",attrs:{outlined:"",square:"",multiple:"",options:e.comorbiditiesLists,"use-chips":"","stack-label":"",label:"Comorbidities"},model:{value:t.comorbidities,callback:function(i){e.$set(t,"comorbidities",i)},expression:"input.comorbidities"}})],1)]),i("q-card-actions",{staticClass:"flex flex-center"},[i("q-btn",{attrs:{color:"negative",icon:"backspace",label:"Remove Household Member"},on:{click:function(t){return e.removeMember(o)}}})],1)],1)],1)],1)})),0)],1)]),e.householdErrorMessage.length>0?i("q-card-section",{staticClass:"text-center flex flex-center"},[i("q-banner",{staticClass:"text-white bg-red",staticStyle:{width:"50%"},attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                "+e._s(e.householdErrorMessage)+"\n                              ")],1)],1):e._e(),i("q-card-section",{staticClass:"text-center"},[i("q-btn-group",[i("q-btn",{attrs:{color:"primary",disable:e.householdLoading,label:"Add Household Member",icon:"add_circle"},on:{click:function(t){return e.addHousehold()}}}),i("q-btn",{staticStyle:{width:"150px"},attrs:{loading:e.householdLoading,disable:e.householdLoading,icon:"redo",color:"primary"},on:{click:function(t){return e.continueExpansion("expandedItem4")}},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                    Validating...\n                                  ")]},proxy:!0}],null,!1,2101668272)},[i("span",{staticClass:"q-pl-md"},[e._v("Continue")])])],1)],1)],1)],1),i("q-expansion-item",{attrs:{"expand-separator":"",icon:"perm_identity",label:"Submit my responses",group:"somegroup",disable:e.disableElement4},model:{value:e.expandedItem4,callback:function(t){e.expandedItem4=t},expression:"expandedItem4"}},[i("q-card",[i("q-card-section",{staticClass:"text-justify"},[i("q-checkbox",{attrs:{size:"xl",val:"xl",label:e.agreement},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}}),e.agreeError?i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                Please accept the terms and conditions.\n                              ")],1):e._e()],1),i("q-card-actions",{staticClass:"flex flex-center"},[i("q-btn",{staticClass:"q-ma-md",staticStyle:{width:"180px"},attrs:{type:"submit",loading:e.formLoading,icon:"save",color:"primary"},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner-hourglass",{staticClass:"on-left"}),e._v("\n                                  Submitting..\n                                ")]},proxy:!0}],null,!1,459560893)},[i("span",{staticClass:"q-pl-md"},[e._v("Submit")])])],1),i("q-card-section",{staticClass:"flex flex-center"},[e.serverError.length>0?i("q-banner",{staticClass:"text-white bg-red",attrs:{"inline-actions":""}},[i("q-icon",{staticClass:"q-pr-md",attrs:{name:"person_off",size:"lg"}}),e._v("\n                                Error Submitting: "+e._s(e.serverError)+"\n                              ")],1):e._e()],1)],1)],1)],1)],1)],1)],1),e.loadingForm?i("div",[i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12 flex flex-center"},[i("q-spinner-cube",{attrs:{color:"primary",size:"5.5em"}})],1),i("div",{staticClass:"col-lg-12 flex flex-center q-pt-md"},[i("div",{staticClass:"text-h5"},[e._v("\n                          CHECKING ACCESSIBILITY, PLEASE WAIT...\n                        ")])])])])],1):e._e(),!e.loadingForm&&e.networkMessage.length>0?i("div",[i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12 flex flex-center q-pt-md"},[i("q-banner",{staticClass:"text-white bg-red",attrs:{dense:"","inline-actions":""},scopedSlots:e._u([{key:"avatar",fn:function(){return[i("q-icon",{attrs:{name:"signal_wifi_off",color:"white"}})]},proxy:!0}],null,!1,2512574537)},[i("div",{staticClass:"text-h6"},[e._v("\n                            "+e._s(this.networkMessage)+"\n                          ")])])],1)])])],1):e._e()],1)],1)],1)],1)])])])],1)},Y=[],B=["CON - COLLEGE OF NURSING","COM - COLLEGE OF MEDICINE","CARES - COLLEGE OF ALLIED REHABILITATION SCIENCES","CAHP - COLLEGE OF ALLIED HEALTH PROFESSION"],z={name:"VaccineCommunityEmployee",data(){return{step:1,houseHoldStep:1,numberOfPeople:null,expandedItem1:!0,expandedItem2:!1,expandedItem3:!1,expandedItem4:!1,disableElement2:!0,disableElement3:!0,disableElement4:!0,disableEmployeeButton:null,employeeLoading:!1,householdErrorMessage:[],collegeOptions:B,collegeLists:B,batchOptions:[],batchLists:[],regionListOptions:[],regionLists:[],provincesListOptions:this.provinces,provincesLists:this.provinces,citiesListOptions:this.cities,citiesLists:this.cities,loadingForm:null,networkMessage:[],referringInformation:{categoryIDNumber:null,category:null,college:null,firstName:null,middleName:null,lastName:null,email:null,contactNumber:null,fullAddress:null,region:null,province:null,provinceRaw:null,city:null,barangay:null,batch:[]},householdInformation:[{firstName:null,middleName:null,lastName:null,birthdate:null,civilStatus:null,gender:null,philhealthIDNumber:null,pwdID:null,categoryIDNumber:null,contactNumber:null,comorbidities:null,allergies:null,categoryMessage:null,birthdayMessage:null}],categoryListOptions:this.categoryList,categoryIDOptions:this.categoryID,employeeErrorMessage:null,errorFormMessage:[],formLoading:null,rawComorbidities:null,rawAllergies:null,genderListOptions:null,genderLists:null,civilStatusListOptions:null,civilStatusLists:null,comorbiditiesLists:null,allergiesLists:null,populateHouseholdCategory:"No",includeToReservation:"No",householdLoading:!1,submitHouseholdInfo:!0,serverError:[],agree:!1,agreeError:!1,agreement:"I agree that by proceeding to answer this, I will submit all necessary data which, to the best of knowledge, are true and correct. I authorized University of the East Ramon Magsaysay Memorial medical Center, Inc., to collect and process the data indicated hereto for purpose of effecting control of the COVID-19 infection. I understand and acknowledge that my personal information is protected by RA 10173 Data Privacy Act of 2012 , and that I am required by RA 11332 Mandatory Reporting of Notifiable Diseases and Health Events of Public Health Concern Act to provide truthfull information."}},computed:l()({},Object(c["b"])({employeeCategory:"employeeCategory",employeeInformation:"employeeInformation",allergies:"allergies",comorbidities:"comorbidities",gender:"gender",civilStatus:"civilStatus",saveHouseholdMembers:"saveHouseholdMembers",householdInfo:"householdInfo",region:"region",provinces:"provinces",cities:"cities"})),mounted(){this.checkLocalNetwork()},watch:{referringInformation:{async handler(e){this.formatAddress(e)},deep:!0},populateHouseholdCategory(e){if("No"===e)for(var t=0;t<this.householdInformation.length;t++)this.householdInformation[t].categoryIDNumber=null,this.householdInformation[t].categoryMessage=null,this.householdErrorMessage=[];else for(var i=0;i<this.householdInformation.length;i++){const e=i+1;var o=new Date,a=o.getFullYear(),r=o.getMonth()+1,n=o.getDate(),s=o.getHours(),l=o.getMinutes();1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),1===s.toString().length&&(s="0"+s),1===l.toString().length&&(l="0"+l);var c=a+r+n+s+l;this.householdInformation[i].categoryIDNumber=`${this.referringInformation.lastName}-${this.referringInformation.batch}-${c}-${e}`}}},methods:{async checkLocalNetwork(){this.loadingForm=!0;try{var e=await fetch("https://10.107.5.253:3443/",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()));e.message.length>0&&(this.loadingForm=!1,this.networkMessage=[],this.formatMainForm())}catch(t){this.loadingForm=!1,this.networkMessage="YOU ARE NOT ALLOWED TO ACCESS THIS ANYMORE."}},async formatMainForm(){for(var e=[],t=0;t<this.gender.length;t++)e[t]=this.gender[t].name;this.genderLists=e;for(var i=[],o=0;o<this.civilStatus.length;o++)i[o]=this.civilStatus[o].name;this.civilStatusLists=i;for(var a=[],r=0;r<this.comorbidities.length;r++)a[r]=this.comorbidities[r].name;this.comorbiditiesLists=a;for(var n=[],s=0;s<this.allergies.length;s++)n[s]=this.allergies[s].name;this.allergiesLists=n;for(var l=[],c=0;c<this.region.length;c++)l[c]=this.region[c].name;this.regionLists=l;for(var d=[],u=2024,h=1950;h<=u;h++)d.push(h);this.batchLists=d},async formatAddress(e){if(e.batch=""+e.batch,null!==e.region){await this.$store.dispatch("getProvinces",e.region);for(var t=[],i=0;i<this.provinces.length;i++)"National Capital Region"===e.region?t[i]=this.provinces[i].provinceWithCity:t[i]=this.provinces[i].name;if(this.provincesListOptions=t,this.provincesLists=t,0!==this.provinces.length){var o="";if("National Capital Region"===e.region){var a=this.provinces.filter((t=>t.provinceWithCity===e.province));a.length>0&&(o=this.provinces.filter((e=>e.name===a[0].name)))}else o=this.provinces.filter((t=>t.name===e.province));if(void 0!==o&&o.length>0){await this.$store.dispatch("getCities",o[0].shortCode);for(var r=[],n=0;n<this.cities.length;n++)r[n]=this.cities[n].name;this.citiesListOptions=r,this.citiesLists=r}}}},forwardStep(e){this.step=e},backwardStep(e){this.step=e},async continueExpansion(e){if("expandedItem1"===e)this.expandedItem1=!0;else if("expandedItem2"===e)this.expandedItem2=!0,this.disableElement2=!1;else if("expandedItem3"===e){this.employeeLoading=!0;const e=this.$refs.college.validate(),d=this.$refs.firstName.validate(),u=this.$refs.lastName.validate(),h=this.$refs.fullAddress.validate(),m=this.$refs.region.validate(),p=this.$refs.province.validate(),f=this.$refs.city.validate(),g=this.$refs.barangay.validate(),b=this.$refs.batch.validate(),y=this.$refs.email.validate(),v=this.$refs.contactNumber.validate();if(e&&d&&u&&h&&m&&p&&f&&g&&b&&y&&v?(this.employeeLoading=!1,this.expandedItem3=!0,this.disableElement3=!1):this.employeeLoading=!1,"Yes"===this.includeToReservation){this.householdInformation=[];var t={firstName:this.referringInformation.firstName,middleName:this.referringInformation.middleName,lastName:this.referringInformation.lastName,birthdate:null,civilStatus:null,gender:null,philhealthIDNumber:null,pwdID:null,categoryIDNumber:null,contactNumber:null,comorbidities:null,allergies:null,categoryMessage:null,birthdayMessage:null};this.householdInformation.unshift(t)}if("Yes"===this.populateHouseholdCategory)for(var i=0;i<this.householdInformation.length;i++){const e=i+1;var o=new Date,a=o.getFullYear(),r=o.getMonth()+1,n=o.getDate(),s=o.getHours(),l=o.getMinutes();1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),1===s.toString().length&&(s="0"+s),1===l.toString().length&&(l="0"+l);var c=a+r+n+s+l;this.householdInformation[i].categoryIDNumber=`${this.referringInformation.lastName}-${this.referringInformation.batch}-${c}-${e}`}}else"expandedItem4"===e&&this.$refs.reservationInformation.validate().then((async e=>{if(e){this.householdLoading=!0;for(var t=0;t<this.householdInformation.length;t++){if(await this.checkBirthdate(this.householdInformation[t].birthdate,t),await this.searchCategoryID(this.householdInformation[t].categoryIDNumber,t),null!==this.householdInformation[t].categoryMessage&&this.householdInformation[t].categoryMessage.includes("ERROR:"))return this.householdErrorMessage="A Category ID of your household member exists.",this.submitHouseholdInfo=!1,this.expandedItem4=!1,this.disableElement4=!0,void(this.householdLoading=!1);if(null!==this.householdInformation[t].birthdayMessage&&this.householdInformation[t].birthdayMessage.includes("ERROR:"))return this.householdErrorMessage="The age of your household member is not eligible",this.submitHouseholdInfo=!1,this.expandedItem4=!1,this.disableElement4=!0,void(this.householdLoading=!1)}if(0===this.householdInformation.length)return this.householdErrorMessage="Please add at least one Household Member",void(this.householdLoading=!1);this.householdErrorMessage=[],this.householdLoading=!1,this.submitHouseholdInfo=!0,this.expandedItem4=!0,this.disableElement4=!1}}))},checkBirthdate(e,t){if(null!==this.householdInformation[t].birthdate){const e=this.householdInformation[t].birthdate;var i=new Date((new Date).getFullYear(),11,31),o=new Date(e),a=i.getFullYear()-o.getFullYear(),r=i.getMonth()-o.getMonth();if((r<0||0===r&&i.getDate()<o.getDate())&&a--,a>=17){var n=i.getMonth(),s=i.getDate(),l=new Date(parseInt(e.substring(0,4)),parseInt(e.substring(5,7))-1,parseInt(e.substring(8,10))),c=l.getMonth(),d=l.getDate(),u=c.toString()+d.toString(),h=n.toString()+s.toString();u===h?this.householdInformation[t].birthdayMessage=`SUCCESS: You are ${a} years old and is eligible for vaccination!`:17===a?u<h?Number(u)>0&&Number(u)<99?this.householdInformation[t].birthdayMessage="ERROR: Sorry you are not eligible!":this.householdInformation[t].birthdayMessage="SUCCESS: You are eligible!":this.householdInformation[t].birthdayMessage=`ERROR: Sorry, you're ${a} years old and is not eligible!`:this.householdInformation[t].birthdayMessage=a>=18?"SUCCESS: You are eligible!":`ERROR: Sorry, you are ${a} years old and is not eligible!`}else this.householdInformation[t].birthdayMessage=`ERROR: Sorry, you're ${a} years old and is not eligible!`}},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"},async searchEmployeeID(e){if(null!==e&&""!==e){const t=await this.$store.dispatch("checkEmployee",e);return 1===t.employeeFound?(this.employeeErrorMessage=null,this.disableEmployeeButton=!1,t.employeeFound):(this.expandedItem3=!1,this.disableElement3=!0,this.employeeErrorMessage="Invalid Employee. Please contact the UERM COVID Vaccine Team.",this.employeeLoading=!1,void(this.disableEmployeeButton=!0))}},addHousehold(){var e={firstName:null,middleName:null,lastName:null,birthdate:null,civilStatus:null,gender:null,philhealthIDNumber:null,pwdID:null,categoryIDNumber:null,contactNumber:null,comorbidities:null,allergies:null,categoryMessage:null,birthdayMessage:null};if(this.householdInformation.push(e),"Yes"===this.populateHouseholdCategory)for(var t=0;t<this.householdInformation.length;t++){const e=t+1;var i=new Date,o=i.getFullYear(),a=i.getMonth()+1,r=i.getDate(),n=i.getHours(),s=i.getMinutes();1===a.toString().length&&(a="0"+a),1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),1===s.toString().length&&(s="0"+s);var l=o+a+r+n+s;this.householdInformation[t].categoryIDNumber=`${this.referringInformation.lastName}-${this.referringInformation.batch}-${l}-${e}`}},async validateCategoryID(e,t){if(null!==this.householdInformation[t].categoryIDNumber&&""!==this.householdInformation[t].categoryIDNumber){const t=await this.$store.dispatch("checkEmployee",e);t.employeeFound}},async searchCategoryID(e,t){if(null!==this.householdInformation[t].categoryIDNumber)if(""!==this.householdInformation[t].categoryIDNumber){const o=await this.$store.dispatch("checkEmployee",e);if(0!==o.employeeFound)return this.householdInformation[t].categoryMessage=`ERROR: ${e} is already on our record. Please enter a different Category ID Number.`,this.expandedItem4=!1,void(this.disableElement4=!0);{const i=await this.$store.dispatch("checkVaccineeForApproval",e);if(0!==i.employeeFound)return this.householdInformation[t].categoryMessage=`ERROR: ${e} is already on our record. Please enter a different Category ID Number.`,this.expandedItem4=!1,void(this.disableElement4=!0);this.householdInformation[t].categoryMessage=`SUCCESS: ${e} is available and not on our record`}if(this.householdInformation[t].categoryIDNumber===this.referringInformation.categoryIDNumber)return this.householdInformation[t].categoryMessage=`ERROR: ${e} is already on our record. Please enter a different Category ID Number.`,this.expandedItem4=!1,void(this.disableElement4=!0);this.householdInformation[t].categoryMessage=`SUCCESS: ${e} is available and not on our record`;for(var i=0;i<this.householdInformation.length;i++)if(t===i)this.householdInformation[t].categoryMessage=`SUCCESS: ${e} is available and not on our record`;else{const o="categoryIDNumber";if(Object.prototype.hasOwnProperty.call(this.householdInformation[i],o)&&this.householdInformation[i].categoryIDNumber===e)return this.householdInformation[t].categoryMessage=`ERROR: ${e} already entered. Please enter a different Category ID Number.`,this.expandedItem4=!1,void(this.disableElement4=!0)}}else this.householdInformation[t].categoryMessage=null},removeMember(e){const t=Array.from(this.householdInformation);t.splice(e,1),this.householdInformation=t},onSubmitReservationForm(){var e=this.comorbidities,t=this.allergies,i=this.region,o=this.provinces,a=this.cities;this.$refs.reservationInformation.validate().then((async r=>{if(r)try{if(this.submitHouseholdInfo){for(var n of(this.formLoading=!0,this.householdInformation)){if(!this.agree)return this.agreeError=!0,void(this.formLoading=!1);this.agreeError=!1;var s=[];void 0!==n.comorbidities&&null!==n.comorbidities&&n.comorbidities.forEach((function(t,i){const o=e.filter((e=>e.name===t));s.push(o[0].code)}));var l=[];void 0!==n.allergies&&null!==n.allergies&&n.allergies.forEach((function(e,i){const o=t.filter((t=>t.name===e));l.push(o[0].code)}));var c=`UERM-${n.categoryIDNumber}-ALUMNI`;const r=this.gender.filter((e=>e.name===n.gender)),m=this.civilStatus.filter((e=>e.name===n.civilStatus)),p=new Date(n.birthdate),f=new Intl.DateTimeFormat("en",{year:"numeric"}).format(p),g=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(p),b=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(p),y=`${f}/${g}/${b}`,v=i.filter((e=>e.name===this.referringInformation.region));var d="";if("National Capital Region"===this.referringInformation.region){var u=this.provinces.filter((e=>e.provinceWithCity===this.referringInformation.province));u.length>0&&(d=o.filter((e=>e.name===u[0].name)))}else d=o.filter((e=>e.name===this.referringInformation.province));const I=a.filter((e=>e.name===this.referringInformation.city)),C={category:"06_Other",categoryID:"04_Other_ID",categoryIDNumber:n.categoryIDNumber,philhealthIDNumber:n.philhealthIDNumber,pwdID:n.pwdID,contactNumber:n.contactNumber,firstName:n.firstName,lastName:n.lastName,middleName:n.middleName,birthdate:y,sex:r[0].code,civilStatus:m[0].code,fullAddress:this.referringInformation.fullAddress,profession:"19_Others_",region:v[0].code,province:d[0].Province,city:I[0].TownCity,barangay:this.referringInformation.barangay,comorbidities:s,allergies:l,householdMemberCategory:this.$route.params.id,referringCategory:`Alumni-Batch-${this.referringInformation.batch}`,referringEmployeeID:`${this.referringInformation.lastName}-${this.referringInformation.firstName}-${this.referringInformation.middleName}-${this.referringInformation.batch}-ALUMNI`,referringEmployeeName:`${this.referringInformation.lastName}, ${this.referringInformation.firstName} ${this.referringInformation.middleName}`,referringEmployeeEmail:this.referringInformation.email,referringEmployeeContactNumber:this.referringInformation.contactNumber,referringCollege:this.referringInformation.college,qrCode:c};var h=await this.$store.dispatch("saveHouseholdMember",C)}void 0!==h.message?this.$router.push("/vaccination-community-status"):void 0!==h.error&&(this.serverError=`${h.error}`),this.formLoading=!1}}catch(m){this.serverError=`${m}`,this.formLoading=!1}else this.formHasError=!0}))},filterCategoryID(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.categoryIDOptions=this.employeeCategory.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.categoryIDOptions=this.employeeCategory})},filterGender(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.genderListOptions=this.genderLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.genderListOptions=this.genderLists})},filterCivilStatus(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.civilStatusListOptions=this.civilStatusLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.civilStatusListOptions=this.civilStatusLists})},filterRegion(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.regionListOptions=this.regionLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.regionListOptions=this.regionLists,this.referringInformation.province=[],this.referringInformation.city=[],this.citiesListOptions=[],this.citiesLists=[]})},filterProvinces(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.provincesListOptions=this.provincesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.provincesListOptions=this.provincesLists,this.referringInformation.city=[],this.citiesListOptions=[],this.citiesLists=[]})},filterCities(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.citiesListOptions=this.citiesLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.citiesListOptions=this.citiesLists})},filterBatch(e,t){t(""!==e?()=>{const t=e,i=this.batchLists.map(String);this.batchOptions=i.filter((e=>e.indexOf(t)>-1))}:()=>{this.batchOptions=this.batchLists})},filterCollege(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.collegeOptions=this.collegeLists.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{this.collegeOptions=this.collegeLists})}}},V=z,j=Object(h["a"])(V,Q,Y,!1,null,null,null),G=j.exports;T()(j,"components",{QPage:m["a"],QCard:p["a"],QCardSection:f["a"],QForm:g["a"],QList:b["a"],QExpansionItem:y["a"],QStepper:v["a"],QStep:I["a"],QStepperNavigation:C["a"],QBtn:q["a"],QInput:S["a"],QBanner:D["a"],QIcon:M["a"],QSelect:x["a"],QItem:N["a"],QItemSection:E["a"],QToggle:w["a"],QCardActions:_["a"],QSpinnerHourglass:L["a"],QPopupProxy:k["a"],QDate:R["a"],QBtnGroup:O["a"],QCheckbox:$["a"],QSpinnerCube:A["a"]}),T()(j,"directives",{ClosePopup:P["a"]});var W={components:{Employee:U,Alumni:G},name:"VaccinationCommunity",data(){return{vaccinationInfo:this.$route.params.id}},mounted(){this.setFillUpStatus()},methods:{async setFillUpStatus(){await this.$store.dispatch("setFillupStatus"),await this.$store.dispatch("disableElement")}}},X=W,K=Object(h["a"])(X,o,a,!1,null,null,null);t["default"]=K.exports;T()(K,"components",{QPage:m["a"]})}}]);